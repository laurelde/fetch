(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function N(){}function Dt(r,t){for(const e in t)r[e]=t[e];return r}function Sn(r){return r()}function Ht(){return Object.create(null)}function We(r){r.forEach(Sn)}function Rt(r){return typeof r=="function"}function ee(r,t){return r!=r?t==t:r!==t||r&&typeof r=="object"||typeof r=="function"}let nt;function kt(r,t){return nt||(nt=document.createElement("a")),nt.href=t,r===nt.href}function ii(r){return Object.keys(r).length===0}function ri(r,...t){if(r==null)return N;const e=r.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Tn(r,t,e,n){if(r){const i=Ln(r,t,e,n);return r[0](i)}}function Ln(r,t,e,n){return r[1]&&n?Dt(e.ctx.slice(),r[1](n(t))):e.ctx}function On(r,t,e,n){if(r[2]&&n){const i=r[2](n(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(t.dirty.length,i.length);for(let a=0;a<s;a+=1)o[a]=t.dirty[a]|i[a];return o}return t.dirty|i}return t.dirty}function Dn(r,t,e,n,i,o){if(i){const s=Ln(t,e,n,o);r.p(s,i)}}function Rn(r){if(r.ctx.length>32){const t=[],e=r.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}function d(r,t){r.appendChild(t)}function w(r,t,e){r.insertBefore(t,e||null)}function M(r){r.parentNode&&r.parentNode.removeChild(r)}function dt(r,t){for(let e=0;e<r.length;e+=1)r[e]&&r[e].d(t)}function I(r){return document.createElement(r)}function W(r){return document.createTextNode(r)}function L(){return W(" ")}function De(){return W("")}function Ke(r,t,e,n){return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e,n)}function oi(r){return function(t){return t.preventDefault(),r.call(this,t)}}function p(r,t,e){e==null?r.removeAttribute(t):r.getAttribute(t)!==e&&r.setAttribute(t,e)}function si(r){return Array.from(r.childNodes)}function Q(r,t){t=""+t,r.data!==t&&(r.data=t)}function ai(r,t,{bubbles:e=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(r,e,n,t),i}function at(r,t){return new r(t)}let Ye;function Ze(r){Ye=r}function ft(){if(!Ye)throw new Error("Function called outside component initialization");return Ye}function Re(r){ft().$$.on_mount.push(r)}function li(r){ft().$$.after_update.push(r)}function xn(r){ft().$$.on_destroy.push(r)}function xe(){const r=ft();return(t,e,{cancelable:n=!1}={})=>{const i=r.$$.callbacks[t];if(i){const o=ai(t,e,{cancelable:n});return i.slice().forEach(s=>{s.call(r,o)}),!o.defaultPrevented}return!0}}function Bt(r,t){const e=r.$$.callbacks[t.type];e&&e.slice().forEach(n=>n.call(this,t))}const Ve=[],Ut=[];let $e=[];const Vt=[],Mn=Promise.resolve();let It=!1;function wn(){It||(It=!0,Mn.then(Nn))}function Fn(){return wn(),Mn}function bt(r){$e.push(r)}const mt=new Set;let Be=0;function Nn(){if(Be!==0)return;const r=Ye;do{try{for(;Be<Ve.length;){const t=Ve[Be];Be++,Ze(t),ui(t.$$)}}catch(t){throw Ve.length=0,Be=0,t}for(Ze(null),Ve.length=0,Be=0;Ut.length;)Ut.pop()();for(let t=0;t<$e.length;t+=1){const e=$e[t];mt.has(e)||(mt.add(e),e())}$e.length=0}while(Ve.length);for(;Vt.length;)Vt.pop()();It=!1,mt.clear(),Ze(r)}function ui(r){if(r.fragment!==null){r.update(),We(r.before_update);const t=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(bt)}}function ci(r){const t=[],e=[];$e.forEach(n=>r.indexOf(n)===-1?t.push(n):e.push(n)),e.forEach(n=>n()),$e=t}const ot=new Set;let ke;function le(){ke={r:0,c:[],p:ke}}function ue(){ke.r||We(ke.c),ke=ke.p}function O(r,t){r&&r.i&&(ot.delete(r),r.i(t))}function D(r,t,e,n){if(r&&r.o){if(ot.has(r))return;ot.add(r),ke.c.push(()=>{ot.delete(r),n&&(e&&r.d(1),n())}),r.o(t)}else n&&n()}function Pn(r,t){const e={},n={},i={$$scope:1};let o=r.length;for(;o--;){const s=r[o],a=t[o];if(a){for(const l in s)l in a||(n[l]=1);for(const l in a)i[l]||(e[l]=a[l],i[l]=1);r[o]=a}else for(const l in s)i[l]=1}for(const s in n)s in e||(e[s]=void 0);return e}function Hn(r){return typeof r=="object"&&r!==null?r:{}}function j(r){r&&r.c()}function V(r,t,e,n){const{fragment:i,after_update:o}=r.$$;i&&i.m(t,e),n||bt(()=>{const s=r.$$.on_mount.map(Sn).filter(Rt);r.$$.on_destroy?r.$$.on_destroy.push(...s):We(s),r.$$.on_mount=[]}),o.forEach(bt)}function G(r,t){const e=r.$$;e.fragment!==null&&(ci(e.after_update),We(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function di(r,t){r.$$.dirty[0]===-1&&(Ve.push(r),wn(),r.$$.dirty.fill(0)),r.$$.dirty[t/31|0]|=1<<t%31}function de(r,t,e,n,i,o,s,a=[-1]){const l=Ye;Ze(r);const u=r.$$={fragment:null,ctx:[],props:o,update:N,not_equal:i,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Ht(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};s&&s(u.root);let c=!1;if(u.ctx=e?e(r,t.props||{},(f,v,...m)=>{const b=m.length?m[0]:v;return u.ctx&&i(u.ctx[f],u.ctx[f]=b)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](b),c&&di(r,f)),v}):[],u.update(),c=!0,We(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const f=si(t.target);u.fragment&&u.fragment.l(f),f.forEach(M)}else u.fragment&&u.fragment.c();t.intro&&O(r.$$.fragment),V(r,t.target,t.anchor,t.customElement),Nn()}Ze(l)}class fe{$destroy(){G(this,1),this.$destroy=N}$on(t,e){if(!Rt(e))return N;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const i=n.indexOf(e);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!ii(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ue=[];function kn(r,t){return{subscribe:Bn(r,t).subscribe}}function Bn(r,t=N){let e;const n=new Set;function i(a){if(ee(r,a)&&(r=a,e)){const l=!Ue.length;for(const u of n)u[1](),Ue.push(u,r);if(l){for(let u=0;u<Ue.length;u+=2)Ue[u][0](Ue[u+1]);Ue.length=0}}}function o(a){i(a(r))}function s(a,l=N){const u=[a,l];return n.add(u),n.size===1&&(e=t(i)||N),a(r),()=>{n.delete(u),n.size===0&&e&&(e(),e=null)}}return{set:i,update:o,subscribe:s}}function Un(r,t,e){const n=!Array.isArray(r),i=n?[r]:r,o=t.length<2;return kn(e,s=>{let a=!1;const l=[];let u=0,c=N;const f=()=>{if(u)return;c();const m=t(n?l[0]:l,s);o?s(m):c=Rt(m)?m:N},v=i.map((m,b)=>ri(m,A=>{l[b]=A,u&=~(1<<b),a&&f()},()=>{u|=1<<b}));return a=!0,f(),function(){We(v),c(),a=!1}})}function fi(r,t){if(r instanceof RegExp)return{keys:!1,pattern:r};var e,n,i,o,s=[],a="",l=r.split("/");for(l[0]||l.shift();i=l.shift();)e=i[0],e==="*"?(s.push("wild"),a+="/(.*)"):e===":"?(n=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~n?n:~o?o:i.length)),a+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~n?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}function hi(r){let t,e,n;const i=[r[2]];var o=r[0];function s(a){let l={};for(let u=0;u<i.length;u+=1)l=Dt(l,i[u]);return{props:l}}return o&&(t=at(o,s()),t.$on("routeEvent",r[7])),{c(){t&&j(t.$$.fragment),e=De()},m(a,l){t&&V(t,a,l),w(a,e,l),n=!0},p(a,l){const u=l&4?Pn(i,[Hn(a[2])]):{};if(l&1&&o!==(o=a[0])){if(t){le();const c=t;D(c.$$.fragment,1,0,()=>{G(c,1)}),ue()}o?(t=at(o,s()),t.$on("routeEvent",a[7]),j(t.$$.fragment),O(t.$$.fragment,1),V(t,e.parentNode,e)):t=null}else o&&t.$set(u)},i(a){n||(t&&O(t.$$.fragment,a),n=!0)},o(a){t&&D(t.$$.fragment,a),n=!1},d(a){a&&M(e),t&&G(t,a)}}}function pi(r){let t,e,n;const i=[{params:r[1]},r[2]];var o=r[0];function s(a){let l={};for(let u=0;u<i.length;u+=1)l=Dt(l,i[u]);return{props:l}}return o&&(t=at(o,s()),t.$on("routeEvent",r[6])),{c(){t&&j(t.$$.fragment),e=De()},m(a,l){t&&V(t,a,l),w(a,e,l),n=!0},p(a,l){const u=l&6?Pn(i,[l&2&&{params:a[1]},l&4&&Hn(a[2])]):{};if(l&1&&o!==(o=a[0])){if(t){le();const c=t;D(c.$$.fragment,1,0,()=>{G(c,1)}),ue()}o?(t=at(o,s()),t.$on("routeEvent",a[6]),j(t.$$.fragment),O(t.$$.fragment,1),V(t,e.parentNode,e)):t=null}else o&&t.$set(u)},i(a){n||(t&&O(t.$$.fragment,a),n=!0)},o(a){t&&D(t.$$.fragment,a),n=!1},d(a){a&&M(e),t&&G(t,a)}}}function mi(r){let t,e,n,i;const o=[pi,hi],s=[];function a(l,u){return l[1]?0:1}return t=a(r),e=s[t]=o[t](r),{c(){e.c(),n=De()},m(l,u){s[t].m(l,u),w(l,n,u),i=!0},p(l,[u]){let c=t;t=a(l),t===c?s[t].p(l,u):(le(),D(s[c],1,1,()=>{s[c]=null}),ue(),e=s[t],e?e.p(l,u):(e=s[t]=o[t](l),e.c()),O(e,1),e.m(n.parentNode,n))},i(l){i||(O(e),i=!0)},o(l){D(e),i=!1},d(l){s[t].d(l),l&&M(n)}}}function Gt(){const r=window.location.href.indexOf("#/");let t=r>-1?window.location.href.substr(r+1):"/";const e=t.indexOf("?");let n="";return e>-1&&(n=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:n}}const xt=kn(null,function(t){t(Gt());const e=()=>{t(Gt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}});Un(xt,r=>r.location);Un(xt,r=>r.querystring);const $t=Bn(void 0);function gi(r){r?window.scrollTo(r.__svelte_spa_router_scrollX,r.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function vi(r,t,e){let{routes:n={}}=t,{prefix:i=""}=t,{restoreScrollState:o=!1}=t;class s{constructor(E,h){if(!h||typeof h!="function"&&(typeof h!="object"||h._sveltesparouter!==!0))throw Error("Invalid component object");if(!E||typeof E=="string"&&(E.length<1||E.charAt(0)!="/"&&E.charAt(0)!="*")||typeof E=="object"&&!(E instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:S,keys:P}=fi(E);this.path=E,typeof h=="object"&&h._sveltesparouter===!0?(this.component=h.component,this.conditions=h.conditions||[],this.userData=h.userData,this.props=h.props||{}):(this.component=()=>Promise.resolve(h),this.conditions=[],this.props={}),this._pattern=S,this._keys=P}match(E){if(i){if(typeof i=="string")if(E.startsWith(i))E=E.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const Z=E.match(i);if(Z&&Z[0])E=E.substr(Z[0].length)||"/";else return null}}const h=this._pattern.exec(E);if(h===null)return null;if(this._keys===!1)return h;const S={};let P=0;for(;P<this._keys.length;){try{S[this._keys[P]]=decodeURIComponent(h[P+1]||"")||null}catch{S[this._keys[P]]=null}P++}return S}async checkConditions(E){for(let h=0;h<this.conditions.length;h++)if(!await this.conditions[h](E))return!1;return!0}}const a=[];n instanceof Map?n.forEach((g,E)=>{a.push(new s(E,g))}):Object.keys(n).forEach(g=>{a.push(new s(g,n[g]))});let l=null,u=null,c={};const f=xe();async function v(g,E){await Fn(),f(g,E)}let m=null,b=null;o&&(b=g=>{g.state&&(g.state.__svelte_spa_router_scrollY||g.state.__svelte_spa_router_scrollX)?m=g.state:m=null},window.addEventListener("popstate",b),li(()=>{gi(m)}));let A=null,y=null;const T=xt.subscribe(async g=>{A=g;let E=0;for(;E<a.length;){const h=a[E].match(g.location);if(!h){E++;continue}const S={route:a[E].path,location:g.location,querystring:g.querystring,userData:a[E].userData,params:h&&typeof h=="object"&&Object.keys(h).length?h:null};if(!await a[E].checkConditions(S)){e(0,l=null),y=null,v("conditionsFailed",S);return}v("routeLoading",Object.assign({},S));const P=a[E].component;if(y!=P){P.loading?(e(0,l=P.loading),y=P,e(1,u=P.loadingParams),e(2,c={}),v("routeLoaded",Object.assign({},S,{component:l,name:l.name,params:u}))):(e(0,l=null),y=null);const Z=await P();if(g!=A)return;e(0,l=Z&&Z.default||Z),y=P}h&&typeof h=="object"&&Object.keys(h).length?e(1,u=h):e(1,u=null),e(2,c=a[E].props),v("routeLoaded",Object.assign({},S,{component:l,name:l.name,params:u})).then(()=>{$t.set(u)});return}e(0,l=null),y=null,$t.set(void 0)});xn(()=>{T(),b&&window.removeEventListener("popstate",b)});function C(g){Bt.call(this,r,g)}function _(g){Bt.call(this,r,g)}return r.$$set=g=>{"routes"in g&&e(3,n=g.routes),"prefix"in g&&e(4,i=g.prefix),"restoreScrollState"in g&&e(5,o=g.restoreScrollState)},r.$$.update=()=>{r.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,u,c,n,i,o,C,_]}class Ei extends fe{constructor(t){super(),de(this,t,vi,mi,ee,{routes:3,prefix:4,restoreScrollState:5})}}var yt=function(r,t){return yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},yt(r,t)};function B(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yt(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var x=function(){return x=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},x.apply(this,arguments)};function ae(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}function Vn(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ne=function(){function r(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(r,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.destroy=function(){},r}();/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var re=function(){function r(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.root=t,this.initialize.apply(this,Vn([],Ct(n))),this.foundation=e===void 0?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return r.attachTo=function(t){return new r(t,new ne({}))},r.prototype.initialize=function(){},r.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},r.prototype.initialSyncWithDOM=function(){},r.prototype.destroy=function(){this.foundation.destroy()},r.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},r.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},r.prototype.emit=function(t,e,n){n===void 0&&(n=!1);var i;typeof CustomEvent=="function"?i=new CustomEvent(t,{bubbles:n,detail:e}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,n,!1,e)),this.root.dispatchEvent(i)},r}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Le(r){return r===void 0&&(r=window),Ii(r)?{passive:!0}:!1}function Ii(r){r===void 0&&(r=window);var t=!1;try{var e={get passive(){return t=!0,!1}},n=function(){};r.document.addEventListener("test",n,e),r.document.removeEventListener("test",n,e)}catch{t=!1}return t}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function lt(r,t){if(r.closest)return r.closest(t);for(var e=r;e;){if(Ce(e,t))return e;e=e.parentElement}return null}function Ce(r,t){var e=r.matches||r.webkitMatchesSelector||r.msMatchesSelector;return e.call(r,t)}function bi(r){var t=r;if(t.offsetParent!==null)return t.scrollWidth;var e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);var n=e.scrollWidth;return document.documentElement.removeChild(e),n}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yi={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Gn=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.shakeAnimationEndHandler=function(){n.handleShakeAnimationEnd()},n}return Object.defineProperty(t,"cssClasses",{get:function(){return yi},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(e){var n=t.cssClasses.LABEL_SHAKE;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.float=function(e){var n=t.cssClasses,i=n.LABEL_FLOAT_ABOVE,o=n.LABEL_SHAKE;e?this.adapter.addClass(i):(this.adapter.removeClass(i),this.adapter.removeClass(o))},t.prototype.setRequired=function(e){var n=t.cssClasses.LABEL_REQUIRED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleShakeAnimationEnd=function(){var e=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(e)},t}(ne);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var $n=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},t.prototype.shake=function(e){this.foundation.shake(e)},t.prototype.float=function(e){this.foundation.float(e)},t.prototype.setRequired=function(e){this.foundation.setRequired(e)},t.prototype.getWidth=function(){return this.foundation.getWidth()},t.prototype.getDefaultFoundation=function(){var e=this,n={addClass:function(i){return e.root.classList.add(i)},removeClass:function(i){return e.root.classList.remove(i)},getWidth:function(){return bi(e.root)},registerInteractionHandler:function(i,o){return e.listen(i,o)},deregisterInteractionHandler:function(i,o){return e.unlisten(i,o)}};return new Gn(n)},t}(re);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fe={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ci=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.transitionEndHandler=function(i){n.handleTransitionEnd(i)},n}return Object.defineProperty(t,"cssClasses",{get:function(){return Fe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(Fe.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Fe.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(e){this.adapter.setStyle("transform-origin",e+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Fe.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(e){var n=this.adapter.hasClass(Fe.LINE_RIPPLE_DEACTIVATING);e.propertyName==="opacity"&&n&&(this.adapter.removeClass(Fe.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Fe.LINE_RIPPLE_DEACTIVATING))},t}(ne);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var jn=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.setRippleCenter=function(e){this.foundation.setRippleCenter(e)},t.prototype.getDefaultFoundation=function(){var e=this,n={addClass:function(i){return e.root.classList.add(i)},removeClass:function(i){return e.root.classList.remove(i)},hasClass:function(i){return e.root.classList.contains(i)},setStyle:function(i,o){return e.root.style.setProperty(i,o)},registerEventHandler:function(i,o){return e.listen(i,o)},deregisterEventHandler:function(i,o){return e.unlisten(i,o)}};return new Ci(n)},t}(re);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var qn={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},jt={NOTCH_ELEMENT_PADDING:8},_t={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var _i=function(r){B(t,r);function t(e){return r.call(this,x(x({},t.defaultAdapter),e))||this}return Object.defineProperty(t,"strings",{get:function(){return qn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return _t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return jt},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(e){var n=t.cssClasses.OUTLINE_NOTCHED;e>0&&(e+=jt.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(e),this.adapter.addClass(n)},t.prototype.closeNotch=function(){var e=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(e),this.adapter.removeNotchWidthProperty()},t}(ne);/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Wn=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.notchElement=this.root.querySelector(qn.NOTCH_ELEMENT_SELECTOR);var e=this.root.querySelector("."+Gn.cssClasses.ROOT);e?(e.style.transitionDuration="0s",this.root.classList.add(_t.OUTLINE_UPGRADED),requestAnimationFrame(function(){e.style.transitionDuration=""})):this.root.classList.add(_t.NO_LABEL)},t.prototype.notch=function(e){this.foundation.notch(e)},t.prototype.closeNotch=function(){this.foundation.closeNotch()},t.prototype.getDefaultFoundation=function(){var e=this,n={addClass:function(i){return e.root.classList.add(i)},removeClass:function(i){return e.root.classList.remove(i)},setNotchWidthProperty:function(i){e.notchElement.style.setProperty("width",i+"px")},removeNotchWidthProperty:function(){e.notchElement.style.removeProperty("width")}};return new _i(n)},t}(re);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ai={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Si={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},qt={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},it;function Ti(r,t){t===void 0&&(t=!1);var e=r.CSS,n=it;if(typeof it=="boolean"&&!t)return it;var i=e&&typeof e.supports=="function";if(!i)return!1;var o=e.supports("--css-vars","yes"),s=e.supports("(--css-vars: yes)")&&e.supports("color","#00000000");return n=o||s,t||(it=n),n}function Li(r,t,e){if(!r)return{x:0,y:0};var n=t.x,i=t.y,o=n+e.left,s=i+e.top,a,l;if(r.type==="touchstart"){var u=r;a=u.changedTouches[0].pageX-o,l=u.changedTouches[0].pageY-s}else{var c=r;a=c.pageX-o,l=c.pageY-s}return{x:a,y:l}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Wt=["touchstart","pointerdown","mousedown","keydown"],Kt=["touchend","pointerup","mouseup","contextmenu"],rt=[],Mt=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.activationAnimationHasEnded=!1,n.activationTimer=0,n.fgDeactivationRemovalTimer=0,n.fgScale="0",n.frame={width:0,height:0},n.initialSize=0,n.layoutFrame=0,n.maxRadius=0,n.unboundedCoords={left:0,top:0},n.activationState=n.defaultActivationState(),n.activationTimerCallback=function(){n.activationAnimationHasEnded=!0,n.runDeactivationUXLogicIfReady()},n.activateHandler=function(i){n.activateImpl(i)},n.deactivateHandler=function(){n.deactivateImpl()},n.focusHandler=function(){n.handleFocus()},n.blurHandler=function(){n.handleBlur()},n.resizeHandler=function(){n.layout()},n}return Object.defineProperty(t,"cssClasses",{get:function(){return Ai},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Si},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return qt},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple();if(this.registerRootHandlers(n),n){var i=t.cssClasses,o=i.ROOT,s=i.UNBOUNDED;requestAnimationFrame(function(){e.adapter.addClass(o),e.adapter.isUnbounded()&&(e.adapter.addClass(s),e.layoutInternal())})}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,i=n.ROOT,o=n.UNBOUNDED;requestAnimationFrame(function(){e.adapter.removeClass(i),e.adapter.removeClass(o),e.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(e){this.activateImpl(e)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var e=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){e.layoutInternal(),e.layoutFrame=0})},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame(function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame(function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(e){var n,i;if(e){try{for(var o=ae(Wt),s=o.next();!s.done;s=o.next()){var a=s.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(e){var n,i;if(e.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var o=ae(Kt),s=o.next();!s.done;s=o.next()){var a=s.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.deregisterRootHandlers=function(){var e,n;try{for(var i=ae(Wt),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.deregisterInteractionHandler(s,this.activateHandler)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var e,n;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var i=ae(Kt),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.deregisterDocumentInteractionHandler(s,this.deactivateHandler)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.removeCssVars=function(){var e=this,n=t.strings,i=Object.keys(n);i.forEach(function(o){o.indexOf("VAR_")===0&&e.adapter.updateCssVariable(n[o],null)})},t.prototype.activateImpl=function(e){var n=this;if(!this.adapter.isSurfaceDisabled()){var i=this.activationState;if(!i.isActivated){var o=this.previousActivationEvent,s=o&&e!==void 0&&o.type!==e.type;if(!s){i.isActivated=!0,i.isProgrammatic=e===void 0,i.activationEvent=e,i.wasActivatedByPointer=i.isProgrammatic?!1:e!==void 0&&(e.type==="mousedown"||e.type==="touchstart"||e.type==="pointerdown");var a=e!==void 0&&rt.length>0&&rt.some(function(l){return n.adapter.containsEventTarget(l)});if(a){this.resetActivationState();return}e!==void 0&&(rt.push(e.target),this.registerDeactivationHandlers(e)),i.wasElementMadeActive=this.checkElementMadeActive(e),i.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){rt=[],!i.wasElementMadeActive&&e!==void 0&&(e.key===" "||e.keyCode===32)&&(i.wasElementMadeActive=n.checkElementMadeActive(e),i.wasElementMadeActive&&n.animateActivation()),i.wasElementMadeActive||(n.activationState=n.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(e){return e!==void 0&&e.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var e=this,n=t.strings,i=n.VAR_FG_TRANSLATE_START,o=n.VAR_FG_TRANSLATE_END,s=t.cssClasses,a=s.FG_DEACTIVATION,l=s.FG_ACTIVATION,u=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var c="",f="";if(!this.adapter.isUnbounded()){var v=this.getFgTranslationCoordinates(),m=v.startPoint,b=v.endPoint;c=m.x+"px, "+m.y+"px",f=b.x+"px, "+b.y+"px"}this.adapter.updateCssVariable(i,c),this.adapter.updateCssVariable(o,f),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){e.activationTimerCallback()},u)},t.prototype.getFgTranslationCoordinates=function(){var e=this.activationState,n=e.activationEvent,i=e.wasActivatedByPointer,o;i?o=Li(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):o={x:this.frame.width/2,y:this.frame.height/2},o={x:o.x-this.initialSize/2,y:o.y-this.initialSize/2};var s={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:o,endPoint:s}},t.prototype.runDeactivationUXLogicIfReady=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,i=this.activationState,o=i.hasDeactivationUXRun,s=i.isActivated,a=o||!s;a&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer=setTimeout(function(){e.adapter.removeClass(n)},qt.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var e=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return e.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var e=this,n=this.activationState;if(n.isActivated){var i=x({},n);n.isProgrammatic?(requestAnimationFrame(function(){e.animateDeactivation(i)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){e.activationState.hasDeactivationUXRun=!0,e.animateDeactivation(i),e.resetActivationState()}))}},t.prototype.animateDeactivation=function(e){var n=e.wasActivatedByPointer,i=e.wasElementMadeActive;(n||i)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var e=this;this.frame=this.adapter.computeBoundingRect();var n=Math.max(this.frame.height,this.frame.width),i=function(){var s=Math.sqrt(Math.pow(e.frame.width,2)+Math.pow(e.frame.height,2));return s+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?n:i();var o=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&o%2!==0?this.initialSize=o-1:this.initialSize=o,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var e=t.strings,n=e.VAR_FG_SIZE,i=e.VAR_LEFT,o=e.VAR_TOP,s=e.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize+"px"),this.adapter.updateCssVariable(s,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(i,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(o,this.unboundedCoords.top+"px"))},t}(ne);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Oe=function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.disabled=!1,e}return t.attachTo=function(e,n){n===void 0&&(n={isUnbounded:void 0});var i=new t(e);return n.isUnbounded!==void 0&&(i.unbounded=n.isUnbounded),i},t.createAdapter=function(e){return{addClass:function(n){return e.root.classList.add(n)},browserSupportsCssVars:function(){return Ti(window)},computeBoundingRect:function(){return e.root.getBoundingClientRect()},containsEventTarget:function(n){return e.root.contains(n)},deregisterDocumentInteractionHandler:function(n,i){return document.documentElement.removeEventListener(n,i,Le())},deregisterInteractionHandler:function(n,i){return e.root.removeEventListener(n,i,Le())},deregisterResizeHandler:function(n){return window.removeEventListener("resize",n)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return Ce(e.root,":active")},isSurfaceDisabled:function(){return!!e.disabled},isUnbounded:function(){return!!e.unbounded},registerDocumentInteractionHandler:function(n,i){return document.documentElement.addEventListener(n,i,Le())},registerInteractionHandler:function(n,i){return e.root.addEventListener(n,i,Le())},registerResizeHandler:function(n){return window.addEventListener("resize",n)},removeClass:function(n){return e.root.classList.remove(n)},updateCssVariable:function(n,i){return e.root.style.setProperty(n,i)}}},Object.defineProperty(t.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(e){this.isUnbounded=!!e,this.setUnbounded()},enumerable:!1,configurable:!0}),t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.layout=function(){this.foundation.layout()},t.prototype.getDefaultFoundation=function(){return new Mt(t.createAdapter(this))},t.prototype.initialSyncWithDOM=function(){var e=this.root;this.isUnbounded="mdcRippleIsUnbounded"in e.dataset},t.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},t}(re);/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Kn={ROOT:"mdc-text-field-character-counter"},Oi={ROOT_SELECTOR:"."+Kn.ROOT};/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Xn=function(r){B(t,r);function t(e){return r.call(this,x(x({},t.defaultAdapter),e))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return Kn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Oi},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setCounterValue=function(e,n){e=Math.min(e,n),this.adapter.setContent(e+" / "+n)},t}(ne);/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Di=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this,n={setContent:function(i){e.root.textContent=i}};return new Xn(n)},t}(re);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var pe={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},st={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},Xt={LABEL_SCALE:.75},Ri=["pattern","min","max","required","step","minlength","maxlength"],xi=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var zt=["mousedown","touchstart"],Qt=["click","keydown"],Mi=function(r){B(t,r);function t(e,n){n===void 0&&(n={});var i=r.call(this,x(x({},t.defaultAdapter),e))||this;return i.isFocused=!1,i.receivedUserInput=!1,i.valid=!0,i.useNativeValidation=!0,i.validateOnValueChange=!0,i.helperText=n.helperText,i.characterCounter=n.characterCounter,i.leadingIcon=n.leadingIcon,i.trailingIcon=n.trailingIcon,i.inputFocusHandler=function(){i.activateFocus()},i.inputBlurHandler=function(){i.deactivateFocus()},i.inputInputHandler=function(){i.handleInput()},i.setPointerXOffset=function(o){i.setTransformOrigin(o)},i.textFieldInteractionHandler=function(){i.handleTextFieldInteraction()},i.validationAttributeChangeHandler=function(o){i.handleValidationAttributeChange(o)},i}return Object.defineProperty(t,"cssClasses",{get:function(){return st},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return pe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Xt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var e=this.getNativeInput().type;return xi.indexOf(e)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,n,i,o;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var s=ae(zt),a=s.next();!a.done;a=s.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var u=ae(Qt),c=u.next();!c.done;c=u.next()){var l=c.value;this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(f){i={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var e,n,i,o;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var s=ae(zt),a=s.next();!a.done;a=s.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var u=ae(Qt),c=u.next();!c.done;c=u.next()){var l=c.value;this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(f){i={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var e=this.adapter.getNativeInput();e&&e.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(e){var n=this;e.some(function(i){return Ri.indexOf(i)>-1?(n.styleValidity(!0),n.adapter.setLabelRequired(n.getNativeInput().required),!0):!1}),e.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(e){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(e){var n=this.adapter.getLabelWidth()*Xt.LABEL_SCALE;this.adapter.notchOutline(n)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText&&(this.helperText.isPersistent()||!this.helperText.isValidation()||!this.valid)&&this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(e){if(!(this.isDisabled()||this.adapter.hasOutline())){var n=e.touches,i=n?n[0]:e,o=i.target.getBoundingClientRect(),s=i.clientX-o.left;this.adapter.setLineRippleTransformOrigin(s)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var e=this.isValid();this.styleValidity(e),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(e){if(this.getValue()!==e&&(this.getNativeInput().value=e),this.setcharacterCounter(e.length),this.validateOnValueChange){var n=this.isValid();this.styleValidity(n)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(e){this.valid=e,this.styleValidity(e);var n=!e&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(n)},t.prototype.setValidateOnValueChange=function(e){this.validateOnValueChange=e},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(e){this.useNativeValidation=e},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(e){this.getNativeInput().disabled=e,this.styleDisabled(e)},t.prototype.setHelperTextContent=function(e){this.helperText&&this.helperText.setContent(e)},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon&&this.leadingIcon.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon&&this.leadingIcon.setContent(e)},t.prototype.setTrailingIconAriaLabel=function(e){this.trailingIcon&&this.trailingIcon.setAriaLabel(e)},t.prototype.setTrailingIconContent=function(e){this.trailingIcon&&this.trailingIcon.setContent(e)},t.prototype.setcharacterCounter=function(e){if(this.characterCounter){var n=this.getNativeInput().maxLength;if(n===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(e,n)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(e){var n=t.cssClasses.INVALID;if(e?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText){this.helperText.setValidity(e);var i=this.helperText.isValidation();if(!i)return;var o=this.helperText.isVisible(),s=this.helperText.getId();o&&s?this.adapter.setInputAttr(pe.ARIA_DESCRIBEDBY,s):this.adapter.removeInputAttr(pe.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(e){var n=t.cssClasses.FOCUSED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.styleDisabled=function(e){var n=t.cssClasses,i=n.DISABLED,o=n.INVALID;e?(this.adapter.addClass(i),this.adapter.removeClass(o)):this.adapter.removeClass(i),this.leadingIcon&&this.leadingIcon.setDisabled(e),this.trailingIcon&&this.trailingIcon.setDisabled(e)},t.prototype.styleFloating=function(e){var n=t.cssClasses.LABEL_FLOATING;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.getNativeInput=function(){var e=this.adapter?this.adapter.getNativeInput():null;return e||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(ne);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ve={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},Ie={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+ve.ROOT};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var zn=function(r){B(t,r);function t(e){return r.call(this,x(x({},t.defaultAdapter),e))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return ve},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return this.adapter.getAttr(Ie.ARIA_HIDDEN)!=="true"},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.isPersistent=function(){return this.adapter.hasClass(ve.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(e){e?this.adapter.addClass(ve.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(ve.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(ve.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(e){e?this.adapter.addClass(ve.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(ve.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(Ie.ARIA_HIDDEN)},t.prototype.setValidity=function(e){var n=this.adapter.hasClass(ve.HELPER_TEXT_PERSISTENT),i=this.adapter.hasClass(ve.HELPER_TEXT_VALIDATION_MSG),o=i&&!e;o?(this.showToScreenReader(),this.adapter.getAttr(Ie.ROLE)==="alert"?this.refreshAlertRole():this.adapter.setAttr(Ie.ROLE,"alert")):this.adapter.removeAttr(Ie.ROLE),!n&&!o&&this.hide()},t.prototype.hide=function(){this.adapter.setAttr(Ie.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var e=this;this.adapter.removeAttr(Ie.ROLE),requestAnimationFrame(function(){e.adapter.setAttr(Ie.ROLE,"alert")})},t}(ne);/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var wi=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this,n={addClass:function(i){return e.root.classList.add(i)},removeClass:function(i){return e.root.classList.remove(i)},hasClass:function(i){return e.root.classList.contains(i)},getAttr:function(i){return e.root.getAttribute(i)},setAttr:function(i,o){return e.root.setAttribute(i,o)},removeAttr:function(i){return e.root.removeAttribute(i)},setContent:function(i){e.root.textContent=i}};return new zn(n)},t}(re);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Zt={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},Fi={ROOT:"mdc-text-field__icon"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Yt=["click","keydown"],Jt=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.savedTabIndex=null,n.interactionHandler=function(i){n.handleInteraction(i)},n}return Object.defineProperty(t,"strings",{get:function(){return Zt},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Fi},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,n;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var i=ae(Yt),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.registerInteractionHandler(s,this.interactionHandler)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.destroy=function(){var e,n;try{for(var i=ae(Yt),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.deregisterInteractionHandler(s,this.interactionHandler)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.setDisabled=function(e){this.savedTabIndex&&(e?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",Zt.ICON_ROLE)))},t.prototype.setAriaLabel=function(e){this.adapter.setAttr("aria-label",e)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.handleInteraction=function(e){var n=e.key==="Enter"||e.keyCode===13;(e.type==="click"||n)&&(e.preventDefault(),this.adapter.notifyIconAction())},t}(ne);/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ni=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this,n={getAttr:function(i){return e.root.getAttribute(i)},setAttr:function(i,o){return e.root.setAttribute(i,o)},removeAttr:function(i){return e.root.removeAttribute(i)},setContent:function(i){e.root.textContent=i},registerInteractionHandler:function(i,o){return e.listen(i,o)},deregisterInteractionHandler:function(i,o){return e.unlisten(i,o)},notifyIconAction:function(){return e.emit(Jt.strings.ICON_EVENT,{},!0)}};return new Jt(n)},t}(re);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Pi=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,n,i,o,s,a,l){e===void 0&&(e=function(g,E){return new Oe(g,E)}),n===void 0&&(n=function(g){return new jn(g)}),i===void 0&&(i=function(g){return new wi(g)}),o===void 0&&(o=function(g){return new Di(g)}),s===void 0&&(s=function(g){return new Ni(g)}),a===void 0&&(a=function(g){return new $n(g)}),l===void 0&&(l=function(g){return new Wn(g)}),this.input=this.root.querySelector(pe.INPUT_SELECTOR);var u=this.root.querySelector(pe.LABEL_SELECTOR);this.label=u?a(u):null;var c=this.root.querySelector(pe.LINE_RIPPLE_SELECTOR);this.lineRipple=c?n(c):null;var f=this.root.querySelector(pe.OUTLINE_SELECTOR);this.outline=f?l(f):null;var v=zn.strings,m=this.root.nextElementSibling,b=m&&m.classList.contains(st.HELPER_LINE),A=b&&m&&m.querySelector(v.ROOT_SELECTOR);this.helperText=A?i(A):null;var y=Xn.strings,T=this.root.querySelector(y.ROOT_SELECTOR);!T&&b&&m&&(T=m.querySelector(y.ROOT_SELECTOR)),this.characterCounter=T?o(T):null;var C=this.root.querySelector(pe.LEADING_ICON_SELECTOR);this.leadingIcon=C?s(C):null;var _=this.root.querySelector(pe.TRAILING_ICON_SELECTOR);this.trailingIcon=_?s(_):null,this.prefix=this.root.querySelector(pe.PREFIX_SELECTOR),this.suffix=this.root.querySelector(pe.SUFFIX_SELECTOR),this.ripple=this.createRipple(e)},t.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple&&this.lineRipple.destroy(),this.helperText&&this.helperText.destroy(),this.characterCounter&&this.characterCounter.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.trailingIcon&&this.trailingIcon.destroy(),this.label&&this.label.destroy(),this.outline&&this.outline.destroy(),r.prototype.destroy.call(this)},t.prototype.initialSyncWithDOM=function(){this.disabled=this.input.disabled},Object.defineProperty(t.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(e){this.foundation.setValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(e){this.foundation.setDisabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(e){this.foundation.setValid(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this.input.required},set:function(e){this.input.required=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pattern",{get:function(){return this.input.pattern},set:function(e){this.input.pattern=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){return this.input.minLength},set:function(e){this.input.minLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.input.maxLength},set:function(e){e<0?this.input.removeAttribute("maxLength"):this.input.maxLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.input.min},set:function(e){this.input.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.input.max},set:function(e){this.input.max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this.input.step},set:function(e){this.input.step=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"helperTextContent",{set:function(e){this.foundation.setHelperTextContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconAriaLabel",{set:function(e){this.foundation.setLeadingIconAriaLabel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconContent",{set:function(e){this.foundation.setLeadingIconContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trailingIconAriaLabel",{set:function(e){this.foundation.setTrailingIconAriaLabel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trailingIconContent",{set:function(e){this.foundation.setTrailingIconContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useNativeValidation",{set:function(e){this.foundation.setUseNativeValidation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prefixText",{get:function(){return this.prefix?this.prefix.textContent:null},set:function(e){this.prefix&&(this.prefix.textContent=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suffixText",{get:function(){return this.suffix?this.suffix.textContent:null},set:function(e){this.suffix&&(this.suffix.textContent=e)},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.layout=function(){var e=this.foundation.shouldFloat;this.foundation.notchOutline(e)},t.prototype.getDefaultFoundation=function(){var e=x(x(x(x(x({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods());return new Mi(e,this.getFoundationMap())},t.prototype.getRootAdapterMethods=function(){var e=this;return{addClass:function(n){return e.root.classList.add(n)},removeClass:function(n){return e.root.classList.remove(n)},hasClass:function(n){return e.root.classList.contains(n)},registerTextFieldInteractionHandler:function(n,i){e.listen(n,i)},deregisterTextFieldInteractionHandler:function(n,i){e.unlisten(n,i)},registerValidationAttributeChangeHandler:function(n){var i=function(a){return a.map(function(l){return l.attributeName}).filter(function(l){return l})},o=new MutationObserver(function(a){return n(i(a))}),s={attributes:!0};return o.observe(e.input,s),o},deregisterValidationAttributeChangeHandler:function(n){n.disconnect()}}},t.prototype.getInputAdapterMethods=function(){var e=this;return{getNativeInput:function(){return e.input},setInputAttr:function(n,i){e.input.setAttribute(n,i)},removeInputAttr:function(n){e.input.removeAttribute(n)},isFocused:function(){return document.activeElement===e.input},registerInputInteractionHandler:function(n,i){e.input.addEventListener(n,i,Le())},deregisterInputInteractionHandler:function(n,i){e.input.removeEventListener(n,i,Le())}}},t.prototype.getLabelAdapterMethods=function(){var e=this;return{floatLabel:function(n){e.label&&e.label.float(n)},getLabelWidth:function(){return e.label?e.label.getWidth():0},hasLabel:function(){return!!e.label},shakeLabel:function(n){e.label&&e.label.shake(n)},setLabelRequired:function(n){e.label&&e.label.setRequired(n)}}},t.prototype.getLineRippleAdapterMethods=function(){var e=this;return{activateLineRipple:function(){e.lineRipple&&e.lineRipple.activate()},deactivateLineRipple:function(){e.lineRipple&&e.lineRipple.deactivate()},setLineRippleTransformOrigin:function(n){e.lineRipple&&e.lineRipple.setRippleCenter(n)}}},t.prototype.getOutlineAdapterMethods=function(){var e=this;return{closeOutline:function(){e.outline&&e.outline.closeNotch()},hasOutline:function(){return!!e.outline},notchOutline:function(n){e.outline&&e.outline.notch(n)}}},t.prototype.getFoundationMap=function(){return{characterCounter:this.characterCounter?this.characterCounter.foundationForTextField:void 0,helperText:this.helperText?this.helperText.foundationForTextField:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForTextField:void 0,trailingIcon:this.trailingIcon?this.trailingIcon.foundationForTextField:void 0}},t.prototype.createRipple=function(e){var n=this,i=this.root.classList.contains(st.TEXTAREA),o=this.root.classList.contains(st.OUTLINED);if(i||o)return null;var s=x(x({},Oe.createAdapter(this)),{isSurfaceActive:function(){return Ce(n.input,":active")},registerInteractionHandler:function(a,l){n.input.addEventListener(a,l,Le())},deregisterInteractionHandler:function(a,l){n.input.removeEventListener(a,l,Le())}});return e(this.root,new Mt(s))},t}(re);function Hi(r){let t,e,n,i,o,s,a,l,u,c,f,v,m,b,A;return{c(){t=I("label"),e=I("span"),n=I("span"),i=L(),o=I("span"),s=I("span"),a=W(r[1]),u=L(),c=I("span"),f=L(),v=I("input"),p(n,"class","mdc-notched-outline__leading"),p(s,"class","mdc-floating-label"),p(s,"id",l=`${r[0]}-field-label`),p(o,"class","mdc-notched-outline__notch"),p(c,"class","mdc-notched-outline__trailing"),p(e,"class","mdc-notched-outline"),p(v,"type","text"),p(v,"class","mdc-text-field__input"),p(v,"aria-labelledby",m=`${r[0]}-field-label`),p(t,"id",r[0]),p(t,"class","mdc-text-field mdc-text-field--outlined")},m(y,T){w(y,t,T),d(t,e),d(e,n),d(e,i),d(e,o),d(o,s),d(s,a),d(e,u),d(e,c),d(t,f),d(t,v),b||(A=Ke(v,"input",r[2]),b=!0)},p(y,[T]){T&2&&Q(a,y[1]),T&1&&l!==(l=`${y[0]}-field-label`)&&p(s,"id",l),T&1&&m!==(m=`${y[0]}-field-label`)&&p(v,"aria-labelledby",m),T&1&&p(t,"id",y[0])},i:N,o:N,d(y){y&&M(t),b=!1,A()}}}function ki(r,t,e){let{id:n=""}=t,{label:i=""}=t;const o=xe();Re(()=>{new Pi(document.querySelector(`#${n}`))});function s(a){let l=a.srcElement.value;o("valueChanged",{value:l})}return r.$$set=a=>{"id"in a&&e(0,n=a.id),"label"in a&&e(1,i=a.label)},[n,i,s]}class At extends fe{constructor(t){super(),de(this,t,ki,Hi,ee,{id:0,label:1})}}function Bi(r){let t,e,n,i,o,s,a,l,u,c,f;return{c(){t=I("div"),e=I("button"),n=I("span"),i=L(),o=I("span"),s=L(),a=I("span"),l=W(r[0]),p(n,"class","mdc-button__ripple"),p(o,"class","mdc-button__touch"),p(a,"class","mdc-button__label"),p(e,"class",u=`fc-button mdc-button mdc-button--touch ${r[2]}`),e.disabled=r[1],p(t,"class","mdc-touch-target-wrapper")},m(v,m){w(v,t,m),d(t,e),d(e,n),d(e,i),d(e,o),d(e,s),d(e,a),d(a,l),c||(f=Ke(e,"click",r[3]),c=!0)},p(v,[m]){m&1&&Q(l,v[0]),m&4&&u!==(u=`fc-button mdc-button mdc-button--touch ${v[2]}`)&&p(e,"class",u),m&2&&(e.disabled=v[1])},i:N,o:N,d(v){v&&M(t),c=!1,f()}}}function Ui(r,t,e){let{label:n=""}=t,{disabled:i=!1}=t,{theme:o="mdc-button--raised"}=t;const s=xe();function a(l){s("click",{buttonElement:l.currentTarget})}return Re(()=>{new Oe(document.querySelector(".mdc-button"))}),r.$$set=l=>{"label"in l&&e(0,n=l.label),"disabled"in l&&e(1,i=l.disabled),"theme"in l&&e(2,o=l.theme)},[n,i,o,a]}class Je extends fe{constructor(t){super(),de(this,t,Ui,Bi,ee,{label:0,disabled:1,theme:2})}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Qe={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Ee={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",OPENING_EVENT:"MDCMenuSurface:opening",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Xe={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30},X;(function(r){r[r.BOTTOM=1]="BOTTOM",r[r.CENTER=2]="CENTER",r[r.RIGHT=4]="RIGHT",r[r.FLIP_RTL=8]="FLIP_RTL"})(X||(X={}));var je;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=4]="TOP_RIGHT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",r[r.TOP_START=8]="TOP_START",r[r.TOP_END=12]="TOP_END",r[r.BOTTOM_START=9]="BOTTOM_START",r[r.BOTTOM_END=13]="BOTTOM_END"})(je||(je={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Se,be,R={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},Vi=(Se={},Se[""+R.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Se[""+R.LIST_ITEM_CLASS]="mdc-list-item",Se[""+R.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Se[""+R.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Se[""+R.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Se[""+R.ROOT]="mdc-list",Se),He=(be={},be[""+R.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",be[""+R.LIST_ITEM_CLASS]="mdc-deprecated-list-item",be[""+R.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",be[""+R.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",be[""+R.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",be[""+R.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",be[""+R.ROOT]="mdc-deprecated-list",be),$={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+R.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+R.LIST_ITEM_CLASS+` a,
    .`+He[R.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+He[R.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+R.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+R.LIST_ITEM_CLASS+` a,
    .`+R.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+R.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+He[R.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+He[R.LIST_ITEM_CLASS]+` a,
    .`+He[R.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+He[R.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},K={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},Gi="evolution";/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var F={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},oe=new Set;oe.add(F.BACKSPACE);oe.add(F.ENTER);oe.add(F.SPACEBAR);oe.add(F.PAGE_UP);oe.add(F.PAGE_DOWN);oe.add(F.END);oe.add(F.HOME);oe.add(F.ARROW_LEFT);oe.add(F.ARROW_UP);oe.add(F.ARROW_RIGHT);oe.add(F.ARROW_DOWN);oe.add(F.DELETE);oe.add(F.ESCAPE);oe.add(F.TAB);var ce={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27,TAB:9},se=new Map;se.set(ce.BACKSPACE,F.BACKSPACE);se.set(ce.ENTER,F.ENTER);se.set(ce.SPACEBAR,F.SPACEBAR);se.set(ce.PAGE_UP,F.PAGE_UP);se.set(ce.PAGE_DOWN,F.PAGE_DOWN);se.set(ce.END,F.END);se.set(ce.HOME,F.HOME);se.set(ce.ARROW_LEFT,F.ARROW_LEFT);se.set(ce.ARROW_UP,F.ARROW_UP);se.set(ce.ARROW_RIGHT,F.ARROW_RIGHT);se.set(ce.ARROW_DOWN,F.ARROW_DOWN);se.set(ce.DELETE,F.DELETE);se.set(ce.ESCAPE,F.ESCAPE);se.set(ce.TAB,F.TAB);var Me=new Set;Me.add(F.PAGE_UP);Me.add(F.PAGE_DOWN);Me.add(F.END);Me.add(F.HOME);Me.add(F.ARROW_LEFT);Me.add(F.ARROW_UP);Me.add(F.ARROW_RIGHT);Me.add(F.ARROW_DOWN);function z(r){var t=r.key;if(oe.has(t))return t;var e=se.get(r.keyCode);return e||F.UNKNOWN}/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var $i=["input","button","textarea","select"],he=function(r){var t=r.target;if(t){var e=(""+t.tagName).toLowerCase();$i.indexOf(e)===-1&&r.preventDefault()}};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function ji(){var r={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""};return r}function qi(r,t){for(var e=new Map,n=0;n<r;n++){var i=t(n).trim();if(i){var o=i[0].toLowerCase();e.has(o)||e.set(o,[]),e.get(o).push({text:i.toLowerCase(),index:n})}}return e.forEach(function(s){s.sort(function(a,l){return a.index-l.index})}),e}function St(r,t){var e=r.nextChar,n=r.focusItemAtIndex,i=r.sortedIndexByFirstChar,o=r.focusedItemIndex,s=r.skipFocus,a=r.isItemAtIndexDisabled;clearTimeout(t.bufferClearTimeout),t.bufferClearTimeout=setTimeout(function(){Zn(t)},K.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),t.typeaheadBuffer=t.typeaheadBuffer+e;var l;return t.typeaheadBuffer.length===1?l=Wi(i,o,a,t):l=Ki(i,a,t),l!==-1&&!s&&n(l),l}function Wi(r,t,e,n){var i=n.typeaheadBuffer[0],o=r.get(i);if(!o)return-1;if(i===n.currentFirstChar&&o[n.sortedIndexCursor].index===t){n.sortedIndexCursor=(n.sortedIndexCursor+1)%o.length;var s=o[n.sortedIndexCursor].index;if(!e(s))return s}n.currentFirstChar=i;var a=-1,l;for(l=0;l<o.length;l++)if(!e(o[l].index)){a=l;break}for(;l<o.length;l++)if(o[l].index>t&&!e(o[l].index)){a=l;break}return a!==-1?(n.sortedIndexCursor=a,o[n.sortedIndexCursor].index):-1}function Ki(r,t,e){var n=e.typeaheadBuffer[0],i=r.get(n);if(!i)return-1;var o=i[e.sortedIndexCursor];if(o.text.lastIndexOf(e.typeaheadBuffer,0)===0&&!t(o.index))return o.index;for(var s=(e.sortedIndexCursor+1)%i.length,a=-1;s!==e.sortedIndexCursor;){var l=i[s],u=l.text.lastIndexOf(e.typeaheadBuffer,0)===0,c=!t(l.index);if(u&&c){a=s;break}s=(s+1)%i.length}return a!==-1?(e.sortedIndexCursor=a,i[e.sortedIndexCursor].index):-1}function Qn(r){return r.typeaheadBuffer.length>0}function Zn(r){r.typeaheadBuffer=""}function en(r,t){var e=r.event,n=r.isTargetListItem,i=r.focusedItemIndex,o=r.focusItemAtIndex,s=r.sortedIndexByFirstChar,a=r.isItemAtIndexDisabled,l=z(e)==="ArrowLeft",u=z(e)==="ArrowUp",c=z(e)==="ArrowRight",f=z(e)==="ArrowDown",v=z(e)==="Home",m=z(e)==="End",b=z(e)==="Enter",A=z(e)==="Spacebar";if(e.altKey||e.ctrlKey||e.metaKey||l||u||c||f||v||m||b)return-1;var y=!A&&e.key.length===1;if(y){he(e);var T={focusItemAtIndex:o,focusedItemIndex:i,nextChar:e.key.toLowerCase(),sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a};return St(T,t)}if(!A)return-1;n&&he(e);var C=n&&Qn(t);if(C){var T={focusItemAtIndex:o,focusedItemIndex:i,nextChar:" ",sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a};return St(T,t)}return-1}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Xi(r){return r instanceof Array}var zi=["Alt","Control","Meta","Shift"];function tn(r){var t=new Set(r?zi.filter(function(e){return r.getModifierState(e)}):[]);return function(e){return e.every(function(n){return t.has(n)})&&e.length===t.size}}var Tt=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.wrapFocus=!1,n.isVertical=!0,n.isSingleSelectionList=!1,n.areDisabledItemsFocusable=!0,n.selectedIndex=K.UNSET_INDEX,n.focusedItemIndex=K.UNSET_INDEX,n.useActivatedClass=!1,n.useSelectedAttr=!1,n.ariaCurrentAttrValue=null,n.isCheckboxList=!1,n.isRadioList=!1,n.lastSelectedIndex=null,n.hasTypeahead=!1,n.typeaheadState=ji(),n.sortedIndexByFirstChar=new Map,n}return Object.defineProperty(t,"strings",{get:function(){return $},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return R},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return K},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),t.prototype.layout=function(){this.adapter.getListItemCount()!==0&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},t.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},t.prototype.setWrapFocus=function(e){this.wrapFocus=e},t.prototype.setVerticalOrientation=function(e){this.isVertical=e},t.prototype.setSingleSelection=function(e){this.isSingleSelectionList=e,e&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},t.prototype.setDisabledItemsFocusable=function(e){this.areDisabledItemsFocusable=e},t.prototype.maybeInitializeSingleSelection=function(){var e=this.getSelectedIndexFromDOM();if(e!==K.UNSET_INDEX){var n=this.adapter.listItemAtIndexHasClass(e,R.LIST_ITEM_ACTIVATED_CLASS);n&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=e}},t.prototype.getSelectedIndexFromDOM=function(){for(var e=K.UNSET_INDEX,n=this.adapter.getListItemCount(),i=0;i<n;i++){var o=this.adapter.listItemAtIndexHasClass(i,R.LIST_ITEM_SELECTED_CLASS),s=this.adapter.listItemAtIndexHasClass(i,R.LIST_ITEM_ACTIVATED_CLASS);if(o||s){e=i;break}}return e},t.prototype.setHasTypeahead=function(e){this.hasTypeahead=e,e&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},t.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&Qn(this.typeaheadState)},t.prototype.setUseActivatedClass=function(e){this.useActivatedClass=e},t.prototype.setUseSelectedAttribute=function(e){this.useSelectedAttr=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e,n){n===void 0&&(n={}),this.isIndexValid(e)&&(this.isCheckboxList?this.setCheckboxAtIndex(e,n):this.isRadioList?this.setRadioAtIndex(e,n):this.setSingleSelectionAtIndex(e,n))},t.prototype.handleFocusIn=function(e){e>=0&&(this.focusedItemIndex=e,this.adapter.setAttributeForElementIndex(e,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(e,"0"))},t.prototype.handleFocusOut=function(e){var n=this;e>=0&&(this.adapter.setAttributeForElementIndex(e,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(e,"-1")),setTimeout(function(){n.adapter.isFocusInsideList()||n.setTabindexToFirstSelectedOrFocusedItem()},0)},t.prototype.isIndexDisabled=function(e){return this.adapter.listItemAtIndexHasClass(e,R.LIST_ITEM_DISABLED_CLASS)},t.prototype.handleKeydown=function(e,n,i){var o=this,s,a=z(e)==="ArrowLeft",l=z(e)==="ArrowUp",u=z(e)==="ArrowRight",c=z(e)==="ArrowDown",f=z(e)==="Home",v=z(e)==="End",m=z(e)==="Enter",b=z(e)==="Spacebar",A=this.isVertical&&c||!this.isVertical&&u,y=this.isVertical&&l||!this.isVertical&&a,T=e.key==="A"||e.key==="a",C=tn(e);if(this.adapter.isRootFocused()){if((y||v)&&C([]))e.preventDefault(),this.focusLastElement();else if((A||f)&&C([]))e.preventDefault(),this.focusFirstElement();else if(y&&C(["Shift"])&&this.isCheckboxList){e.preventDefault();var _=this.focusLastElement();_!==-1&&this.setSelectedIndexOnAction(_,!1)}else if(A&&C(["Shift"])&&this.isCheckboxList){e.preventDefault();var _=this.focusFirstElement();_!==-1&&this.setSelectedIndexOnAction(_,!1)}if(this.hasTypeahead){var g={event:e,focusItemAtIndex:function(S){o.focusItemAtIndex(S)},focusedItemIndex:-1,isTargetListItem:n,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(S){return o.isIndexDisabled(S)}};en(g,this.typeaheadState)}return}var E=this.adapter.getFocusedElementIndex();if(!(E===-1&&(E=i,E<0))){if(A&&C([]))he(e),this.focusNextElement(E);else if(y&&C([]))he(e),this.focusPrevElement(E);else if(A&&C(["Shift"])&&this.isCheckboxList){he(e);var _=this.focusNextElement(E);_!==-1&&this.setSelectedIndexOnAction(_,!1)}else if(y&&C(["Shift"])&&this.isCheckboxList){he(e);var _=this.focusPrevElement(E);_!==-1&&this.setSelectedIndexOnAction(_,!1)}else if(f&&C([]))he(e),this.focusFirstElement();else if(v&&C([]))he(e),this.focusLastElement();else if(f&&C(["Control","Shift"])&&this.isCheckboxList){if(he(e),this.isIndexDisabled(E))return;this.focusFirstElement(),this.toggleCheckboxRange(0,E,E)}else if(v&&C(["Control","Shift"])&&this.isCheckboxList){if(he(e),this.isIndexDisabled(E))return;this.focusLastElement(),this.toggleCheckboxRange(E,this.adapter.getListItemCount()-1,E)}else if(T&&C(["Control"])&&this.isCheckboxList)e.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===K.UNSET_INDEX?[]:this.selectedIndex,!0);else if((m||b)&&C([])){if(n){var h=e.target;if(h&&h.tagName==="A"&&m||(he(e),this.isIndexDisabled(E)))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(E,!1),this.adapter.notifyAction(E))}}else if((m||b)&&C(["Shift"])&&this.isCheckboxList){var h=e.target;if(h&&h.tagName==="A"&&m||(he(e),this.isIndexDisabled(E)))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange((s=this.lastSelectedIndex)!==null&&s!==void 0?s:E,E,E),this.adapter.notifyAction(E))}if(this.hasTypeahead){var g={event:e,focusItemAtIndex:function(P){o.focusItemAtIndex(P)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:n,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(P){return o.isIndexDisabled(P)}};en(g,this.typeaheadState)}}},t.prototype.handleClick=function(e,n,i){var o,s=tn(i);e!==K.UNSET_INDEX&&(this.isIndexDisabled(e)||(s([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(e,n),this.adapter.notifyAction(e)):this.isCheckboxList&&s(["Shift"])&&(this.toggleCheckboxRange((o=this.lastSelectedIndex)!==null&&o!==void 0?o:e,e,e),this.adapter.notifyAction(e))))},t.prototype.focusNextElement=function(e){var n=this.adapter.getListItemCount(),i=e,o=null;do{if(i++,i>=n)if(this.wrapFocus)i=0;else return e;if(i===o)return-1;o=o??i}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(i));return this.focusItemAtIndex(i),i},t.prototype.focusPrevElement=function(e){var n=this.adapter.getListItemCount(),i=e,o=null;do{if(i--,i<0)if(this.wrapFocus)i=n-1;else return e;if(i===o)return-1;o=o??i}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(i));return this.focusItemAtIndex(i),i},t.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},t.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},t.prototype.focusInitialElement=function(){var e=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(e),e},t.prototype.setEnabled=function(e,n){this.isIndexValid(e,!1)&&(n?(this.adapter.removeClassForElementIndex(e,R.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,$.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(e,R.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,$.ARIA_DISABLED,"true")))},t.prototype.setSingleSelectionAtIndex=function(e,n){if(n===void 0&&(n={}),!(this.selectedIndex===e&&!n.forceUpdate)){var i=R.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(i=R.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==K.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,i),this.setAriaForSingleSelectionAtIndex(e),this.setTabindexAtIndex(e),e!==K.UNSET_INDEX&&this.adapter.addClassForElementIndex(e,i),this.selectedIndex=e,n.isUserInteraction&&!n.forceUpdate&&this.adapter.notifySelectionChange([e])}},t.prototype.setAriaForSingleSelectionAtIndex=function(e){this.selectedIndex===K.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(e,$.ARIA_CURRENT));var n=this.ariaCurrentAttrValue!==null,i=n?$.ARIA_CURRENT:$.ARIA_SELECTED;if(this.selectedIndex!==K.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,i,"false"),e!==K.UNSET_INDEX){var o=n?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(e,i,o)}},t.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?$.ARIA_SELECTED:$.ARIA_CHECKED},t.prototype.setRadioAtIndex=function(e,n){n===void 0&&(n={});var i=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(e,!0),!(this.selectedIndex===e&&!n.forceUpdate)&&(this.selectedIndex!==K.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,i,"false"),this.adapter.setAttributeForElementIndex(e,i,"true"),this.selectedIndex=e,n.isUserInteraction&&!n.forceUpdate&&this.adapter.notifySelectionChange([e]))},t.prototype.setCheckboxAtIndex=function(e,n){n===void 0&&(n={});for(var i=this.selectedIndex,o=n.isUserInteraction?new Set(i===K.UNSET_INDEX?[]:i):null,s=this.getSelectionAttribute(),a=[],l=0;l<this.adapter.getListItemCount();l++){var u=o==null?void 0:o.has(l),c=e.indexOf(l)>=0;c!==u&&a.push(l),this.adapter.setCheckedCheckboxOrRadioAtIndex(l,c),this.adapter.setAttributeForElementIndex(l,s,c?"true":"false")}this.selectedIndex=e,n.isUserInteraction&&a.length&&this.adapter.notifySelectionChange(a)},t.prototype.toggleCheckboxRange=function(e,n,i){this.lastSelectedIndex=i;for(var o=new Set(this.selectedIndex===K.UNSET_INDEX?[]:this.selectedIndex),s=!(o!=null&&o.has(i)),a=Ct([e,n].sort(),2),l=a[0],u=a[1],c=this.getSelectionAttribute(),f=[],v=l;v<=u;v++)if(!this.isIndexDisabled(v)){var m=o.has(v);s!==m&&(f.push(v),this.adapter.setCheckedCheckboxOrRadioAtIndex(v,s),this.adapter.setAttributeForElementIndex(v,c,""+s),s?o.add(v):o.delete(v))}f.length&&(this.selectedIndex=Vn([],Ct(o)),this.adapter.notifySelectionChange(f))},t.prototype.setTabindexAtIndex=function(e){this.focusedItemIndex===K.UNSET_INDEX&&e!==0?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==e&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),!(this.selectedIndex instanceof Array)&&this.selectedIndex!==e&&this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),e!==K.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(e,"tabindex","0")},t.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},t.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var e=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(e)},t.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?typeof this.selectedIndex=="number"&&this.selectedIndex!==K.UNSET_INDEX?this.selectedIndex:Xi(this.selectedIndex)&&this.selectedIndex.length>0?this.selectedIndex.reduce(function(e,n){return Math.min(e,n)}):0:Math.max(this.focusedItemIndex,0)},t.prototype.isIndexValid=function(e,n){var i=this;if(n===void 0&&(n=!0),e instanceof Array){if(!this.isCheckboxList&&n)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return e.length===0?!0:e.some(function(o){return i.isIndexInRange(o)})}else if(typeof e=="number"){if(this.isCheckboxList&&n)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange(e)||this.isSingleSelectionList&&e===K.UNSET_INDEX}else return!1},t.prototype.isIndexInRange=function(e){var n=this.adapter.getListItemCount();return e>=0&&e<n},t.prototype.setSelectedIndexOnAction=function(e,n){this.lastSelectedIndex=e,this.isCheckboxList?(this.toggleCheckboxAtIndex(e,n),this.adapter.notifySelectionChange([e])):this.setSelectedIndex(e,{isUserInteraction:!0})},t.prototype.toggleCheckboxAtIndex=function(e,n){var i=this.getSelectionAttribute(),o=this.adapter.isCheckboxCheckedAtIndex(e),s;n?s=o:(s=!o,this.adapter.setCheckedCheckboxOrRadioAtIndex(e,s)),this.adapter.setAttributeForElementIndex(e,i,s?"true":"false");var a=this.selectedIndex===K.UNSET_INDEX?[]:this.selectedIndex.slice();s?a.push(e):a=a.filter(function(l){return l!==e}),this.selectedIndex=a},t.prototype.focusItemAtIndex=function(e){this.adapter.focusItemAtIndex(e),this.focusedItemIndex=e},t.prototype.checkboxListToggleAll=function(e,n){var i=this.adapter.getListItemCount();if(e.length===i)this.setCheckboxAtIndex([],{isUserInteraction:n});else{for(var o=[],s=0;s<i;s++)(!this.isIndexDisabled(s)||e.indexOf(s)>-1)&&o.push(s);this.setCheckboxAtIndex(o,{isUserInteraction:n})}},t.prototype.typeaheadMatchItem=function(e,n,i){var o=this;i===void 0&&(i=!1);var s={focusItemAtIndex:function(a){o.focusItemAtIndex(a)},focusedItemIndex:n||this.focusedItemIndex,nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:i,isItemAtIndexDisabled:function(a){return o.isIndexDisabled(a)}};return St(s,this.typeaheadState)},t.prototype.typeaheadInitSortedIndex=function(){return qi(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},t.prototype.clearTypeaheadBuffer=function(){Zn(this.typeaheadState)},t}(ne);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Qi=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"vertical",{set:function(e){this.foundation.setVerticalOrientation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listElements",{get:function(){return Array.from(this.root.querySelectorAll("."+this.classNameMap[R.LIST_ITEM_CLASS]))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{set:function(e){this.foundation.setWrapFocus(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.foundation.setHasTypeahead(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.foundation.setSingleSelection(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledItemsFocusable",{set:function(e){this.foundation.setDisabledItemsFocusable(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(e){this.foundation.setSelectedIndex(e)},enumerable:!1,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.isEvolutionEnabled=Gi in this.root.dataset,this.isEvolutionEnabled?this.classNameMap=Vi:Ce(this.root,$.DEPRECATED_SELECTOR)?this.classNameMap=He:this.classNameMap=Object.values(R).reduce(function(e,n){return e[n]=n,e},{}),this.handleClick=this.handleClickEvent.bind(this),this.handleKeydown=this.handleKeydownEvent.bind(this),this.focusInEventListener=this.handleFocusInEvent.bind(this),this.focusOutEventListener=this.handleFocusOutEvent.bind(this),this.listen("keydown",this.handleKeydown),this.listen("click",this.handleClick),this.listen("focusin",this.focusInEventListener),this.listen("focusout",this.focusOutEventListener),this.layout(),this.initializeListType(),this.ensureFocusable()},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten("click",this.handleClick),this.unlisten("focusin",this.focusInEventListener),this.unlisten("focusout",this.focusOutEventListener)},t.prototype.layout=function(){var e=this.root.getAttribute($.ARIA_ORIENTATION);this.vertical=e!==$.ARIA_ORIENTATION_HORIZONTAL;var n="."+this.classNameMap[R.LIST_ITEM_CLASS]+":not([tabindex])",i=$.FOCUSABLE_CHILD_ELEMENTS,o=this.root.querySelectorAll(n);o.length&&Array.prototype.forEach.call(o,function(a){a.setAttribute("tabindex","-1")});var s=this.root.querySelectorAll(i);s.length&&Array.prototype.forEach.call(s,function(a){a.setAttribute("tabindex","-1")}),this.isEvolutionEnabled&&this.foundation.setUseSelectedAttribute(!0),this.foundation.layout()},t.prototype.getPrimaryText=function(e){var n,i=e.querySelector("."+this.classNameMap[R.LIST_ITEM_PRIMARY_TEXT_CLASS]);if(this.isEvolutionEnabled||i)return(n=i==null?void 0:i.textContent)!==null&&n!==void 0?n:"";var o=e.querySelector("."+this.classNameMap[R.LIST_ITEM_TEXT_CLASS]);return o&&o.textContent||""},t.prototype.initializeListType=function(){var e=this;if(this.isInteractive=Ce(this.root,$.ARIA_INTERACTIVE_ROLES_SELECTOR),this.isEvolutionEnabled&&this.isInteractive){var n=Array.from(this.root.querySelectorAll($.SELECTED_ITEM_SELECTOR),function(a){return e.listElements.indexOf(a)});Ce(this.root,$.ARIA_MULTI_SELECTABLE_SELECTOR)?this.selectedIndex=n:n.length>0&&(this.selectedIndex=n[0]);return}var i=this.root.querySelectorAll($.ARIA_ROLE_CHECKBOX_SELECTOR),o=this.root.querySelector($.ARIA_CHECKED_RADIO_SELECTOR);if(i.length){var s=this.root.querySelectorAll($.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=Array.from(s,function(a){return e.listElements.indexOf(a)})}else o&&(this.selectedIndex=this.listElements.indexOf(o))},t.prototype.setEnabled=function(e,n){this.foundation.setEnabled(e,n)},t.prototype.typeaheadMatchItem=function(e,n){return this.foundation.typeaheadMatchItem(e,n,!0)},t.prototype.getDefaultFoundation=function(){var e=this,n={addClassForElementIndex:function(i,o){var s=e.listElements[i];s&&s.classList.add(e.classNameMap[o])},focusItemAtIndex:function(i){var o=e.listElements[i];o&&o.focus()},getAttributeForElementIndex:function(i,o){return e.listElements[i].getAttribute(o)},getFocusedElementIndex:function(){return e.listElements.indexOf(document.activeElement)},getListItemCount:function(){return e.listElements.length},getPrimaryTextAtIndex:function(i){return e.getPrimaryText(e.listElements[i])},hasCheckboxAtIndex:function(i){var o=e.listElements[i];return!!o.querySelector($.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(i){var o=e.listElements[i];return!!o.querySelector($.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(i){var o=e.listElements[i],s=o.querySelector($.CHECKBOX_SELECTOR);return s.checked},isFocusInsideList:function(){return e.root!==document.activeElement&&e.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===e.root},listItemAtIndexHasClass:function(i,o){return e.listElements[i].classList.contains(e.classNameMap[o])},notifyAction:function(i){e.emit($.ACTION_EVENT,{index:i},!0)},notifySelectionChange:function(i){e.emit($.SELECTION_CHANGE_EVENT,{changedIndices:i},!0)},removeClassForElementIndex:function(i,o){var s=e.listElements[i];s&&s.classList.remove(e.classNameMap[o])},setAttributeForElementIndex:function(i,o,s){var a=e.listElements[i];a&&a.setAttribute(o,s)},setCheckedCheckboxOrRadioAtIndex:function(i,o){var s=e.listElements[i],a=s.querySelector($.CHECKBOX_RADIO_SELECTOR);a.checked=o;var l=document.createEvent("Event");l.initEvent("change",!0,!0),a.dispatchEvent(l)},setTabIndexForListItemChildren:function(i,o){var s=e.listElements[i],a=$.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX;Array.prototype.forEach.call(s.querySelectorAll(a),function(l){l.setAttribute("tabindex",o)})}};return new Tt(n)},t.prototype.ensureFocusable=function(){if(this.isEvolutionEnabled&&this.isInteractive&&!this.root.querySelector("."+this.classNameMap[R.LIST_ITEM_CLASS]+'[tabindex="0"]')){var e=this.initialFocusIndex();e!==-1&&(this.listElements[e].tabIndex=0)}},t.prototype.initialFocusIndex=function(){if(this.selectedIndex instanceof Array&&this.selectedIndex.length>0)return this.selectedIndex[0];if(typeof this.selectedIndex=="number"&&this.selectedIndex!==K.UNSET_INDEX)return this.selectedIndex;var e=this.root.querySelector("."+this.classNameMap[R.LIST_ITEM_CLASS]+":not(."+this.classNameMap[R.LIST_ITEM_DISABLED_CLASS]+")");return e===null?-1:this.getListItemIndex(e)},t.prototype.getListItemIndex=function(e){var n=lt(e,"."+this.classNameMap[R.LIST_ITEM_CLASS]+", ."+this.classNameMap[R.ROOT]);return n&&Ce(n,"."+this.classNameMap[R.LIST_ITEM_CLASS])?this.listElements.indexOf(n):-1},t.prototype.handleFocusInEvent=function(e){var n=this.getListItemIndex(e.target);this.foundation.handleFocusIn(n)},t.prototype.handleFocusOutEvent=function(e){var n=this.getListItemIndex(e.target);this.foundation.handleFocusOut(n)},t.prototype.handleKeydownEvent=function(e){var n=this.getListItemIndex(e.target),i=e.target;this.foundation.handleKeydown(e,i.classList.contains(this.classNameMap[R.LIST_ITEM_CLASS]),n)},t.prototype.handleClickEvent=function(e){var n=this.getListItemIndex(e.target),i=e.target,o=!Ce(i,$.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(n,o,e)},t}(re);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Te=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.isSurfaceOpen=!1,n.isQuickOpen=!1,n.isHoistedElement=!1,n.isFixedPosition=!1,n.isHorizontallyCenteredOnViewport=!1,n.maxHeight=0,n.openBottomBias=0,n.openAnimationEndTimerId=0,n.closeAnimationEndTimerId=0,n.animationRequestId=0,n.anchorCorner=je.TOP_START,n.originCorner=je.TOP_START,n.anchorMargin={top:0,right:0,bottom:0,left:0},n.position={x:0,y:0},n}return Object.defineProperty(t,"cssClasses",{get:function(){return Qe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ee},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Xe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return je},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyClosing:function(){},notifyOpen:function(){},notifyOpening:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,n=e.ROOT,i=e.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^X.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.isFixed=function(){return this.isFixedPosition},t.prototype.setAbsolutePosition=function(e,n){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(n)?n:0},t.prototype.setIsHorizontallyCenteredOnViewport=function(e){this.isHorizontallyCenteredOnViewport=e},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.setMaxHeight=function(e){this.maxHeight=e},t.prototype.setOpenBottomBias=function(e){this.openBottomBias=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.notifyOpening(),this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.adapter.addClass(t.cssClasses.OPEN),e.openAnimationEndTimerId=setTimeout(function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()},Xe.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen){this.isSurfaceOpen=!1,e||this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose();return}this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){n.adapter.removeClass(t.cssClasses.OPEN),n.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout(function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()},Xe.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,e||this.maybeRestoreFocus()}},t.prototype.handleBodyClick=function(e){var n=e.target;this.adapter.isElementInContainer(n)||this.close()},t.prototype.handleKeydown=function(e){var n=e.keyCode,i=e.key,o=i==="Escape"||n===27;o&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(n),o=this.hasBit(n,X.BOTTOM)?"bottom":"top",s=this.hasBit(n,X.RIGHT)?"right":"left",a=this.getHorizontalOriginOffset(n),l=this.getVerticalOriginOffset(n),u=this.measurements,c=u.anchorSize,f=u.surfaceSize,v=(e={},e[s]=a,e[o]=l,e);c.width/f.width>Xe.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(s="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(v),this.adapter.setTransformOrigin(s+" "+o),this.adapter.setPosition(v),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(n,X.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),n=this.adapter.getBodyDimensions(),i=this.adapter.getWindowDimensions(),o=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:n,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:i.width-e.right,bottom:i.height-e.bottom,left:e.left},viewportSize:i,windowScroll:o}},t.prototype.getoriginCorner=function(){var e=this.originCorner,n=this.measurements,i=n.viewportDistance,o=n.anchorSize,s=n.surfaceSize,a=t.numbers.MARGIN_TO_EDGE,l=this.hasBit(this.anchorCorner,X.BOTTOM),u,c;l?(u=i.top-a+this.anchorMargin.bottom,c=i.bottom-a-this.anchorMargin.bottom):(u=i.top-a+this.anchorMargin.top,c=i.bottom-a+o.height-this.anchorMargin.top);var f=c-s.height>0;!f&&u>c+this.openBottomBias&&(e=this.setBit(e,X.BOTTOM));var v=this.adapter.isRtl(),m=this.hasBit(this.anchorCorner,X.FLIP_RTL),b=this.hasBit(this.anchorCorner,X.RIGHT)||this.hasBit(e,X.RIGHT),A=!1;v&&m?A=!b:A=b;var y,T;A?(y=i.left+o.width+this.anchorMargin.right,T=i.right-this.anchorMargin.right):(y=i.left+this.anchorMargin.left,T=i.right+o.width-this.anchorMargin.left);var C=y-s.width>0,_=T-s.width>0,g=this.hasBit(e,X.FLIP_RTL)&&this.hasBit(e,X.RIGHT);return _&&g&&v||!C&&g?e=this.unsetBit(e,X.RIGHT):(C&&A&&v||C&&!A&&b||!_&&y>=T)&&(e=this.setBit(e,X.RIGHT)),e},t.prototype.getMenuSurfaceMaxHeight=function(e){if(this.maxHeight>0)return this.maxHeight;var n=this.measurements.viewportDistance,i=0,o=this.hasBit(e,X.BOTTOM),s=this.hasBit(this.anchorCorner,X.BOTTOM),a=t.numbers.MARGIN_TO_EDGE;return o?(i=n.top+this.anchorMargin.top-a,s||(i+=this.measurements.anchorSize.height)):(i=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-a,s&&(i-=this.measurements.anchorSize.height)),i},t.prototype.getHorizontalOriginOffset=function(e){var n=this.measurements.anchorSize,i=this.hasBit(e,X.RIGHT),o=this.hasBit(this.anchorCorner,X.RIGHT);if(i){var s=o?n.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?s-(this.measurements.viewportSize.width-this.measurements.bodySize.width):s}return o?n.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var n=this.measurements.anchorSize,i=this.hasBit(e,X.BOTTOM),o=this.hasBit(this.anchorCorner,X.BOTTOM),s=0;return i?s=o?n.height-this.anchorMargin.top:-this.anchorMargin.bottom:s=o?n.height+this.anchorMargin.bottom:this.anchorMargin.top,s},t.prototype.adjustPositionForHoistedElement=function(e){var n,i,o=this.measurements,s=o.windowScroll,a=o.viewportDistance,l=o.surfaceSize,u=o.viewportSize,c=Object.keys(e);try{for(var f=ae(c),v=f.next();!v.done;v=f.next()){var m=v.value,b=e[m]||0;if(this.isHorizontallyCenteredOnViewport&&(m==="left"||m==="right")){e[m]=(u.width-l.width)/2;continue}b+=a[m],this.isFixedPosition||(m==="top"?b+=s.y:m==="bottom"?b-=s.y:m==="left"?b+=s.x:b-=s.x),e[m]=b}}catch(A){n={error:A}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}},t.prototype.maybeRestoreFocus=function(){var e=this,n=this.adapter.isFocused(),i=this.adapter.getOwnerDocument?this.adapter.getOwnerDocument():document,o=i.activeElement&&this.adapter.isElementInContainer(i.activeElement);(n||o)&&setTimeout(function(){e.adapter.restoreFocus()},Xe.TOUCH_EVENT_WAIT_MS)},t.prototype.hasBit=function(e,n){return!!(e&n)},t.prototype.setBit=function(e,n){return e|n},t.prototype.unsetBit=function(e,n){return e^n},t.prototype.isFinite=function(e){return typeof e=="number"&&isFinite(e)},t}(ne);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var nn={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}};function Zi(r){return!!r.document&&typeof r.document.createElement=="function"}function Yi(r,t){if(Zi(r)&&t in nn){var e=r.document.createElement("div"),n=nn[t],i=n.standard,o=n.prefixed,s=i in e.style;return s?i:o}return t}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ji=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){var e=this,n=this.root.parentElement;this.anchorElement=n&&n.classList.contains(Qe.ANCHOR)?n:null,this.root.classList.contains(Qe.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(i){e.foundation.handleKeydown(i)},this.handleBodyClick=function(i){e.foundation.handleBodyClick(i)},this.registerBodyClickListener=function(){document.body.addEventListener("click",e.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",e.handleBodyClick,{capture:!0})},this.listen("keydown",this.handleKeydown),this.listen(Ee.OPENED_EVENT,this.registerBodyClickListener),this.listen(Ee.CLOSED_EVENT,this.deregisterBodyClickListener)},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten(Ee.OPENED_EVENT,this.registerBodyClickListener),this.unlisten(Ee.CLOSED_EVENT,this.deregisterBodyClickListener),r.prototype.destroy.call(this)},t.prototype.isOpen=function(){return this.foundation.isOpen()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){e===void 0&&(e=!1),this.foundation.close(e)},Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.foundation.setQuickOpen(e)},enumerable:!1,configurable:!0}),t.prototype.setIsHoisted=function(e){this.foundation.setIsHoisted(e)},t.prototype.setMenuSurfaceAnchorElement=function(e){this.anchorElement=e},t.prototype.setFixedPosition=function(e){e?this.root.classList.add(Qe.FIXED):this.root.classList.remove(Qe.FIXED),this.foundation.setFixedPosition(e)},t.prototype.setAbsolutePosition=function(e,n){this.foundation.setAbsolutePosition(e,n),this.setIsHoisted(!0)},t.prototype.setAnchorCorner=function(e){this.foundation.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.foundation.setAnchorMargin(e)},t.prototype.getDefaultFoundation=function(){var e=this,n={addClass:function(i){return e.root.classList.add(i)},removeClass:function(i){return e.root.classList.remove(i)},hasClass:function(i){return e.root.classList.contains(i)},hasAnchor:function(){return!!e.anchorElement},notifyClose:function(){return e.emit(Te.strings.CLOSED_EVENT,{})},notifyClosing:function(){e.emit(Te.strings.CLOSING_EVENT,{})},notifyOpen:function(){return e.emit(Te.strings.OPENED_EVENT,{})},notifyOpening:function(){return e.emit(Te.strings.OPENING_EVENT,{})},isElementInContainer:function(i){return e.root.contains(i)},isRtl:function(){return getComputedStyle(e.root).getPropertyValue("direction")==="rtl"},setTransformOrigin:function(i){var o=Yi(window,"transform")+"-origin";e.root.style.setProperty(o,i)},isFocused:function(){return document.activeElement===e.root},saveFocus:function(){e.previousFocus=document.activeElement},restoreFocus:function(){e.root.contains(document.activeElement)&&e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus()},getInnerDimensions:function(){return{width:e.root.offsetWidth,height:e.root.offsetHeight}},getAnchorDimensions:function(){return e.anchorElement?e.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(i){var o=e.root;o.style.left="left"in i?i.left+"px":"",o.style.right="right"in i?i.right+"px":"",o.style.top="top"in i?i.top+"px":"",o.style.bottom="bottom"in i?i.bottom+"px":""},setMaxHeight:function(i){e.root.style.maxHeight=i}};return new Te(n)},t}(re);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var qe={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},me={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},er={FOCUS_ROOT_INDEX:-1},Ge;(function(r){r[r.NONE=0]="NONE",r[r.LIST_ROOT=1]="LIST_ROOT",r[r.FIRST_ITEM=2]="FIRST_ITEM",r[r.LAST_ITEM=3]="LAST_ITEM"})(Ge||(Ge={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var tr=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.closeAnimationEndTimerId=0,n.defaultFocusState=Ge.LIST_ROOT,n.selectedIndex=-1,n}return Object.defineProperty(t,"cssClasses",{get:function(){return qe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return me},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return er},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},t.prototype.handleKeydown=function(e){var n=e.key,i=e.keyCode,o=n==="Tab"||i===9;o&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(e){var n=this,i=this.adapter.getElementIndex(e);if(!(i<0)){this.adapter.notifySelected({index:i});var o=this.adapter.getAttributeFromElementAtIndex(i,me.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(o),this.closeAnimationEndTimerId=setTimeout(function(){var s=n.adapter.getElementIndex(e);s>=0&&n.adapter.isSelectableItemAtIndex(s)&&n.setSelectedIndex(s)},Te.numbers.TRANSITION_CLOSE_DURATION)}},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case Ge.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case Ge.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case Ge.NONE:break;default:this.adapter.focusListRoot();break}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex(e),!this.adapter.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var n=this.adapter.getSelectedSiblingOfItemAtIndex(e);n>=0&&(this.adapter.removeAttributeFromElementAtIndex(n,me.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(n,qe.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(e,qe.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(e,me.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=e},t.prototype.setEnabled=function(e,n){this.validatedIndex(e),n?(this.adapter.removeClassFromElementAtIndex(e,R.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,me.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(e,R.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,me.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex=function(e){var n=this.adapter.getMenuItemCount(),i=e>=0&&e<n;if(!i)throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(ne);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var nr=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,n){e===void 0&&(e=function(i){return new Ji(i)}),n===void 0&&(n=function(i){return new Qi(i)}),this.menuSurfaceFactory=e,this.listFactory=n},t.prototype.initialSyncWithDOM=function(){var e=this;this.menuSurface=this.menuSurfaceFactory(this.root);var n=this.root.querySelector(me.LIST_SELECTOR);n?(this.list=this.listFactory(n),this.list.wrapFocus=!0):this.list=null,this.handleKeydown=function(i){e.foundation.handleKeydown(i)},this.handleItemAction=function(i){e.foundation.handleItemAction(e.items[i.detail.index])},this.handleMenuSurfaceOpened=function(){e.foundation.handleMenuSurfaceOpened()},this.menuSurface.listen(Te.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.listen("keydown",this.handleKeydown),this.listen(Tt.strings.ACTION_EVENT,this.handleItemAction)},t.prototype.destroy=function(){this.list&&this.list.destroy(),this.menuSurface.destroy(),this.menuSurface.unlisten(Te.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.unlisten("keydown",this.handleKeydown),this.unlisten(Tt.strings.ACTION_EVENT,this.handleItemAction),r.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"open",{get:function(){return this.menuSurface.isOpen()},set:function(e){e?this.menuSurface.open():this.menuSurface.close()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{get:function(){return this.list?this.list.wrapFocus:!1},set:function(e){this.list&&(this.list.wrapFocus=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.list&&(this.list.hasTypeahead=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return this.list?this.list.typeaheadInProgress:!1},enumerable:!1,configurable:!0}),t.prototype.typeaheadMatchItem=function(e,n){return this.list?this.list.typeaheadMatchItem(e,n):-1},t.prototype.layout=function(){this.list&&this.list.layout()},Object.defineProperty(t.prototype,"items",{get:function(){return this.list?this.list.listElements:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.list&&(this.list.singleSelection=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.list?this.list.selectedIndex:K.UNSET_INDEX},set:function(e){this.list&&(this.list.selectedIndex=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.menuSurface.quickOpen=e},enumerable:!1,configurable:!0}),t.prototype.setDefaultFocusState=function(e){this.foundation.setDefaultFocusState(e)},t.prototype.setAnchorCorner=function(e){this.menuSurface.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.menuSurface.setAnchorMargin(e)},t.prototype.setSelectedIndex=function(e){this.foundation.setSelectedIndex(e)},t.prototype.setEnabled=function(e,n){this.foundation.setEnabled(e,n)},t.prototype.getOptionByIndex=function(e){var n=this.items;return e<n.length?this.items[e]:null},t.prototype.getPrimaryTextAtIndex=function(e){var n=this.getOptionByIndex(e);return n&&this.list&&this.list.getPrimaryText(n)||""},t.prototype.setFixedPosition=function(e){this.menuSurface.setFixedPosition(e)},t.prototype.setIsHoisted=function(e){this.menuSurface.setIsHoisted(e)},t.prototype.setAbsolutePosition=function(e,n){this.menuSurface.setAbsolutePosition(e,n)},t.prototype.setAnchorElement=function(e){this.menuSurface.anchorElement=e},t.prototype.getDefaultFoundation=function(){var e=this,n={addClassToElementAtIndex:function(i,o){var s=e.items;s[i].classList.add(o)},removeClassFromElementAtIndex:function(i,o){var s=e.items;s[i].classList.remove(o)},addAttributeToElementAtIndex:function(i,o,s){var a=e.items;a[i].setAttribute(o,s)},removeAttributeFromElementAtIndex:function(i,o){var s=e.items;s[i].removeAttribute(o)},getAttributeFromElementAtIndex:function(i,o){var s=e.items;return s[i].getAttribute(o)},elementContainsClass:function(i,o){return i.classList.contains(o)},closeSurface:function(i){e.menuSurface.close(i)},getElementIndex:function(i){return e.items.indexOf(i)},notifySelected:function(i){e.emit(me.SELECTED_EVENT,{index:i.index,item:e.items[i.index]})},getMenuItemCount:function(){return e.items.length},focusItemAtIndex:function(i){e.items[i].focus()},focusListRoot:function(){e.root.querySelector(me.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(i){return!!lt(e.items[i],"."+qe.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(i){var o=lt(e.items[i],"."+qe.MENU_SELECTION_GROUP),s=o.querySelector("."+qe.MENU_SELECTED_LIST_ITEM);return s?e.items.indexOf(s):-1}};return new tr(n)},t}(re);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var q={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",MENU_INVALID:"mdc-select__menu--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},J={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},Ne={LABEL_SCALE:.75,UNSET_INDEX:-1,CLICK_DEBOUNCE_TIMEOUT_MS:330};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ir=function(r){B(t,r);function t(e,n){n===void 0&&(n={});var i=r.call(this,x(x({},t.defaultAdapter),e))||this;return i.disabled=!1,i.isMenuOpen=!1,i.useDefaultValidation=!0,i.customValidity=!0,i.lastSelectedIndex=Ne.UNSET_INDEX,i.clickDebounceTimeout=0,i.recentlyClicked=!1,i.leadingIcon=n.leadingIcon,i.helperText=n.helperText,i}return Object.defineProperty(t,"cssClasses",{get:function(){return q},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Ne},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return J},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedIndex:function(){return-1},setSelectedIndex:function(){},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},setLabelRequired:function(){},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectAnchorFocused:function(){return!1},getSelectAnchorAttr:function(){return""},setSelectAnchorAttr:function(){},removeSelectAnchorAttr:function(){},addMenuClass:function(){},removeMenuClass:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},isTypeaheadInProgress:function(){return!1},typeaheadMatchItem:function(){return-1}}},enumerable:!1,configurable:!0}),t.prototype.getSelectedIndex=function(){return this.adapter.getSelectedIndex()},t.prototype.setSelectedIndex=function(e,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1),!(e>=this.adapter.getMenuItemCount())&&(e===Ne.UNSET_INDEX?this.adapter.setSelectedText(""):this.adapter.setSelectedText(this.adapter.getMenuItemTextAtIndex(e).trim()),this.adapter.setSelectedIndex(e),n&&this.adapter.closeMenu(),!i&&this.lastSelectedIndex!==e&&this.handleChange(),this.lastSelectedIndex=e)},t.prototype.setValue=function(e,n){n===void 0&&(n=!1);var i=this.adapter.getMenuItemValues().indexOf(e);this.setSelectedIndex(i,!1,n)},t.prototype.getValue=function(){var e=this.adapter.getSelectedIndex(),n=this.adapter.getMenuItemValues();return e!==Ne.UNSET_INDEX?n[e]:""},t.prototype.getDisabled=function(){return this.disabled},t.prototype.setDisabled=function(e){this.disabled=e,this.disabled?(this.adapter.addClass(q.DISABLED),this.adapter.closeMenu()):this.adapter.removeClass(q.DISABLED),this.leadingIcon&&this.leadingIcon.setDisabled(this.disabled),this.disabled?this.adapter.removeSelectAnchorAttr("tabindex"):this.adapter.setSelectAnchorAttr("tabindex","0"),this.adapter.setSelectAnchorAttr("aria-disabled",this.disabled.toString())},t.prototype.openMenu=function(){this.adapter.addClass(q.ACTIVATED),this.adapter.openMenu(),this.isMenuOpen=!0,this.adapter.setSelectAnchorAttr("aria-expanded","true")},t.prototype.setHelperTextContent=function(e){this.helperText&&this.helperText.setContent(e)},t.prototype.layout=function(){if(this.adapter.hasLabel()){var e=this.getValue().length>0,n=this.adapter.hasClass(q.FOCUSED),i=e||n,o=this.adapter.hasClass(q.REQUIRED);this.notchOutline(i),this.adapter.floatLabel(i),this.adapter.setLabelRequired(o)}},t.prototype.layoutOptions=function(){var e=this.adapter.getMenuItemValues(),n=e.indexOf(this.getValue());this.setSelectedIndex(n,!1,!0)},t.prototype.handleMenuOpened=function(){if(this.adapter.getMenuItemValues().length!==0){var e=this.getSelectedIndex(),n=e>=0?e:0;this.adapter.focusMenuItemAtIndex(n)}},t.prototype.handleMenuClosing=function(){this.adapter.setSelectAnchorAttr("aria-expanded","false")},t.prototype.handleMenuClosed=function(){this.adapter.removeClass(q.ACTIVATED),this.isMenuOpen=!1,this.adapter.isSelectAnchorFocused()||this.blur()},t.prototype.handleChange=function(){this.layout(),this.adapter.notifyChange(this.getValue());var e=this.adapter.hasClass(q.REQUIRED);e&&this.useDefaultValidation&&this.setValid(this.isValid())},t.prototype.handleMenuItemAction=function(e){this.setSelectedIndex(e,!0)},t.prototype.handleFocus=function(){this.adapter.addClass(q.FOCUSED),this.layout(),this.adapter.activateBottomLine()},t.prototype.handleBlur=function(){this.isMenuOpen||this.blur()},t.prototype.handleClick=function(e){if(!(this.disabled||this.recentlyClicked)){if(this.setClickDebounceTimeout(),this.isMenuOpen){this.adapter.closeMenu();return}this.adapter.setRippleCenter(e),this.openMenu()}},t.prototype.handleKeydown=function(e){if(!(this.isMenuOpen||!this.adapter.hasClass(q.FOCUSED))){var n=z(e)===F.ENTER,i=z(e)===F.SPACEBAR,o=z(e)===F.ARROW_UP,s=z(e)===F.ARROW_DOWN,a=e.ctrlKey||e.metaKey;if(!a&&(!i&&e.key&&e.key.length===1||i&&this.adapter.isTypeaheadInProgress())){var l=i?" ":e.key,u=this.adapter.typeaheadMatchItem(l,this.getSelectedIndex());u>=0&&this.setSelectedIndex(u),e.preventDefault();return}!n&&!i&&!o&&!s||(this.openMenu(),e.preventDefault())}},t.prototype.notchOutline=function(e){if(this.adapter.hasOutline()){var n=this.adapter.hasClass(q.FOCUSED);if(e){var i=Ne.LABEL_SCALE,o=this.adapter.getLabelWidth()*i;this.adapter.notchOutline(o)}else n||this.adapter.closeOutline()}},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon&&this.leadingIcon.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon&&this.leadingIcon.setContent(e)},t.prototype.getUseDefaultValidation=function(){return this.useDefaultValidation},t.prototype.setUseDefaultValidation=function(e){this.useDefaultValidation=e},t.prototype.setValid=function(e){this.useDefaultValidation||(this.customValidity=e),this.adapter.setSelectAnchorAttr("aria-invalid",(!e).toString()),e?(this.adapter.removeClass(q.INVALID),this.adapter.removeMenuClass(q.MENU_INVALID)):(this.adapter.addClass(q.INVALID),this.adapter.addMenuClass(q.MENU_INVALID)),this.syncHelperTextValidity(e)},t.prototype.isValid=function(){return this.useDefaultValidation&&this.adapter.hasClass(q.REQUIRED)&&!this.adapter.hasClass(q.DISABLED)?this.getSelectedIndex()!==Ne.UNSET_INDEX&&(this.getSelectedIndex()!==0||!!this.getValue()):this.customValidity},t.prototype.setRequired=function(e){e?this.adapter.addClass(q.REQUIRED):this.adapter.removeClass(q.REQUIRED),this.adapter.setSelectAnchorAttr("aria-required",e.toString()),this.adapter.setLabelRequired(e)},t.prototype.getRequired=function(){return this.adapter.getSelectAnchorAttr("aria-required")==="true"},t.prototype.init=function(){var e=this.adapter.getAnchorElement();e&&(this.adapter.setMenuAnchorElement(e),this.adapter.setMenuAnchorCorner(je.BOTTOM_START)),this.adapter.setMenuWrapFocus(!1),this.setDisabled(this.adapter.hasClass(q.DISABLED)),this.syncHelperTextValidity(!this.adapter.hasClass(q.INVALID)),this.layout(),this.layoutOptions()},t.prototype.blur=function(){this.adapter.removeClass(q.FOCUSED),this.layout(),this.adapter.deactivateBottomLine();var e=this.adapter.hasClass(q.REQUIRED);e&&this.useDefaultValidation&&this.setValid(this.isValid())},t.prototype.syncHelperTextValidity=function(e){if(this.helperText){this.helperText.setValidity(e);var n=this.helperText.isVisible(),i=this.helperText.getId();n&&i?this.adapter.setSelectAnchorAttr(J.ARIA_DESCRIBEDBY,i):this.adapter.removeSelectAnchorAttr(J.ARIA_DESCRIBEDBY)}},t.prototype.setClickDebounceTimeout=function(){var e=this;clearTimeout(this.clickDebounceTimeout),this.clickDebounceTimeout=setTimeout(function(){e.recentlyClicked=!1},Ne.CLICK_DEBOUNCE_TIMEOUT_MS),this.recentlyClicked=!0},t}(ne);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Pe={ARIA_HIDDEN:"aria-hidden",ROLE:"role"},ye={HELPER_TEXT_VALIDATION_MSG:"mdc-select-helper-text--validation-msg",HELPER_TEXT_VALIDATION_MSG_PERSISTENT:"mdc-select-helper-text--validation-msg-persistent"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rr=function(r){B(t,r);function t(e){return r.call(this,x(x({},t.defaultAdapter),e))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return ye},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Pe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},getAttr:function(){return null},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return this.adapter.getAttr(Pe.ARIA_HIDDEN)!=="true"},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.setValidation=function(e){e?this.adapter.addClass(ye.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(ye.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidationMsgPersistent=function(e){e?this.adapter.addClass(ye.HELPER_TEXT_VALIDATION_MSG_PERSISTENT):this.adapter.removeClass(ye.HELPER_TEXT_VALIDATION_MSG_PERSISTENT)},t.prototype.getIsValidation=function(){return this.adapter.hasClass(ye.HELPER_TEXT_VALIDATION_MSG)},t.prototype.getIsValidationMsgPersistent=function(){return this.adapter.hasClass(ye.HELPER_TEXT_VALIDATION_MSG_PERSISTENT)},t.prototype.setValidity=function(e){var n=this.adapter.hasClass(ye.HELPER_TEXT_VALIDATION_MSG);if(n){var i=this.adapter.hasClass(ye.HELPER_TEXT_VALIDATION_MSG_PERSISTENT),o=!e||i;if(o){this.showToScreenReader(),e?this.adapter.removeAttr(Pe.ROLE):this.adapter.setAttr(Pe.ROLE,"alert");return}this.adapter.removeAttr(Pe.ROLE),this.hide()}},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(Pe.ARIA_HIDDEN)},t.prototype.hide=function(){this.adapter.setAttr(Pe.ARIA_HIDDEN,"true")},t}(ne);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var or=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForSelect",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this,n={addClass:function(i){return e.root.classList.add(i)},removeClass:function(i){return e.root.classList.remove(i)},hasClass:function(i){return e.root.classList.contains(i)},getAttr:function(i){return e.root.getAttribute(i)},setAttr:function(i,o){return e.root.setAttribute(i,o)},removeAttr:function(i){return e.root.removeAttribute(i)},setContent:function(i){e.root.textContent=i}};return new rr(n)},t}(re);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rn={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var on=["click","keydown"],sn=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.savedTabIndex=null,n.interactionHandler=function(i){n.handleInteraction(i)},n}return Object.defineProperty(t,"strings",{get:function(){return rn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,n;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var i=ae(on),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.registerInteractionHandler(s,this.interactionHandler)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.destroy=function(){var e,n;try{for(var i=ae(on),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.deregisterInteractionHandler(s,this.interactionHandler)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.setDisabled=function(e){this.savedTabIndex&&(e?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",rn.ICON_ROLE)))},t.prototype.setAriaLabel=function(e){this.adapter.setAttr("aria-label",e)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.handleInteraction=function(e){var n=e.key==="Enter"||e.keyCode===13;(e.type==="click"||n)&&this.adapter.notifyIconAction()},t}(ne);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var sr=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForSelect",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this,n={getAttr:function(i){return e.root.getAttribute(i)},setAttr:function(i,o){return e.root.setAttribute(i,o)},removeAttr:function(i){return e.root.removeAttribute(i)},setContent:function(i){e.root.textContent=i},registerInteractionHandler:function(i,o){return e.listen(i,o)},deregisterInteractionHandler:function(i,o){return e.unlisten(i,o)},notifyIconAction:function(){return e.emit(sn.strings.ICON_EVENT,{},!0)}};return new sn(n)},t}(re);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ar=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,n,i,o,s,a){if(e===void 0&&(e=function(m){return new $n(m)}),n===void 0&&(n=function(m){return new jn(m)}),i===void 0&&(i=function(m){return new Wn(m)}),o===void 0&&(o=function(m){return new nr(m)}),s===void 0&&(s=function(m){return new sr(m)}),a===void 0&&(a=function(m){return new or(m)}),this.selectAnchor=this.root.querySelector(J.SELECT_ANCHOR_SELECTOR),this.selectedText=this.root.querySelector(J.SELECTED_TEXT_SELECTOR),this.hiddenInput=this.root.querySelector(J.HIDDEN_INPUT_SELECTOR),!this.selectedText)throw new Error("MDCSelect: Missing required element: The following selector must be present: "+("'"+J.SELECTED_TEXT_SELECTOR+"'"));if(this.selectAnchor.hasAttribute(J.ARIA_CONTROLS)){var l=document.getElementById(this.selectAnchor.getAttribute(J.ARIA_CONTROLS));l&&(this.helperText=a(l))}this.menuSetup(o);var u=this.root.querySelector(J.LABEL_SELECTOR);this.label=u?e(u):null;var c=this.root.querySelector(J.LINE_RIPPLE_SELECTOR);this.lineRipple=c?n(c):null;var f=this.root.querySelector(J.OUTLINE_SELECTOR);this.outline=f?i(f):null;var v=this.root.querySelector(J.LEADING_ICON_SELECTOR);v&&(this.leadingIcon=s(v)),this.root.classList.contains(q.OUTLINED)||(this.ripple=this.createRipple())},t.prototype.initialSyncWithDOM=function(){var e=this;if(this.handleFocus=function(){e.foundation.handleFocus()},this.handleBlur=function(){e.foundation.handleBlur()},this.handleClick=function(n){e.selectAnchor.focus(),e.foundation.handleClick(e.getNormalizedXCoordinate(n))},this.handleKeydown=function(n){e.foundation.handleKeydown(n)},this.handleMenuItemAction=function(n){e.foundation.handleMenuItemAction(n.detail.index)},this.handleMenuOpened=function(){e.foundation.handleMenuOpened()},this.handleMenuClosed=function(){e.foundation.handleMenuClosed()},this.handleMenuClosing=function(){e.foundation.handleMenuClosing()},this.selectAnchor.addEventListener("focus",this.handleFocus),this.selectAnchor.addEventListener("blur",this.handleBlur),this.selectAnchor.addEventListener("click",this.handleClick),this.selectAnchor.addEventListener("keydown",this.handleKeydown),this.menu.listen(Ee.CLOSED_EVENT,this.handleMenuClosed),this.menu.listen(Ee.CLOSING_EVENT,this.handleMenuClosing),this.menu.listen(Ee.OPENED_EVENT,this.handleMenuOpened),this.menu.listen(me.SELECTED_EVENT,this.handleMenuItemAction),this.hiddenInput){if(this.hiddenInput.value){this.foundation.setValue(this.hiddenInput.value,!0),this.foundation.layout();return}this.hiddenInput.value=this.value}},t.prototype.destroy=function(){this.selectAnchor.removeEventListener("focus",this.handleFocus),this.selectAnchor.removeEventListener("blur",this.handleBlur),this.selectAnchor.removeEventListener("keydown",this.handleKeydown),this.selectAnchor.removeEventListener("click",this.handleClick),this.menu.unlisten(Ee.CLOSED_EVENT,this.handleMenuClosed),this.menu.unlisten(Ee.OPENED_EVENT,this.handleMenuOpened),this.menu.unlisten(me.SELECTED_EVENT,this.handleMenuItemAction),this.menu.destroy(),this.ripple&&this.ripple.destroy(),this.outline&&this.outline.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.helperText&&this.helperText.destroy(),r.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(e){this.foundation.setValue(e)},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e,n){n===void 0&&(n=!1),this.foundation.setValue(e,n)},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(e){this.foundation.setSelectedIndex(e,!0)},enumerable:!1,configurable:!0}),t.prototype.setSelectedIndex=function(e,n){n===void 0&&(n=!1),this.foundation.setSelectedIndex(e,!0,n)},Object.defineProperty(t.prototype,"disabled",{get:function(){return this.foundation.getDisabled()},set:function(e){this.foundation.setDisabled(e),this.hiddenInput&&(this.hiddenInput.disabled=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconAriaLabel",{set:function(e){this.foundation.setLeadingIconAriaLabel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconContent",{set:function(e){this.foundation.setLeadingIconContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"helperTextContent",{set:function(e){this.foundation.setHelperTextContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultValidation",{set:function(e){this.foundation.setUseDefaultValidation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(e){this.foundation.setValid(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this.foundation.getRequired()},set:function(e){this.foundation.setRequired(e)},enumerable:!1,configurable:!0}),t.prototype.layout=function(){this.foundation.layout()},t.prototype.layoutOptions=function(){this.foundation.layoutOptions(),this.menu.layout(),this.menuItemValues=this.menu.items.map(function(e){return e.getAttribute(J.VALUE_ATTR)||""}),this.hiddenInput&&(this.hiddenInput.value=this.value)},t.prototype.getDefaultFoundation=function(){var e=x(x(x(x({},this.getSelectAdapterMethods()),this.getCommonAdapterMethods()),this.getOutlineAdapterMethods()),this.getLabelAdapterMethods());return new ir(e,this.getFoundationMap())},t.prototype.menuSetup=function(e){this.menuElement=this.root.querySelector(J.MENU_SELECTOR),this.menu=e(this.menuElement),this.menu.hasTypeahead=!0,this.menu.singleSelection=!0,this.menuItemValues=this.menu.items.map(function(n){return n.getAttribute(J.VALUE_ATTR)||""})},t.prototype.createRipple=function(){var e=this,n=x(x({},Oe.createAdapter({root:this.selectAnchor})),{registerInteractionHandler:function(i,o){e.selectAnchor.addEventListener(i,o)},deregisterInteractionHandler:function(i,o){e.selectAnchor.removeEventListener(i,o)}});return new Oe(this.selectAnchor,new Mt(n))},t.prototype.getSelectAdapterMethods=function(){var e=this;return{getMenuItemAttr:function(n,i){return n.getAttribute(i)},setSelectedText:function(n){e.selectedText.textContent=n},isSelectAnchorFocused:function(){return document.activeElement===e.selectAnchor},getSelectAnchorAttr:function(n){return e.selectAnchor.getAttribute(n)},setSelectAnchorAttr:function(n,i){e.selectAnchor.setAttribute(n,i)},removeSelectAnchorAttr:function(n){e.selectAnchor.removeAttribute(n)},addMenuClass:function(n){e.menuElement.classList.add(n)},removeMenuClass:function(n){e.menuElement.classList.remove(n)},openMenu:function(){e.menu.open=!0},closeMenu:function(){e.menu.open=!1},getAnchorElement:function(){return e.root.querySelector(J.SELECT_ANCHOR_SELECTOR)},setMenuAnchorElement:function(n){e.menu.setAnchorElement(n)},setMenuAnchorCorner:function(n){e.menu.setAnchorCorner(n)},setMenuWrapFocus:function(n){e.menu.wrapFocus=n},getSelectedIndex:function(){var n=e.menu.selectedIndex;return n instanceof Array?n[0]:n},setSelectedIndex:function(n){e.menu.selectedIndex=n},focusMenuItemAtIndex:function(n){e.menu.items[n].focus()},getMenuItemCount:function(){return e.menu.items.length},getMenuItemValues:function(){return e.menuItemValues},getMenuItemTextAtIndex:function(n){return e.menu.getPrimaryTextAtIndex(n)},isTypeaheadInProgress:function(){return e.menu.typeaheadInProgress},typeaheadMatchItem:function(n,i){return e.menu.typeaheadMatchItem(n,i)}}},t.prototype.getCommonAdapterMethods=function(){var e=this;return{addClass:function(n){e.root.classList.add(n)},removeClass:function(n){e.root.classList.remove(n)},hasClass:function(n){return e.root.classList.contains(n)},setRippleCenter:function(n){e.lineRipple&&e.lineRipple.setRippleCenter(n)},activateBottomLine:function(){e.lineRipple&&e.lineRipple.activate()},deactivateBottomLine:function(){e.lineRipple&&e.lineRipple.deactivate()},notifyChange:function(n){e.hiddenInput&&(e.hiddenInput.value=n);var i=e.selectedIndex;e.emit(J.CHANGE_EVENT,{value:n,index:i},!0)}}},t.prototype.getOutlineAdapterMethods=function(){var e=this;return{hasOutline:function(){return!!e.outline},notchOutline:function(n){e.outline&&e.outline.notch(n)},closeOutline:function(){e.outline&&e.outline.closeNotch()}}},t.prototype.getLabelAdapterMethods=function(){var e=this;return{hasLabel:function(){return!!e.label},floatLabel:function(n){e.label&&e.label.float(n)},getLabelWidth:function(){return e.label?e.label.getWidth():0},setLabelRequired:function(n){e.label&&e.label.setRequired(n)}}},t.prototype.getNormalizedXCoordinate=function(e){var n=e.target.getBoundingClientRect(),i=this.isTouchEvent(e)?e.touches[0].clientX:e.clientX;return i-n.left},t.prototype.isTouchEvent=function(e){return!!e.touches},t.prototype.getFoundationMap=function(){return{helperText:this.helperText?this.helperText.foundationForSelect:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForSelect:void 0}},t}(re);function an(r,t,e){const n=r.slice();return n[6]=t[e],n}function ln(r){let t,e,n,i,o=r[6]+"",s,a,l,u,c;return{c(){t=I("li"),e=I("span"),n=L(),i=I("span"),s=W(o),a=L(),p(e,"class","mdc-list-item__ripple"),p(i,"class","mdc-list-item__text"),p(t,"class",l=`mdc-list-item ${r[6]==r[0]?"mdc-list-item--selected":""}`),p(t,"aria-selected",u=r[6]==r[0]),p(t,"data-value",c=r[6]),p(t,"role","menuitem")},m(f,v){w(f,t,v),d(t,e),d(t,n),d(t,i),d(i,s),d(t,a)},p(f,v){v&2&&o!==(o=f[6]+"")&&Q(s,o),v&3&&l!==(l=`mdc-list-item ${f[6]==f[0]?"mdc-list-item--selected":""}`)&&p(t,"class",l),v&3&&u!==(u=f[6]==f[0])&&p(t,"aria-selected",u),v&2&&c!==(c=f[6])&&p(t,"data-value",c)},d(f){f&&M(t)}}}function lr(r){let t,e,n,i,o,s,a,l,u,c,f,v,m,b,A,y,T,C=r[1],_=[];for(let g=0;g<C.length;g+=1)_[g]=ln(an(r,C,g));return{c(){t=I("div"),e=I("div"),n=I("span"),i=I("span"),o=L(),s=I("span"),a=I("span"),l=W(r[2]),u=L(),c=I("span"),f=L(),v=I("span"),v.innerHTML='<span id="demo-selected-text" class="mdc-select__selected-text"></span>',m=L(),b=I("span"),b.innerHTML='<svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false"><polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10"></polygon><polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15"></polygon></svg>',A=L(),y=I("div"),T=I("ul");for(let g=0;g<_.length;g+=1)_[g].c();p(i,"class","mdc-notched-outline__leading"),p(a,"id",r[2]),p(a,"class","mdc-floating-label"),p(s,"class","mdc-notched-outline__notch"),p(c,"class","mdc-notched-outline__trailing"),p(n,"class","mdc-notched-outline"),p(v,"class","mdc-select__selected-text-container"),p(b,"class","mdc-select__dropdown-icon"),p(e,"class","mdc-select__anchor"),p(e,"aria-labelledby",r[2]),p(T,"class","mdc-list"),p(T,"role","menu"),p(T,"aria-hidden","true"),p(T,"aria-orientation","vertical"),p(T,"tabindex","-1"),p(y,"class","mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth"),p(t,"class","mdc-select mdc-select--outlined"),p(t,"id",r[3])},m(g,E){w(g,t,E),d(t,e),d(e,n),d(n,i),d(n,o),d(n,s),d(s,a),d(a,l),d(n,u),d(n,c),d(e,f),d(e,v),d(e,m),d(e,b),d(t,A),d(t,y),d(y,T);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(T,null)},p(g,[E]){if(E&4&&Q(l,g[2]),E&4&&p(a,"id",g[2]),E&4&&p(e,"aria-labelledby",g[2]),E&3){C=g[1];let h;for(h=0;h<C.length;h+=1){const S=an(g,C,h);_[h]?_[h].p(S,E):(_[h]=ln(S),_[h].c(),_[h].m(T,null))}for(;h<_.length;h+=1)_[h].d(1);_.length=C.length}E&8&&p(t,"id",g[3])},i:N,o:N,d(g){g&&M(t),dt(_,g)}}}function ur(r,t,e){let{options:n=[]}=t,{label:i=""}=t,{id:o=""}=t,{selectedId:s=null}=t;const a=xe();function l(u){a("valueChanged",{selectedOption:u})}return Re(()=>{new ar(document.querySelector(`#${o}.mdc-select`)).listen("MDCSelect:change",c=>{e(0,s=c.detail.value),l(s)})}),r.$$set=u=>{"options"in u&&e(1,n=u.options),"label"in u&&e(2,i=u.label),"id"in u&&e(3,o=u.id),"selectedId"in u&&e(0,s=u.selectedId)},[s,n,i,o]}class Lt extends fe{constructor(t){super(),de(this,t,ur,lr,ee,{options:1,label:2,id:3,selectedId:0})}}async function wt(r,t=5e3,e=n=>Yn(n)){let n;const i=new AbortController;setTimeout(()=>i.abort(),t);try{n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});const o=await n.json();if(!n.ok)throw new Error(`Fetch Get Call Failed for ${r}, response: ${n.statusText}`);return o}catch(o){e(o)}}async function Ft(r,t,e=!0,n=5e3,i=o=>Yn(o)){let o;const s=new AbortController;setTimeout(()=>s.abort(),n);try{if(o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),!o.ok)throw new Error(`Fetch Post Call Failed for ${r}, response: ${o.statusText}`);return e?await o.json():o.ok}catch(a){i(a)}}function Yn(r){throw new Error(`Error during fetch operation: ${r}`)}const Jn="https://frontend-take-home-service.fetch.com";async function cr(r,t){let e={name:r,email:t},n=Jn+"/auth/login";return await Ft(n,e,!1)}async function dr(){let r=Jn+"/auth/logout";try{let t=await fetch(r,{method:"POST",credentials:"include"});if(!t.ok)throw new Error(`Fetch Post Call Failed for ${r}, response: ${t.statusText}`);return t.ok}catch(t){console.log(t)}}const et="https://frontend-take-home-service.fetch.com";async function fr(){let r=et+"/dogs/breeds";return await wt(r)}async function hr(r,t,e,n,i,o,s,a){let l=et+"/dogs/search?";return l+=r?`breeds=${r}`:"",l+=t?`&zipCodes=${t}`:"",l+=e?`&ageMin=${e}`:"",l+=n?`&ageMax=${n}`:"",l+=i?`&size=${i}`:"",l+=o?`&from=${o}`:"",l+=s&&a?`&sort=${s}:${a}`:"",await wt(l)}async function Ot(r){let t=et+"/dogs";return await Ft(t,r)}async function pr(r){let t=et+r;return await wt(t)}async function mr(r){let t=et+"/dogs/match";return await Ft(t,r)}function gr(r){let t,e,n,i,o,s,a,l,u,c,f,v,m,b,A,y,T;return a=new At({props:{id:"name",label:"Name"}}),a.$on("valueChanged",r[0]),u=new At({props:{id:"email",label:"Email"}}),u.$on("valueChanged",r[1]),v=new Je({props:{label:"Login"}}),{c(){t=I("main"),e=I("div"),n=I("h1"),n.textContent="Fetch Finder",i=L(),o=I("form"),s=I("div"),j(a.$$.fragment),l=L(),j(u.$$.fragment),c=L(),f=I("div"),j(v.$$.fragment),m=L(),b=I("div"),p(s,"class","card"),p(f,"class","card"),p(o,"method","get"),p(t,"id","login")},m(C,_){w(C,t,_),d(t,e),d(e,n),d(e,i),d(e,o),d(o,s),V(a,s,null),d(s,l),V(u,s,null),d(o,c),d(o,f),V(v,f,null),d(e,m),d(e,b),A=!0,y||(T=Ke(o,"submit",oi(r[2])),y=!0)},p:N,i(C){A||(O(a.$$.fragment,C),O(u.$$.fragment,C),O(v.$$.fragment,C),A=!0)},o(C){D(a.$$.fragment,C),D(u.$$.fragment,C),D(v.$$.fragment,C),A=!1},d(C){C&&M(t),G(a),G(u),G(v),y=!1,T()}}}function vr(r){let t="",e="";function n(s){t=s.detail.value}function i(s){e=s.detail.value}document.addEventListener("keydown",function(s){s.key==="Enter"&&o()});async function o(){let s=!1;try{let a=cr(t,e).then(l=>{window.location.href="/#/Browse",s=!0})}catch{console.log(`Login failed for ${t}, ${e}`)}}return[n,i,o]}class un extends fe{constructor(t){super(),de(this,t,vr,gr,ee,{})}}function ei(){var t;let r=localStorage.getItem("fetch-favorites");return r&&r!="null"&&((t=r==null?void 0:r.trim())==null?void 0:t.length)>0?r.split(","):[]}function ut(r){localStorage.setItem("fetch-favorites",r.toString())}function Er(r){let t=r.substring(r.indexOf("?"),r.length);const e=new URLSearchParams(t),n={};for(const[i,o]of e.entries())n[i]=o;return n}const Ir=r=>({}),cn=r=>({});function br(r){let t;return{c(){t=I("span"),t.textContent="favorite_border",p(t,"class","material-icons-outlined")},m(e,n){w(e,t,n)},d(e){e&&M(t)}}}function yr(r){let t;return{c(){t=I("span"),t.textContent="favorite",p(t,"class","material-icons-outlined")},m(e,n){w(e,t,n)},d(e){e&&M(t)}}}function Cr(r){let t,e,n,i,o,s,a,l,u,c,f,v,m,b,A,y,T;function C(S,P){return S[0]?yr:br}let _=C(r),g=_(r);const E=r[6].descriptionSlot,h=Tn(E,r,r[5],cn);return{c(){t=I("div"),e=I("div"),n=I("div"),i=I("div"),o=I("img"),a=L(),l=I("div"),u=I("h3"),c=W(r[1]),f=L(),g.c(),v=L(),h&&h.c(),m=L(),b=I("div"),p(o,"class","mdc-card__img"),kt(o.src,s=r[2])||p(o,"src",s),p(i,"class","mdc-card__media-content"),p(n,"class","mdc-card__media mdc-card__media--square"),p(b,"class","mdc-card__ripple"),p(e,"class","mdc-card__primary-action"),p(t,"class","mdc-card mdc-card--outlined"),p(t,"id",r[3])},m(S,P){w(S,t,P),d(t,e),d(e,n),d(n,i),d(i,o),d(e,a),d(e,l),d(l,u),d(u,c),d(u,f),g.m(u,null),d(e,v),h&&h.m(e,null),d(e,m),d(e,b),A=!0,y||(T=Ke(t,"click",r[4]),y=!0)},p(S,[P]){(!A||P&4&&!kt(o.src,s=S[2]))&&p(o,"src",s),(!A||P&2)&&Q(c,S[1]),_!==(_=C(S))&&(g.d(1),g=_(S),g&&(g.c(),g.m(u,null))),h&&h.p&&(!A||P&32)&&Dn(h,E,S,S[5],A?On(E,S[5],P,Ir):Rn(S[5]),cn),(!A||P&8)&&p(t,"id",S[3])},i(S){A||(O(h,S),A=!0)},o(S){D(h,S),A=!1},d(S){S&&M(t),g.d(),h&&h.d(S),y=!1,T()}}}function _r(r,t,e){let{$$slots:n={},$$scope:i}=t,{title:o=""}=t,{imgSrc:s=null}=t,{id:a=null}=t,{favorite:l=!1}=t;const u=xe();function c(f){e(0,l=!l),u("favorited",{id:a,favorite:l})}return Re(()=>{const f=".mdc-button, .mdc-icon-button, .mdc-card__primary-action";[].map.call(document.querySelectorAll(f),function(v){return new Oe(v)})}),r.$$set=f=>{"title"in f&&e(1,o=f.title),"imgSrc"in f&&e(2,s=f.imgSrc),"id"in f&&e(3,a=f.id),"favorite"in f&&e(0,l=f.favorite),"$$scope"in f&&e(5,i=f.$$scope)},[l,o,s,a,c,i,n]}class Nt extends fe{constructor(t){super(),de(this,t,_r,Cr,ee,{title:1,imgSrc:2,id:3,favorite:0})}}function Ar(r){let t,e,n,i,o,s,a,l,u,c,f;return{c(){t=I("div"),e=I("a"),n=I("span"),i=L(),o=I("span"),s=L(),a=I("span"),l=W(r[0]),p(n,"class","mdc-button__ripple"),p(o,"class","mdc-button__touch"),p(a,"class","mdc-button__label"),p(e,"href",r[1]),p(e,"class",u=`fc-button mdc-button mdc-button--touch ${r[2]}`),p(t,"class","mdc-touch-target-wrapper")},m(v,m){w(v,t,m),d(t,e),d(e,n),d(e,i),d(e,o),d(e,s),d(e,a),d(a,l),c||(f=Ke(e,"click",r[3]),c=!0)},p(v,[m]){m&1&&Q(l,v[0]),m&2&&p(e,"href",v[1]),m&4&&u!==(u=`fc-button mdc-button mdc-button--touch ${v[2]}`)&&p(e,"class",u)},i:N,o:N,d(v){v&&M(t),c=!1,f()}}}function Sr(r,t,e){let{label:n=""}=t,{disabled:i=!1}=t,{href:o=""}=t,{theme:s="mdc-button--raised"}=t;const a=xe();function l(u){a("click",{buttonElement:u.currentTarget})}return Re(()=>{new Oe(document.querySelector(".mdc-button"))}),r.$$set=u=>{"label"in u&&e(0,n=u.label),"disabled"in u&&e(4,i=u.disabled),"href"in u&&e(1,o=u.href),"theme"in u&&e(2,s=u.theme)},[n,o,s,l,i]}class gt extends fe{constructor(t){super(),de(this,t,Sr,Ar,ee,{label:0,disabled:4,href:1,theme:2})}}function dn(r,t,e){const n=r.slice();return n[7]=t[e],n[9]=e,n}function fn(r){let t,e,n,i,o,s,a,l=r[7].label+"",u,c,f,v,m,b,A,y,T,C,_;return{c(){t=I("div"),e=I("button"),n=I("span"),i=L(),o=I("span"),s=L(),a=I("span"),u=W(l),c=L(),f=I("span"),v=W("arrow_upward"),T=L(),p(n,"class","mdc-button__ripple"),p(o,"class","mdc-button__touch"),p(f,"class",m=`material-symbols-outlined ${r[3]?"":"flipped"} ${r[7].id==r[0]?"visible":""}`),p(a,"class","mdc-button__label"),p(e,"id",b=r[7].id),p(e,"aria-label",A=`${r[1]}: ${r[7].label}`),p(e,"class",y=`fc-button mdc-button  mdc-button--touch mdc-button--large ${r[7].id==r[0]?"btn__toggle-group--selected":""}  ${r[7].id==r[0]?"mdc-button--raised":"mdc-button--outlined"}`),p(t,"class","mdc-touch-target-wrapper")},m(g,E){w(g,t,E),d(t,e),d(e,n),d(e,i),d(e,o),d(e,s),d(e,a),d(a,u),d(a,c),d(a,f),d(f,v),d(t,T),C||(_=Ke(e,"click",r[4]),C=!0)},p(g,E){E&4&&l!==(l=g[7].label+"")&&Q(u,l),E&13&&m!==(m=`material-symbols-outlined ${g[3]?"":"flipped"} ${g[7].id==g[0]?"visible":""}`)&&p(f,"class",m),E&4&&b!==(b=g[7].id)&&p(e,"id",b),E&6&&A!==(A=`${g[1]}: ${g[7].label}`)&&p(e,"aria-label",A),E&5&&y!==(y=`fc-button mdc-button  mdc-button--touch mdc-button--large ${g[7].id==g[0]?"btn__toggle-group--selected":""}  ${g[7].id==g[0]?"mdc-button--raised":"mdc-button--outlined"}`)&&p(e,"class",y)},d(g){g&&M(t),C=!1,_()}}}function Tr(r){let t,e,n,i,o,s,a=r[2],l=[];for(let u=0;u<a.length;u+=1)l[u]=fn(dn(r,a,u));return{c(){t=I("div"),e=I("div"),n=I("h3"),i=W(r[1]),o=L(),s=I("div");for(let u=0;u<l.length;u+=1)l[u].c();p(e,"class","form--label"),p(e,"id","toggleBtnLabel"),p(s,"class","btn__toggle-group__group"),p(t,"class","btn__toggle-group")},m(u,c){w(u,t,c),d(t,e),d(e,n),d(n,i),d(t,o),d(t,s);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,null)},p(u,[c]){if(c&2&&Q(i,u[1]),c&31){a=u[2];let f;for(f=0;f<a.length;f+=1){const v=dn(u,a,f);l[f]?l[f].p(v,c):(l[f]=fn(v),l[f].c(),l[f].m(s,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=a.length}},i:N,o:N,d(u){u&&M(t),dt(l,u)}}}function Lr(r,t,e){let{label:n=""}=t,{toggleOptions:i=[]}=t,{selectedToggleId:o=""}=t,s="",a=!0;const l=xe();async function u(c){e(0,o=c.currentTarget.getAttribute("id")),s==o?e(3,a=!a):e(3,a=!0),await Fn(),l("toggleClicked",{value:o,sortAsc:a}),s=o}return r.$$set=c=>{"label"in c&&e(1,n=c.label),"toggleOptions"in c&&e(2,i=c.toggleOptions),"selectedToggleId"in c&&e(0,o=c.selectedToggleId)},[o,n,i,a,u]}class Or extends fe{constructor(t){super(),de(this,t,Lr,Tr,ee,{label:1,toggleOptions:2,selectedToggleId:0})}}function Dr(r){let t,e,n,i,o,s,a,l;return n=new gt({props:{theme:"",href:"/#/Browse",label:"Browse"}}),o=new gt({props:{theme:"",href:"/#/Favorites",label:"Favorites"}}),a=new gt({props:{theme:"",href:"/#/Login",label:"Logout"}}),a.$on("click",dr),{c(){t=I("header"),e=I("div"),j(n.$$.fragment),i=L(),j(o.$$.fragment),s=L(),j(a.$$.fragment),p(e,"class","row align-right")},m(u,c){w(u,t,c),d(t,e),V(n,e,null),d(e,i),V(o,e,null),d(e,s),V(a,e,null),l=!0},p:N,i(u){l||(O(n.$$.fragment,u),O(o.$$.fragment,u),O(a.$$.fragment,u),l=!0)},o(u){D(n.$$.fragment,u),D(o.$$.fragment,u),D(a.$$.fragment,u),l=!1},d(u){u&&M(t),G(n),G(o),G(a)}}}class ti extends fe{constructor(t){super(),de(this,t,null,Dr,ee,{})}}function hn(r,t,e){const n=r.slice();return n[27]=t[e],n}function pn(r){let t,e;return t=new Lt({props:{id:"dogBreedDropdown",label:"Breed",options:r[0]}}),t.$on("valueChanged",r[11]),{c(){j(t.$$.fragment)},m(n,i){V(t,n,i),e=!0},p(n,i){const o={};i&1&&(o.options=n[0]),t.$set(o)},i(n){e||(O(t.$$.fragment,n),e=!0)},o(n){D(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Rr(r){let t,e,n=r[1],i,o,s,a=r[2]&&mn(r),l=vn(r),u=r[2]&&En(r);return{c(){a&&a.c(),t=L(),e=I("div"),l.c(),i=L(),u&&u.c(),o=De(),p(e,"class","grid-4-col")},m(c,f){a&&a.m(c,f),w(c,t,f),w(c,e,f),l.m(e,null),w(c,i,f),u&&u.m(c,f),w(c,o,f),s=!0},p(c,f){c[2]?a?(a.p(c,f),f&4&&O(a,1)):(a=mn(c),a.c(),O(a,1),a.m(t.parentNode,t)):a&&(le(),D(a,1,1,()=>{a=null}),ue()),f&2&&ee(n,n=c[1])?(le(),D(l,1,1,N),ue(),l=vn(c),l.c(),O(l,1),l.m(e,null)):l.p(c,f),c[2]?u?(u.p(c,f),f&4&&O(u,1)):(u=En(c),u.c(),O(u,1),u.m(o.parentNode,o)):u&&(le(),D(u,1,1,()=>{u=null}),ue())},i(c){s||(O(a),O(l),O(u),s=!0)},o(c){D(a),D(l),D(u),s=!1},d(c){a&&a.d(c),c&&M(t),c&&M(e),l.d(c),c&&M(i),u&&u.d(c),c&&M(o)}}}function xr(r){let t;return{c(){t=I("div"),t.innerHTML=`<h2>Sorry, no dogs match the criteria you searched by! Adjust your
            search filters and try again.</h2>`,p(t,"class","error-message")},m(e,n){w(e,t,n)},p:N,i:N,o:N,d(e){e&&M(t)}}}function Mr(r){let t,e,n;return{c(){t=I("div"),e=I("h2"),n=W(r[5]),p(t,"class","error-message")},m(i,o){w(i,t,o),d(t,e),d(e,n)},p(i,o){o&32&&Q(n,i[5])},i:N,o:N,d(i){i&&M(t)}}}function mn(r){let t,e,n,i,o;return e=new Or({props:{toggleOptions:r[8],label:"Sort"}}),e.$on("toggleClicked",r[14]),i=new Je({props:{label:"Next Page"}}),i.$on("click",r[16]),{c(){t=I("div"),j(e.$$.fragment),n=L(),j(i.$$.fragment),p(t,"class","row sort")},m(s,a){w(s,t,a),V(e,t,null),d(t,n),V(i,t,null),o=!0},p:N,i(s){o||(O(e.$$.fragment,s),O(i.$$.fragment,s),o=!0)},o(s){D(e.$$.fragment,s),D(i.$$.fragment,s),o=!1},d(s){s&&M(t),G(e),G(i)}}}function wr(r){let t,e,n,i,o,s,a=r[27].breed+"",l,u,c,f,v,m=r[27].age+"",b,A,y,T,C,_=r[27].zip_code+"",g,E;return{c(){t=I("div"),e=I("dl"),n=I("span"),i=I("dt"),i.textContent="Breed:",o=L(),s=I("dd"),l=W(a),u=L(),c=I("dt"),c.textContent="Age:",f=L(),v=I("dd"),b=W(m),A=L(),y=I("dt"),y.textContent="ZipCode:",T=L(),C=I("dd"),g=W(_),E=L(),p(n,"class","info-list"),p(t,"slot","descriptionSlot")},m(h,S){w(h,t,S),d(t,e),d(e,n),d(n,i),d(n,o),d(n,s),d(s,l),d(n,u),d(n,c),d(n,f),d(n,v),d(v,b),d(n,A),d(n,y),d(n,T),d(n,C),d(C,g),d(t,E)},p(h,S){S&2&&a!==(a=h[27].breed+"")&&Q(l,a),S&2&&m!==(m=h[27].age+"")&&Q(b,m),S&2&&_!==(_=h[27].zip_code+"")&&Q(g,_)},d(h){h&&M(t)}}}function gn(r){var n;let t,e;return t=new Nt({props:{title:r[27].name,imgSrc:r[27].img,id:r[27].id,favorite:(n=r[4])==null?void 0:n.includes(r[27].id),$$slots:{descriptionSlot:[wr]},$$scope:{ctx:r}}}),t.$on("favorited",r[15]),{c(){j(t.$$.fragment)},m(i,o){V(t,i,o),e=!0},p(i,o){var a;const s={};o&2&&(s.title=i[27].name),o&2&&(s.imgSrc=i[27].img),o&2&&(s.id=i[27].id),o&18&&(s.favorite=(a=i[4])==null?void 0:a.includes(i[27].id)),o&1073741826&&(s.$$scope={dirty:o,ctx:i}),t.$set(s)},i(i){e||(O(t.$$.fragment,i),e=!0)},o(i){D(t.$$.fragment,i),e=!1},d(i){G(t,i)}}}function vn(r){let t,e,n=r[1],i=[];for(let s=0;s<n.length;s+=1)i[s]=gn(hn(r,n,s));const o=s=>D(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=De()},m(s,a){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);w(s,t,a),e=!0},p(s,a){if(a&32786){n=s[1];let l;for(l=0;l<n.length;l+=1){const u=hn(s,n,l);i[l]?(i[l].p(u,a),O(i[l],1)):(i[l]=gn(u),i[l].c(),O(i[l],1),i[l].m(t.parentNode,t))}for(le(),l=n.length;l<i.length;l+=1)o(l);ue()}},i(s){if(!e){for(let a=0;a<n.length;a+=1)O(i[a]);e=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)D(i[a]);e=!1},d(s){dt(i,s),s&&M(t)}}}function En(r){let t,e,n;return e=new Je({props:{label:"Next Page"}}),e.$on("click",r[16]),{c(){t=I("div"),j(e.$$.fragment),p(t,"class","row align-right")},m(i,o){w(i,t,o),V(e,t,null),n=!0},p:N,i(i){n||(O(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){i&&M(t),G(e)}}}function Fr(r){let t,e,n,i,o,s,a,l,u,c,f=(r[3]?r[3]:"0")+"",v,m,b,A,y=r[0],T,C,_,g,E,h,S,P,Z,tt,we,Y,H,_e;e=new ti({});let ie=pn(r);C=new At({props:{id:"zipCodeInput",label:"Zip Code"}}),C.$on("valueChanged",r[10]),g=new Lt({props:{id:"ageMinDropdown",label:"Minimum Age",options:r[7]}}),g.$on("valueChanged",r[12]),h=new Lt({props:{id:"ageMaxDropdown",label:"Maxiumum Age",options:r[7]}}),h.$on("valueChanged",r[13]),Z=new Je({props:{label:"Search"}}),Z.$on("click",r[9]);const ht=[Mr,xr,Rr],ge=[];function Pt(k,Ae){return k[5]?0:!k[6]&&k[3]<1?1:k[1].length>0?2:-1}return~(Y=Pt(r))&&(H=ge[Y]=ht[Y](r)),{c(){t=I("main"),j(e.$$.fragment),n=L(),i=I("div"),o=I("h1"),o.textContent="Browse Adoptable Dogs",s=L(),a=I("aside"),l=I("h2"),l.textContent="Filter + Sort",u=L(),c=I("h3"),v=W(f),m=W(" dogs found"),b=L(),A=I("div"),ie.c(),T=L(),j(C.$$.fragment),_=L(),j(g.$$.fragment),E=L(),j(h.$$.fragment),S=L(),P=I("div"),j(Z.$$.fragment),tt=L(),we=I("div"),H&&H.c(),p(o,"class","row"),p(A,"class","aside-filters"),p(P,"class","align-center"),p(we,"class","browse main"),p(i,"class","core-content")},m(k,Ae){w(k,t,Ae),V(e,t,null),d(t,n),d(t,i),d(i,o),d(i,s),d(i,a),d(a,l),d(a,u),d(a,c),d(c,v),d(c,m),d(a,b),d(a,A),ie.m(A,null),d(A,T),V(C,A,null),d(A,_),V(g,A,null),d(A,E),V(h,A,null),d(a,S),d(a,P),V(Z,P,null),d(i,tt),d(i,we),~Y&&ge[Y].m(we,null),_e=!0},p(k,[Ae]){(!_e||Ae&8)&&f!==(f=(k[3]?k[3]:"0")+"")&&Q(v,f),Ae&1&&ee(y,y=k[0])?(le(),D(ie,1,1,N),ue(),ie=pn(k),ie.c(),O(ie,1),ie.m(A,T)):ie.p(k,Ae);let pt=Y;Y=Pt(k),Y===pt?~Y&&ge[Y].p(k,Ae):(H&&(le(),D(ge[pt],1,1,()=>{ge[pt]=null}),ue()),~Y?(H=ge[Y],H?H.p(k,Ae):(H=ge[Y]=ht[Y](k),H.c()),O(H,1),H.m(we,null)):H=null)},i(k){_e||(O(e.$$.fragment,k),O(ie),O(C.$$.fragment,k),O(g.$$.fragment,k),O(h.$$.fragment,k),O(Z.$$.fragment,k),O(H),_e=!0)},o(k){D(e.$$.fragment,k),D(ie),D(C.$$.fragment,k),D(g.$$.fragment,k),D(h.$$.fragment,k),D(Z.$$.fragment,k),D(H),_e=!1},d(k){k&&M(t),G(e),ie.d(k),G(C),G(g),G(h),G(Z),~Y&&ge[Y].d()}}}let Nr="";function Pr(r,t,e){let n=[],i=[],o=[],s=null,a="",l="",u=0,c=20,f="",v=[...Array(21).keys().map(String)],m=null,b="asc",A=null,y=[],T=null,C=!0,_=[{id:"breed",label:"breed"},{id:"name",label:"name"},{id:"age",label:"age"}];async function g(){e(6,C=!0);try{let H=await hr(a,l,u,c,Nr,0,m,b);await E(H),e(6,C=!1)}catch{e(6,C=!1)}}async function E(H){i=H.resultIds,e(2,s=H.next),e(3,A=H.total),f=(await Er(s)).from,Number(f)>A&&e(2,s=null),e(1,o=await Ot(i))}function h(H){l=H.detail.value}function S(H){a=H.detail.selectedOption}function P(H){u=H.detail.selectedOption}function Z(H){c=H.detail.selectedOption}function tt(H){m=H.detail.value,b=H.detail.sortAsc?"asc":"desc",g()}function we(H){let _e=H.detail.favorite,ie=H.detail.id;_e?(y.push(ie),ut(y)):y.indexOf(ie)>-1&&(e(4,y=y.filter(ge=>ge!==ie)),ut(y))}async function Y(){if(s){let H=await pr(s);E(H)}else return}return Re(async()=>{try{e(0,n=await fr()),e(4,y=ei())}catch{e(5,T="There was an issue retrieving the data, please log in and try again.")}await g()}),[n,o,s,A,y,T,C,v,_,g,h,S,P,Z,tt,we,Y]}class Hr extends fe{constructor(t){super(),de(this,t,Pr,Fr,ee,{})}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function kr(r,t,e){return t(r,{initialFocusEl:e})}function Br(r){return r?r.scrollHeight>r.offsetHeight:!1}function Ur(r){return r?r.scrollTop===0:!1}function Vr(r){return r?Math.ceil(r.scrollHeight-r.scrollTop)===r.clientHeight:!1}function Gr(r){var t=new Set;return[].forEach.call(r,function(e){return t.add(e.offsetTop)}),t.size>1}/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var vt="mdc-dom-focus-sentinel",$r=function(){function r(t,e){e===void 0&&(e={}),this.root=t,this.options=e,this.elFocusedBeforeTrapFocus=null}return r.prototype.trapFocus=function(){var t=this.getFocusableElements(this.root);if(t.length===0)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(t,this.options.initialFocusEl)},r.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+vt)).forEach(function(t){t.parentElement.removeChild(t)}),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},r.prototype.wrapTabFocus=function(t){var e=this,n=this.createSentinel(),i=this.createSentinel();n.addEventListener("focus",function(){var o=e.getFocusableElements(t);o.length>0&&o[o.length-1].focus()}),i.addEventListener("focus",function(){var o=e.getFocusableElements(t);o.length>0&&o[0].focus()}),t.insertBefore(n,t.children[0]),t.appendChild(i)},r.prototype.focusInitialElement=function(t,e){var n=0;e&&(n=Math.max(t.indexOf(e),0)),t[n].focus()},r.prototype.getFocusableElements=function(t){var e=[].slice.call(t.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button"));return e.filter(function(n){var i=n.getAttribute("aria-disabled")==="true"||n.getAttribute("disabled")!=null||n.getAttribute("hidden")!=null||n.getAttribute("aria-hidden")==="true",o=n.tabIndex>=0&&n.getBoundingClientRect().width>0&&!n.classList.contains(vt)&&!i,s=!1;if(o){var a=getComputedStyle(n);s=a.display==="none"||a.visibility==="hidden"}return o&&!s})},r.prototype.createSentinel=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t.setAttribute("aria-hidden","true"),t.classList.add(vt),t},r}();/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var jr=function(){function r(){this.rafIDs=new Map}return r.prototype.request=function(t,e){var n=this;this.cancel(t);var i=requestAnimationFrame(function(o){n.rafIDs.delete(t),e(o)});this.rafIDs.set(t,i)},r.prototype.cancel=function(t){var e=this.rafIDs.get(t);e&&(cancelAnimationFrame(e),this.rafIDs.delete(t))},r.prototype.cancelAll=function(){var t=this;this.rafIDs.forEach(function(e,n){t.cancel(n)})},r.prototype.getQueue=function(){var t=[];return this.rafIDs.forEach(function(e,n){t.push(n)}),t},r}();/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var U={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},ze={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},Et={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ct;(function(r){r.POLL_SCROLL_POS="poll_scroll_position",r.POLL_LAYOUT_CHANGE="poll_layout_change"})(ct||(ct={}));var ni=function(r){B(t,r);function t(e){var n=r.call(this,x(x({},t.defaultAdapter),e))||this;return n.dialogOpen=!1,n.isFullscreen=!1,n.animationFrame=0,n.animationTimer=0,n.escapeKeyAction=ze.CLOSE_ACTION,n.scrimClickAction=ze.CLOSE_ACTION,n.autoStackButtons=!0,n.areButtonsStacked=!1,n.suppressDefaultPressSelector=ze.SUPPRESS_DEFAULT_PRESS_SELECTOR,n.animFrame=new jr,n.contentScrollHandler=function(){n.handleScrollEvent()},n.windowResizeHandler=function(){n.layout()},n.windowOrientationChangeHandler=function(){n.layout()},n}return Object.defineProperty(t,"cssClasses",{get:function(){return U},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return ze},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Et},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.hasClass(U.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(U.FULLSCREEN)},t.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},t.prototype.open=function(e){var n=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(U.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),e&&e.isAboveFullscreenDialog&&this.adapter.addClass(U.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame(function(){n.adapter.addClass(U.OPEN),n.adapter.addBodyClass(U.SCROLL_LOCK),n.layout(),n.animationTimer=setTimeout(function(){n.handleAnimationTimerEnd(),n.adapter.trapFocus(n.adapter.getInitialFocusEl()),n.adapter.notifyOpened()},Et.DIALOG_ANIMATION_OPEN_TIME_MS)})},t.prototype.close=function(e){var n=this;e===void 0&&(e=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(e),this.adapter.addClass(U.CLOSING),this.adapter.removeClass(U.OPEN),this.adapter.removeBodyClass(U.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout(function(){n.adapter.releaseFocus(),n.handleAnimationTimerEnd(),n.adapter.notifyClosed(e)},Et.DIALOG_ANIMATION_CLOSE_TIME_MS))},t.prototype.showSurfaceScrim=function(){var e=this;this.adapter.addClass(U.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame(function(){e.adapter.addClass(U.SURFACE_SCRIM_SHOWN)})},t.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(U.SURFACE_SCRIM_SHOWN),this.adapter.addClass(U.SURFACE_SCRIM_HIDING)},t.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(U.SURFACE_SCRIM_HIDING),this.adapter.removeClass(U.SURFACE_SCRIM_SHOWING)},t.prototype.isOpen=function(){return this.dialogOpen},t.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},t.prototype.setEscapeKeyAction=function(e){this.escapeKeyAction=e},t.prototype.getScrimClickAction=function(){return this.scrimClickAction},t.prototype.setScrimClickAction=function(e){this.scrimClickAction=e},t.prototype.getAutoStackButtons=function(){return this.autoStackButtons},t.prototype.setAutoStackButtons=function(e){this.autoStackButtons=e},t.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},t.prototype.setSuppressDefaultPressSelector=function(e){this.suppressDefaultPressSelector=e},t.prototype.layout=function(){var e=this;this.animFrame.request(ct.POLL_LAYOUT_CHANGE,function(){e.layoutInternal()})},t.prototype.handleClick=function(e){var n=this.adapter.eventTargetMatches(e.target,ze.SCRIM_SELECTOR);if(n&&this.scrimClickAction!=="")this.close(this.scrimClickAction);else{var i=this.adapter.getActionFromEvent(e);i&&this.close(i)}},t.prototype.handleKeydown=function(e){var n=e.key==="Enter"||e.keyCode===13;if(n){var i=this.adapter.getActionFromEvent(e);if(!i){var o=e.composedPath?e.composedPath()[0]:e.target,s=this.suppressDefaultPressSelector?!this.adapter.eventTargetMatches(o,this.suppressDefaultPressSelector):!0;n&&s&&this.adapter.clickDefaultButton()}}},t.prototype.handleDocumentKeydown=function(e){var n=e.key==="Escape"||e.keyCode===27;n&&this.escapeKeyAction!==""&&this.close(this.escapeKeyAction)},t.prototype.handleScrollEvent=function(){var e=this;this.animFrame.request(ct.POLL_SCROLL_POS,function(){e.toggleScrollDividerHeader(),e.toggleScrollDividerFooter()})},t.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},t.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(U.OPENING),this.adapter.removeClass(U.CLOSING)},t.prototype.runNextAnimationFrame=function(e){var n=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(function(){n.animationFrame=0,clearTimeout(n.animationTimer),n.animationTimer=setTimeout(e,0)})},t.prototype.detectStackedButtons=function(){this.adapter.removeClass(U.STACKED);var e=this.adapter.areButtonsStacked();e&&this.adapter.addClass(U.STACKED),e!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=e)},t.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(U.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(U.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},t.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(U.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(U.SCROLL_DIVIDER_HEADER):this.adapter.addClass(U.SCROLL_DIVIDER_HEADER)},t.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(U.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(U.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(U.SCROLL_DIVIDER_FOOTER)},t}(ne);/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var te=ni.strings,qr=function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(e){this.foundation.setEscapeKeyAction(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(e){this.foundation.setScrimClickAction(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(e){this.foundation.setAutoStackButtons(e)},enumerable:!1,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e){var n,i;e===void 0&&(e=function(u,c){return new $r(u,c)});var o=this.root.querySelector(te.CONTAINER_SELECTOR);if(!o)throw new Error("Dialog component requires a "+te.CONTAINER_SELECTOR+" container element");this.container=o,this.content=this.root.querySelector(te.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll(te.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+te.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=e,this.buttonRipples=[];try{for(var s=ae(this.buttons),a=s.next();!a.done;a=s.next()){var l=a.value;this.buttonRipples.push(new Oe(l))}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.initialSyncWithDOM=function(){var e=this;this.focusTrap=kr(this.container,this.focusTrapFactory,this.getInitialFocusEl()||void 0),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleOpening=function(){document.addEventListener("keydown",e.handleDocumentKeydown)},this.handleClosing=function(){document.removeEventListener("keydown",e.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen(te.OPENING_EVENT,this.handleOpening),this.listen(te.CLOSING_EVENT,this.handleClosing)},t.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten(te.OPENING_EVENT,this.handleOpening),this.unlisten(te.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach(function(e){e.destroy()}),r.prototype.destroy.call(this)},t.prototype.layout=function(){this.foundation.layout()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){e===void 0&&(e=""),this.foundation.close(e)},t.prototype.getDefaultFoundation=function(){var e=this,n={addBodyClass:function(i){return document.body.classList.add(i)},addClass:function(i){return e.root.classList.add(i)},areButtonsStacked:function(){return Gr(e.buttons)},clickDefaultButton:function(){e.defaultButton&&!e.defaultButton.disabled&&e.defaultButton.click()},eventTargetMatches:function(i,o){return i?Ce(i,o):!1},getActionFromEvent:function(i){if(!i.target)return"";var o=lt(i.target,"["+te.ACTION_ATTRIBUTE+"]");return o&&o.getAttribute(te.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return e.getInitialFocusEl()},hasClass:function(i){return e.root.classList.contains(i)},isContentScrollable:function(){return Br(e.content)},notifyClosed:function(i){return e.emit(te.CLOSED_EVENT,i?{action:i}:{})},notifyClosing:function(i){return e.emit(te.CLOSING_EVENT,i?{action:i}:{})},notifyOpened:function(){return e.emit(te.OPENED_EVENT,{})},notifyOpening:function(){return e.emit(te.OPENING_EVENT,{})},releaseFocus:function(){e.focusTrap.releaseFocus()},removeBodyClass:function(i){return document.body.classList.remove(i)},removeClass:function(i){return e.root.classList.remove(i)},reverseButtons:function(){e.buttons.reverse(),e.buttons.forEach(function(i){i.parentElement.appendChild(i)})},trapFocus:function(){e.focusTrap.trapFocus()},registerContentEventHandler:function(i,o){e.content instanceof HTMLElement&&e.content.addEventListener(i,o)},deregisterContentEventHandler:function(i,o){e.content instanceof HTMLElement&&e.content.removeEventListener(i,o)},isScrollableContentAtTop:function(){return Ur(e.content)},isScrollableContentAtBottom:function(){return Vr(e.content)},registerWindowEventHandler:function(i,o){window.addEventListener(i,o)},deregisterWindowEventHandler:function(i,o){window.removeEventListener(i,o)}};return new ni(n)},t.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+te.INITIAL_FOCUS_ATTRIBUTE+"]")},t}(re);const Wr=r=>({}),In=r=>({});function Kr(r){let t,e,n,i,o,s,a,l,u,c,f,v,m,b,A,y,T,C,_;const g=r[5].contentSlot,E=Tn(g,r,r[4],In);return{c(){t=I("div"),e=I("div"),n=I("div"),i=I("div"),o=I("h2"),s=W(r[1]),l=L(),u=I("button"),u.textContent="close",c=L(),f=I("div"),E&&E.c(),m=L(),b=I("div"),b.innerHTML=`<button type="button" class="fc-button mdc-button mdc-dialog__button" data-mdc-dialog-action="ok"><div class="mdc-button__ripple"></div> 
          <span class="mdc-button__label">OK</span></button>`,T=L(),C=I("div"),p(o,"class","mdc-dialog__title"),p(o,"id",a=`${r[0]}-dialog-title`),p(u,"class","mdc-icon-button material-icons mdc-dialog__close"),p(u,"data-mdc-dialog-action","close"),p(i,"class","mdc-dialog__header"),p(f,"class","mdc-dialog__content"),p(f,"id",v=`${r[0]}-dialog-content`),p(b,"class","mdc-dialog__actions"),p(n,"class","mdc-dialog__surface"),p(n,"role","dialog"),p(n,"aria-modal","true"),p(n,"aria-labelledby",A=`${r[0]}-dialog-title`),p(n,"aria-describedby",y=`${r[0]}-dialog-content`),p(e,"class","mdc-dialog__container"),p(C,"class","mdc-dialog__scrim"),p(t,"class","mdc-dialog mdc-dialog--fullscreen"),p(t,"id",r[0])},m(h,S){w(h,t,S),d(t,e),d(e,n),d(n,i),d(i,o),d(o,s),d(i,l),d(i,u),d(n,c),d(n,f),E&&E.m(f,null),d(n,m),d(n,b),d(t,T),d(t,C),_=!0},p(h,[S]){(!_||S&2)&&Q(s,h[1]),(!_||S&1&&a!==(a=`${h[0]}-dialog-title`))&&p(o,"id",a),E&&E.p&&(!_||S&16)&&Dn(E,g,h,h[4],_?On(g,h[4],S,Wr):Rn(h[4]),In),(!_||S&1&&v!==(v=`${h[0]}-dialog-content`))&&p(f,"id",v),(!_||S&1&&A!==(A=`${h[0]}-dialog-title`))&&p(n,"aria-labelledby",A),(!_||S&1&&y!==(y=`${h[0]}-dialog-content`))&&p(n,"aria-describedby",y),(!_||S&1)&&p(t,"id",h[0])},i(h){_||(O(E,h),_=!0)},o(h){D(E,h),_=!1},d(h){h&&M(t),E&&E.d(h)}}}function Xr(r,t,e){let{$$slots:n={},$$scope:i}=t,{id:o=""}=t,{open:s=!1}=t,{title:a=""}=t,l=null;const u=xe();return Re(()=>{e(3,l=new qr(document.querySelector(`#${o}.mdc-dialog`))),l.listen("MDCDialog:opened",c=>{u("dialogOpened",c)}),l.listen("MDCDialog:closed",c=>{u("dialogClosed",c)})}),xn(()=>{e(2,s=!1),u("closeEvent",{dialog:o})}),r.$$set=c=>{"id"in c&&e(0,o=c.id),"open"in c&&e(2,s=c.open),"title"in c&&e(1,a=c.title),"$$scope"in c&&e(4,i=c.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&(s?l==null||l.open():l==null||l.close())},[o,a,s,l,i,n]}class zr extends fe{constructor(t){super(),de(this,t,Xr,Kr,ee,{id:0,open:2,title:1})}}function bn(r,t,e){const n=r.slice();return n[20]=t[e],n}function Qr(r){let t,e,n=r[0],i,o,s,a=An,l=Cn(r),u=An;return{c(){t=L(),e=I("div"),l.c(),i=L(),o=De(),p(e,"class","grid-4-col")},m(c,f){w(c,t,f),w(c,e,f),l.m(e,null),w(c,i,f),w(c,o,f),s=!0},p(c,f){f&1&&ee(n,n=c[0])?(le(),D(l,1,1,N),ue(),l=Cn(c),l.c(),O(l,1),l.m(e,null)):l.p(c,f)},i(c){s||(O(a),O(l),O(u),s=!0)},o(c){D(a),D(l),D(u),s=!1},d(c){c&&M(t),c&&M(e),l.d(c),c&&M(i),c&&M(o)}}}function Zr(r){let t;return{c(){t=I("div"),t.innerHTML=`<h2>You haven&#39;t favorited any dogs yet! Go back to the Browse page and
            click on a dog to favorite it.</h2>`,p(t,"class","error-message")},m(e,n){w(e,t,n)},p:N,i:N,o:N,d(e){e&&M(t)}}}function Yr(r){let t;return{c(){t=I("div"),t.innerHTML='<span class="loader"></span>',p(t,"class","error-message")},m(e,n){w(e,t,n)},p:N,i:N,o:N,d(e){e&&M(t)}}}function Jr(r){let t,e,n,i,o,s,a=r[20].breed+"",l,u,c,f,v,m=r[20].age+"",b,A,y,T,C,_=r[20].zip_code+"",g,E;return{c(){t=I("div"),e=I("dl"),n=I("span"),i=I("dt"),i.textContent="Breed:",o=L(),s=I("dd"),l=W(a),u=L(),c=I("dt"),c.textContent="Age:",f=L(),v=I("dd"),b=W(m),A=L(),y=I("dt"),y.textContent="ZipCode:",T=L(),C=I("dd"),g=W(_),E=L(),p(n,"class","info-list"),p(t,"slot","descriptionSlot")},m(h,S){w(h,t,S),d(t,e),d(e,n),d(n,i),d(n,o),d(n,s),d(s,l),d(n,u),d(n,c),d(n,f),d(n,v),d(v,b),d(n,A),d(n,y),d(n,T),d(n,C),d(C,g),d(t,E)},p(h,S){S&1&&a!==(a=h[20].breed+"")&&Q(l,a),S&1&&m!==(m=h[20].age+"")&&Q(b,m),S&1&&_!==(_=h[20].zip_code+"")&&Q(g,_)},d(h){h&&M(t)}}}function yn(r){var n;let t,e;return t=new Nt({props:{title:r[20].name,imgSrc:r[20].img,id:r[20].id,favorite:(n=r[2])==null?void 0:n.includes(r[20].id),$$slots:{descriptionSlot:[Jr]},$$scope:{ctx:r}}}),t.$on("favorited",r[9]),{c(){j(t.$$.fragment)},m(i,o){V(t,i,o),e=!0},p(i,o){var a;const s={};o&1&&(s.title=i[20].name),o&1&&(s.imgSrc=i[20].img),o&1&&(s.id=i[20].id),o&5&&(s.favorite=(a=i[2])==null?void 0:a.includes(i[20].id)),o&8388609&&(s.$$scope={dirty:o,ctx:i}),t.$set(s)},i(i){e||(O(t.$$.fragment,i),e=!0)},o(i){D(t.$$.fragment,i),e=!1},d(i){G(t,i)}}}function Cn(r){let t,e,n=r[0],i=[];for(let s=0;s<n.length;s+=1)i[s]=yn(bn(r,n,s));const o=s=>D(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=De()},m(s,a){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);w(s,t,a),e=!0},p(s,a){if(a&517){n=s[0];let l;for(l=0;l<n.length;l+=1){const u=bn(s,n,l);i[l]?(i[l].p(u,a),O(i[l],1)):(i[l]=yn(u),i[l].c(),O(i[l],1),i[l].m(t.parentNode,t))}for(le(),l=n.length;l<i.length;l+=1)o(l);ue()}},i(s){if(!e){for(let a=0;a<n.length;a+=1)O(i[a]);e=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)D(i[a]);e=!1},d(s){dt(i,s),s&&M(t)}}}function _n(r){var n;let t,e;return t=new zr({props:{id:"matchDialog",open:r[4],title:`Your Match is... ${(n=r[3][0])==null?void 0:n.name}!`,$$slots:{contentSlot:[io]},$$scope:{ctx:r}}}),t.$on("dialogClosed",r[7]),{c(){j(t.$$.fragment)},m(i,o){V(t,i,o),e=!0},p(i,o){var a;const s={};o&16&&(s.open=i[4]),o&8&&(s.title=`Your Match is... ${(a=i[3][0])==null?void 0:a.name}!`),o&8388620&&(s.$$scope={dirty:o,ctx:i}),t.$set(s)},i(i){e||(O(t.$$.fragment,i),e=!0)},o(i){D(t.$$.fragment,i),e=!1},d(i){G(t,i)}}}function eo(r){let t;return{c(){t=I("h3"),t.textContent=`We didn't find a match for you this time! Favorite more dogs and try
            again.`},m(e,n){w(e,t,n)},p:N,i:N,o:N,d(e){e&&M(t)}}}function to(r){var n;let t,e;return t=new Nt({props:{title:r[3][0].name,imgSrc:r[3][0].img,id:r[3][0].id,favorite:(n=r[2])==null?void 0:n.includes(r[3][0].id),$$slots:{descriptionSlot:[no]},$$scope:{ctx:r}}}),t.$on("favorited",r[9]),{c(){j(t.$$.fragment)},m(i,o){V(t,i,o),e=!0},p(i,o){var a;const s={};o&8&&(s.title=i[3][0].name),o&8&&(s.imgSrc=i[3][0].img),o&8&&(s.id=i[3][0].id),o&12&&(s.favorite=(a=i[2])==null?void 0:a.includes(i[3][0].id)),o&8388616&&(s.$$scope={dirty:o,ctx:i}),t.$set(s)},i(i){e||(O(t.$$.fragment,i),e=!0)},o(i){D(t.$$.fragment,i),e=!1},d(i){G(t,i)}}}function no(r){let t,e,n,i,o,s,a=r[3][0].breed+"",l,u,c,f,v,m=r[3][0].age+"",b,A,y,T,C,_=r[3][0].zip_code+"",g;return{c(){t=I("div"),e=I("dl"),n=I("span"),i=I("dt"),i.textContent="Breed:",o=L(),s=I("dd"),l=W(a),u=L(),c=I("dt"),c.textContent="Age:",f=L(),v=I("dd"),b=W(m),A=L(),y=I("dt"),y.textContent="ZipCode:",T=L(),C=I("dd"),g=W(_),p(n,"class","info-list"),p(t,"slot","descriptionSlot")},m(E,h){w(E,t,h),d(t,e),d(e,n),d(n,i),d(n,o),d(n,s),d(s,l),d(n,u),d(n,c),d(n,f),d(n,v),d(v,b),d(n,A),d(n,y),d(n,T),d(n,C),d(C,g)},p(E,h){h&8&&a!==(a=E[3][0].breed+"")&&Q(l,a),h&8&&m!==(m=E[3][0].age+"")&&Q(b,m),h&8&&_!==(_=E[3][0].zip_code+"")&&Q(g,_)},d(E){E&&M(t)}}}function io(r){let t,e,n,i,o;const s=[to,eo],a=[];function l(u,c){return u[3]?0:1}return n=l(r),i=a[n]=s[n](r),{c(){t=I("div"),e=I("div"),i.c(),p(e,"class","match"),p(t,"slot","contentSlot")},m(u,c){w(u,t,c),d(t,e),a[n].m(e,null),o=!0},p(u,c){let f=n;n=l(u),n===f?a[n].p(u,c):(le(),D(a[f],1,1,()=>{a[f]=null}),ue(),i=a[n],i?i.p(u,c):(i=a[n]=s[n](u),i.c()),O(i,1),i.m(e,null))},i(u){o||(O(i),o=!0)},o(u){D(i),o=!1},d(u){u&&M(t),a[n].d()}}}function ro(r){let t,e,n,i,o,s,a,l,u,c,f,v,m,b,A,y,T;e=new ti({}),l=new Je({props:{label:"Get My Match"}}),l.$on("click",r[6]);const C=[Yr,Zr,Qr],_=[];function g(h,S){return h[5]?0:h[1]<1?1:h[0].length>0?2:-1}~(m=g(r))&&(b=_[m]=C[m](r));let E=r[3]&&_n(r);return{c(){t=I("main"),j(e.$$.fragment),n=L(),i=I("div"),o=I("h1"),o.textContent="My Favorite Dogs",s=L(),a=I("div"),j(l.$$.fragment),u=L(),c=I("div"),f=I("div"),v=L(),b&&b.c(),A=L(),E&&E.c(),y=De(),p(o,"class","row"),p(a,"class","row align-center"),p(c,"class","favorites main"),p(i,"class","core-content")},m(h,S){w(h,t,S),V(e,t,null),d(t,n),d(t,i),d(i,o),d(i,s),d(i,a),V(l,a,null),d(i,u),d(i,c),d(c,f),d(c,v),~m&&_[m].m(c,null),w(h,A,S),E&&E.m(h,S),w(h,y,S),T=!0},p(h,[S]){let P=m;m=g(h),m===P?~m&&_[m].p(h,S):(b&&(le(),D(_[P],1,1,()=>{_[P]=null}),ue()),~m?(b=_[m],b?b.p(h,S):(b=_[m]=C[m](h),b.c()),O(b,1),b.m(c,null)):b=null),h[3]?E?(E.p(h,S),S&8&&O(E,1)):(E=_n(h),E.c(),O(E,1),E.m(y.parentNode,y)):E&&(le(),D(E,1,1,()=>{E=null}),ue())},i(h){T||(O(e.$$.fragment,h),O(l.$$.fragment,h),O(b),O(E),T=!0)},o(h){D(e.$$.fragment,h),D(l.$$.fragment,h),D(b),D(E),T=!1},d(h){h&&M(t),G(e),G(l),~m&&_[m].d(),h&&M(A),E&&E.d(h),h&&M(y)}}}let An=null;function oo(r,t,e){let n=[];[...Array(21).keys().map(String)];let i=null,o=[],s=null,a=null,l=!1,u=!0;async function c(y){e(1,i=y.length),e(0,n=await Ot(y))}async function f(){await A(),e(4,l=!0)}function v(){e(4,l=!1)}async function m(){}function b(y){let T=y.detail.favorite,C=y.detail.id;T?(o.push(C),ut(o)):o.indexOf(C)>-1&&(e(2,o=o.filter(g=>g!==C)),ut(o))}async function A(){s=await mr(o),e(3,a=await Ot([s.match]))}return Re(async()=>{try{e(5,u=!0),e(2,o=ei());let y=await c(o);e(5,u=!1)}catch{}}),[n,i,o,a,l,u,f,v,m,b]}class so extends fe{constructor(t){super(),de(this,t,oo,ro,ee,{})}}function ao(r){let t,e;return t=new Ei({props:{routes:r[0]}}),{c(){j(t.$$.fragment)},m(n,i){V(t,n,i),e=!0},p:N,i(n){e||(O(t.$$.fragment,n),e=!0)},o(n){D(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function lo(r){return[{"/login":un,"/browse":Hr,"/favorites":so,"*":un}]}class uo extends fe{constructor(t){super(),de(this,t,lo,ao,ee,{})}}new uo({target:document.getElementById("app")});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtNzliYzc3ODQuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zdG9yZS9pbmRleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcmVnZXhwYXJhbS9kaXN0L2luZGV4Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUtc3BhLXJvdXRlci9Sb3V0ZXIuc3ZlbHRlIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2RvbS9ldmVudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2RvbS9wb255ZmlsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvZmxvYXRpbmctbGFiZWwvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9mbG9hdGluZy1sYWJlbC9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9mbG9hdGluZy1sYWJlbC9jb21wb25lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2xpbmUtcmlwcGxlL2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbGluZS1yaXBwbGUvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbGluZS1yaXBwbGUvY29tcG9uZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9ub3RjaGVkLW91dGxpbmUvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9ub3RjaGVkLW91dGxpbmUvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbm90Y2hlZC1vdXRsaW5lL2NvbXBvbmVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvcmlwcGxlL2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvcmlwcGxlL3V0aWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3JpcHBsZS9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9yaXBwbGUvY29tcG9uZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC90ZXh0ZmllbGQvY2hhcmFjdGVyLWNvdW50ZXIvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC90ZXh0ZmllbGQvY2hhcmFjdGVyLWNvdW50ZXIvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvdGV4dGZpZWxkL2NoYXJhY3Rlci1jb3VudGVyL2NvbXBvbmVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvdGV4dGZpZWxkL2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvdGV4dGZpZWxkL2ZvdW5kYXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3RleHRmaWVsZC9oZWxwZXItdGV4dC9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3RleHRmaWVsZC9oZWxwZXItdGV4dC9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC90ZXh0ZmllbGQvaGVscGVyLXRleHQvY29tcG9uZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC90ZXh0ZmllbGQvaWNvbi9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3RleHRmaWVsZC9pY29uL2ZvdW5kYXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3RleHRmaWVsZC9pY29uL2NvbXBvbmVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvdGV4dGZpZWxkL2NvbXBvbmVudC5qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0lucHV0cy9UZXh0SW5wdXQuc3ZlbHRlIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvQnV0dG9ucy9CdXR0b24uc3ZlbHRlIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9tZW51LXN1cmZhY2UvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9saXN0L2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvZG9tL2tleWJvYXJkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9saXN0L2V2ZW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbGlzdC90eXBlYWhlYWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2xpc3QvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbGlzdC9jb21wb25lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9hbmltYXRpb24vdXRpbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbWVudS1zdXJmYWNlL2NvbXBvbmVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbWVudS9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL21lbnUvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbWVudS9jb21wb25lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3NlbGVjdC9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3NlbGVjdC9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9zZWxlY3QvaGVscGVyLXRleHQvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9zZWxlY3QvaGVscGVyLXRleHQvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvc2VsZWN0L2hlbHBlci10ZXh0L2NvbXBvbmVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvc2VsZWN0L2ljb24vY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9zZWxlY3QvaWNvbi9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9zZWxlY3QvaWNvbi9jb21wb25lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3NlbGVjdC9jb21wb25lbnQuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9TZWxlY3RzL1NlbGVjdC5zdmVsdGUiLCIuLi8uLi9zcmMvaGVscGVycy9hcGlIZWxwZXIudHMiLCIuLi8uLi9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uLnRzIiwiLi4vLi4vc3JjL2FwaS9kb2dEYXRhLnRzIiwiLi4vLi4vc3JjL3BhZ2VzL0xvZ2luLnN2ZWx0ZSIsIi4uLy4uL3NyYy9oZWxwZXJzL2Zhdm9yaXRlc0hlbHBlci50cyIsIi4uLy4uL3NyYy9oZWxwZXJzL2Zvcm1hdEhlbHBlci50cyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0NhcmRzL0luZm9DYXJkLnN2ZWx0ZSIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0J1dHRvbnMvTGlua0J1dHRvbi5zdmVsdGUiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9CdXR0b25zL1RvZ2dsZUJ1dHRvbi5zdmVsdGUiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9MYXlvdXQvSGVhZGVyLnN2ZWx0ZSIsIi4uLy4uL3NyYy9wYWdlcy9Ccm93c2Uuc3ZlbHRlIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9kaWFsb2cvdXRpbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvZG9tL2ZvY3VzLXRyYXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2FuaW1hdGlvbi9hbmltYXRpb25mcmFtZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvZGlhbG9nL2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvZGlhbG9nL2ZvdW5kYXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2RpYWxvZy9jb21wb25lbnQuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9MYXlvdXQvRGlhbG9nLnN2ZWx0ZSIsIi4uLy4uL3NyYy9wYWdlcy9GYXZvcml0ZXMuc3ZlbHRlIiwiLi4vLi4vc3JjL0FwcC5zdmVsdGUiLCIuLi8uLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub29wKCkgeyB9XG5jb25zdCBpZGVudGl0eSA9IHggPT4geDtcbmZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBmb3IgKGNvbnN0IGsgaW4gc3JjKVxuICAgICAgICB0YXJba10gPSBzcmNba107XG4gICAgcmV0dXJuIHRhcjtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbmZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuICAgIGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcbiAgICAgICAgbG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJ1bihmbikge1xuICAgIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcbiAgICBmbnMuZm9yRWFjaChydW4pO1xufVxuZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8ICgoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbn1cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcbmZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuICAgIGlmICghc3JjX3VybF9lcXVhbF9hbmNob3IpIHtcbiAgICAgICAgc3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG4gICAgaWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcbiAgICBpZiAoc3RvcmUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgY29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm5cbiAgICAgICAgPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSlcbiAgICAgICAgOiAkJHNjb3BlLmN0eDtcbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcbiAgICAgICAgY29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcbiAgICAgICAgaWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG4gICAgfVxuICAgIHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgaWYgKHNsb3RfY2hhbmdlcykge1xuICAgICAgICBjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbiAgICAgICAgc2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5mdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuICAgIGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuICAgICAgICBjb25zdCBkaXJ0eSA9IFtdO1xuICAgICAgICBjb25zdCBsZW5ndGggPSAkJHNjb3BlLmN0eC5sZW5ndGggLyAzMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuICAgIHN0b3JlLnNldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5mdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcbiAgICByZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cbmZ1bmN0aW9uIHNwbGl0X2Nzc191bml0KHZhbHVlKSB7XG4gICAgY29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcbiAgICByZXR1cm4gc3BsaXQgPyBbcGFyc2VGbG9hdChzcGxpdFsxXSksIHNwbGl0WzJdIHx8ICdweCddIDogW3ZhbHVlLCAncHgnXTtcbn1cbmNvbnN0IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzID0gWycnLCB0cnVlLCAxLCAndHJ1ZScsICdjb250ZW50ZWRpdGFibGUnXTtcblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5sZXQgbm93ID0gaXNfY2xpZW50XG4gICAgPyAoKSA9PiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICA6ICgpID0+IERhdGUubm93KCk7XG5sZXQgcmFmID0gaXNfY2xpZW50ID8gY2IgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKSA6IG5vb3A7XG4vLyB1c2VkIGludGVybmFsbHkgZm9yIHRlc3RpbmdcbmZ1bmN0aW9uIHNldF9ub3coZm4pIHtcbiAgICBub3cgPSBmbjtcbn1cbmZ1bmN0aW9uIHNldF9yYWYoZm4pIHtcbiAgICByYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG59XG4vKipcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkhXG4gKi9cbmZ1bmN0aW9uIGNsZWFyX2xvb3BzKCkge1xuICAgIHRhc2tzLmNsZWFyKCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFzayB0aGF0IHJ1bnMgb24gZWFjaCByYWYgZnJhbWVcbiAqIHVudGlsIGl0IHJldHVybnMgYSBmYWxzeSB2YWx1ZSBvciBpcyBhYm9ydGVkXG4gKi9cbmZ1bmN0aW9uIGxvb3AoY2FsbGJhY2spIHtcbiAgICBsZXQgdGFzaztcbiAgICBpZiAodGFza3Muc2l6ZSA9PT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogbmV3IFByb21pc2UoZnVsZmlsbCA9PiB7XG4gICAgICAgICAgICB0YXNrcy5hZGQodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydCgpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHdpbmRvd1xuICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICA6IGdsb2JhbCk7XG5cbi8qKlxuICogUmVzaXplIG9ic2VydmVyIHNpbmdsZXRvbi5cbiAqIE9uZSBsaXN0ZW5lciBwZXIgZWxlbWVudCBvbmx5IVxuICogaHR0cHM6Ly9ncm91cHMuZ29vZ2xlLmNvbS9hL2Nocm9taXVtLm9yZy9nL2JsaW5rLWRldi9jL3o2aWVuT05VYjVBL20vRjUtVmNVWnRCQUFKXG4gKi9cbmNsYXNzIFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9ICdXZWFrTWFwJyBpbiBnbG9iYWxzID8gbmV3IFdlYWtNYXAoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgb2JzZXJ2ZShlbGVtZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KGVsZW1lbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5fZ2V0T2JzZXJ2ZXIoKS5vYnNlcnZlKGVsZW1lbnQsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpOyAvLyB0aGlzIGxpbmUgY2FuIHByb2JhYmx5IGJlIHJlbW92ZWRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dldE9ic2VydmVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl9vYnNlcnZlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHRoaXMuX29ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBSZXNpemVPYnNlcnZlclNpbmdsZXRvbi5lbnRyaWVzLnNldChlbnRyeS50YXJnZXQsIGVudHJ5KTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9saXN0ZW5lcnMuZ2V0KGVudHJ5LnRhcmdldCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYShlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4vLyBOZWVkcyB0byBiZSB3cml0dGVuIGxpa2UgdGhpcyB0byBwYXNzIHRoZSB0cmVlLXNoYWtlLXRlc3RcblJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmVudHJpZXMgPSAnV2Vha01hcCcgaW4gZ2xvYmFscyA/IG5ldyBXZWFrTWFwKCkgOiB1bmRlZmluZWQ7XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5mdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG4gICAgLy8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG4gICAgICAgIGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvdztcbn1cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuICAgIC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cbiAgICBsZXQgY2hpbGRyZW4gPSB0YXJnZXQuY2hpbGROb2RlcztcbiAgICAvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuICAgICAgICBjb25zdCBteUNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBteUNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4gPSBteUNoaWxkcmVuO1xuICAgIH1cbiAgICAvKlxuICAgICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cbiAgICAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2ZcbiAgICAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG4gICAgKiBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuICAgICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cbiAgICAqXG4gICAgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcbiAgICAqIHBvc3NpYmxlLlxuICAgICpcbiAgICAqIFByb29mOlxuICAgICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG4gICAgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcbiAgICAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG4gICAgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuICAgICovXG4gICAgLy8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2VcbiAgICAvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG4gICAgY29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuICAgIC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG4gICAgY29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG4gICAgbVswXSA9IC0xO1xuICAgIGxldCBsb25nZXN0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcbiAgICAgICAgLy8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgLy8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcbiAgICAgICAgLy8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2VcbiAgICAgICAgY29uc3Qgc2VxTGVuID0gKChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50KSA/IGxvbmdlc3QgKyAxIDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgaWR4ID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG4gICAgICAgIHBbaV0gPSBtW3NlcUxlbl0gKyAxO1xuICAgICAgICBjb25zdCBuZXdMZW4gPSBzZXFMZW4gKyAxO1xuICAgICAgICAvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG4gICAgICAgIG1bbmV3TGVuXSA9IGk7XG4gICAgICAgIGxvbmdlc3QgPSBNYXRoLm1heChuZXdMZW4sIGxvbmdlc3QpO1xuICAgIH1cbiAgICAvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG4gICAgY29uc3QgbGlzID0gW107XG4gICAgLy8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcbiAgICBjb25zdCB0b01vdmUgPSBbXTtcbiAgICBsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgZm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG4gICAgICAgIGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcbiAgICAgICAgZm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcbiAgICAgICAgICAgIHRvTW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0LS07XG4gICAgfVxuICAgIGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuICAgICAgICB0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG4gICAgfVxuICAgIGxpcy5yZXZlcnNlKCk7XG4gICAgLy8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG4gICAgdG9Nb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcbiAgICAvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvTW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9Nb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0b01vdmVbaV0sIGFuY2hvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG4gICAgY29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuICAgIGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcbiAgICAgICAgYXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG4gICAgaWYgKCFub2RlKVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgY29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKHJvb3QgJiYgcm9vdC5ob3N0KSB7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuICAgIGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgIGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG4gICAgcmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuICAgIGFwcGVuZChub2RlLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xuICAgIHJldHVybiBzdHlsZS5zaGVldDtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG4gICAgaWYgKGlzX2h5ZHJhdGluZykge1xuICAgICAgICBpbml0X2h5ZHJhdGUodGFyZ2V0KTtcbiAgICAgICAgaWYgKCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkKSB8fCAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsKSAmJiAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSkpIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcbiAgICAgICAgd2hpbGUgKCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCkgJiYgKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLmNsYWltX29yZGVyID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlICE9PSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCkge1xuICAgICAgICAgICAgLy8gV2Ugb25seSBpbnNlcnQgaWYgdGhlIG9yZGVyaW5nIG9mIHRoaXMgbm9kZSBzaG91bGQgYmUgbW9kaWZpZWQgb3IgdGhlIHBhcmVudCBub2RlIGlzIG5vdCB0YXJnZXRcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQgfHwgbm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nICYmICFhbmNob3IpIHtcbiAgICAgICAgYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnNbaV0pXG4gICAgICAgICAgICBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNfcHJvcChvYmosIGspXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAmJiBleGNsdWRlLmluZGV4T2YoaykgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0YXJnZXRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuZnVuY3Rpb24gdGV4dChkYXRhKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuZnVuY3Rpb24gc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRleHQoJyAnKTtcbn1cbmZ1bmN0aW9uIGVtcHR5KCkge1xuICAgIHJldHVybiB0ZXh0KCcnKTtcbn1cbmZ1bmN0aW9uIGNvbW1lbnQoY29udGVudCkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VsZihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LmlzVHJ1c3RlZClcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSlcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcbmZ1bmN0aW9uIHNldF9hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhub2RlLl9fcHJvdG9fXyk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYXR0cmlidXRlc1trZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnX192YWx1ZScpIHtcbiAgICAgICAgICAgIG5vZGUudmFsdWUgPSBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzY3JpcHRvcnNba2V5XSAmJiBkZXNjcmlwdG9yc1trZXldLnNldCAmJiBhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZS5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgICBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAobm9kZSwgZGF0YV9tYXApIHtcbiAgICBPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIGtleSwgZGF0YV9tYXBba2V5XSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChwcm9wIGluIG5vZGUpIHtcbiAgICAgICAgbm9kZVtwcm9wXSA9IHR5cGVvZiBub2RlW3Byb3BdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXR0cihub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2R5bmFtaWNfZWxlbWVudF9kYXRhKHRhZykge1xuICAgIHJldHVybiAoLy0vLnRlc3QodGFnKSkgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cbmZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG4gICAgY29uc3QgdmFsdWUgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoZ3JvdXBbaV0uY2hlY2tlZClcbiAgICAgICAgICAgIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcbiAgICB9XG4gICAgaWYgKCFjaGVja2VkKSB7XG4gICAgICAgIHZhbHVlLmRlbGV0ZShfX3ZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG4gICAgbGV0IF9pbnB1dHM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuICAgICAgICAgICAgX2lucHV0cyA9IGlucHV0cztcbiAgICAgICAgICAgIF9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBncm91cC5wdXNoKGlucHV0KSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qIHJlbW92ZSAqLyByKCkge1xuICAgICAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IGdyb3VwLnNwbGljZShncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljKGdyb3VwLCBpbmRleGVzKSB7XG4gICAgbGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcbiAgICBsZXQgX2lucHV0cztcbiAgICBmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cChncm91cCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgICAgIF9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBfZ3JvdXAucHVzaChpbnB1dCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIF9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvKiB1cGRhdGUgKi8gdShuZXdfaW5kZXhlcykge1xuICAgICAgICAgICAgaW5kZXhlcyA9IG5ld19pbmRleGVzO1xuICAgICAgICAgICAgY29uc3QgbmV3X2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuICAgICAgICAgICAgaWYgKG5ld19ncm91cCAhPT0gX2dyb3VwKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgX2dyb3VwID0gbmV3X2dyb3VwO1xuICAgICAgICAgICAgICAgIHB1c2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuICAgICAgICAgICAgX2lucHV0cyA9IGlucHV0cztcbiAgICAgICAgICAgIHB1c2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogcmVtb3ZlICovIHI6IHJlbW92ZVxuICAgIH07XG59XG5mdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cbmZ1bmN0aW9uIHRpbWVfcmFuZ2VzX3RvX2FycmF5KHJhbmdlcykge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcbiAgICBpZiAobm9kZXMuY2xhaW1faW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3NOb2RlLCBjcmVhdGVOb2RlLCBkb250VXBkYXRlTGFzdEluZGV4ID0gZmFsc2UpIHtcbiAgICAvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuICAgIGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG4gICAgY29uc3QgcmVzdWx0Tm9kZSA9ICgoKSA9PiB7XG4gICAgICAgIC8vIFdlIGZpcnN0IHRyeSB0byBmaW5kIGFuIGVsZW1lbnQgYWZ0ZXIgdGhlIHByZXZpb3VzIG9uZVxuICAgICAgICBmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4OyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3NOb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZG9udFVwZGF0ZUxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIHRyeSB0byBmaW5kIG9uZSBiZWZvcmVcbiAgICAgICAgLy8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNbaV0gPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb250VXBkYXRlTGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugd2Ugc3BsaWNlZCBiZWZvcmUgdGhlIGxhc3RfaW5kZXgsIHdlIGRlY3JlYXNlIGl0XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIHJldHVybiBjcmVhdGVOb2RlKCk7XG4gICAgfSkoKTtcbiAgICByZXN1bHROb2RlLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuICAgIG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuICAgIHJldHVybiByZXN1bHROb2RlO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlTmFtZSA9PT0gbmFtZSwgKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbW92ZS5mb3JFYWNoKHYgPT4gbm9kZS5yZW1vdmVBdHRyaWJ1dGUodikpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sICgpID0+IGNyZWF0ZV9lbGVtZW50KG5hbWUpKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgc3ZnX2VsZW1lbnQpO1xufVxuZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMywgKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YVN0ciA9ICcnICsgZGF0YTtcbiAgICAgICAgaWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFTdHIpKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YVN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YVN0ci5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gZGF0YVN0cjtcbiAgICAgICAgfVxuICAgIH0sICgpID0+IHRleHQoZGF0YSksIHRydWUgLy8gVGV4dCBub2RlcyBzaG91bGQgbm90IHVwZGF0ZSBsYXN0IGluZGV4IHNpbmNlIGl0IGlzIGxpa2VseSBub3Qgd29ydGggaXQgdG8gZWxpbWluYXRlIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgYWN0dWFsIGVsZW1lbnRzXG4gICAgKTtcbn1cbmZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21tZW50KG5vZGVzLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4LCAobm9kZSkgPT4ge1xuICAgICAgICBub2RlLmRhdGEgPSAnJyArIGRhdGE7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSwgKCkgPT4gY29tbWVudChkYXRhKSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBmaW5kX2NvbW1lbnQobm9kZXMsIHRleHQsIHN0YXJ0KSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8gJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgPT09IHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2Rlcy5sZW5ndGg7XG59XG5mdW5jdGlvbiBjbGFpbV9odG1sX3RhZyhub2RlcywgaXNfc3ZnKSB7XG4gICAgLy8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG4gICAgY29uc3Qgc3RhcnRfaW5kZXggPSBmaW5kX2NvbW1lbnQobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuICAgIGNvbnN0IGVuZF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4KTtcbiAgICBpZiAoc3RhcnRfaW5kZXggPT09IGVuZF9pbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24odW5kZWZpbmVkLCBpc19zdmcpO1xuICAgIH1cbiAgICBpbml0X2NsYWltX2luZm8obm9kZXMpO1xuICAgIGNvbnN0IGh0bWxfdGFnX25vZGVzID0gbm9kZXMuc3BsaWNlKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggLSBzdGFydF9pbmRleCArIDEpO1xuICAgIGRldGFjaChodG1sX3RhZ19ub2Rlc1swXSk7XG4gICAgZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcbiAgICBjb25zdCBjbGFpbWVkX25vZGVzID0gaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSk7XG4gICAgZm9yIChjb25zdCBuIG9mIGNsYWltZWRfbm9kZXMpIHtcbiAgICAgICAgbi5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcbiAgICAgICAgbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihjbGFpbWVkX25vZGVzLCBpc19zdmcpO1xufVxuZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQuZGF0YSA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG4gICAgaWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG4gICAgICAgIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldF9kYXRhKHRleHQsIGRhdGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBub2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb24oc2VsZWN0LCB2YWx1ZSwgbW91bnRpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbW91bnRpbmcgfHwgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJyk7XG4gICAgcmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcbiAgICByZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIG9wdGlvbiA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcbmxldCBjcm9zc29yaWdpbjtcbmZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNyb3Nzb3JpZ2luID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5mdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuICAgIGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoY29tcHV0ZWRfc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIH1cbiAgICBjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuICAgICAgICAnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7Jyk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGlmcmFtZS50YWJJbmRleCA9IC0xO1xuICAgIGNvbnN0IGNyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW4oKTtcbiAgICBsZXQgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sLDxzY3JpcHQ+b25yZXNpemU9ZnVuY3Rpb24oKXtwYXJlbnQucG9zdE1lc3NhZ2UoMCwnKicpfTwvc2NyaXB0PlwiO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3Rlbih3aW5kb3csICdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdylcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuICAgICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUgPSBsaXN0ZW4oaWZyYW1lLmNvbnRlbnRXaW5kb3csICdyZXNpemUnLCBmbik7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYW4gaW5pdGlhbCByZXNpemUgZXZlbnQgaXMgZmlyZWQgX2FmdGVyXyB0aGUgaWZyYW1lIGlzIGxvYWRlZCAod2hpY2ggaXMgYXN5bmNocm9ub3VzKVxuICAgICAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzQyMzNcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZChub2RlLCBpZnJhbWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1bnN1YnNjcmliZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBkZXRhY2goaWZyYW1lKTtcbiAgICB9O1xufVxuY29uc3QgcmVzaXplX29ic2VydmVyX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7IGJveDogJ2NvbnRlbnQtYm94JyB9KTtcbmNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9ib3JkZXJfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7IGJveDogJ2JvcmRlci1ib3gnIH0pO1xuY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oeyBib3g6ICdkZXZpY2UtcGl4ZWwtY29udGVudC1ib3gnIH0pO1xuZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0W3RvZ2dsZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xufVxuZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBidWJibGVzID0gZmFsc2UsIGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZS5pbml0Q3VzdG9tRXZlbnQodHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSwgZGV0YWlsKTtcbiAgICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59XG5mdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBzdGFydGVkID0gMDtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLykge1xuICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IG5vZGUudGV4dENvbnRlbnQudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9FTkRgKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRlZCAtPSAxO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydGVkID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNsYXNzIEh0bWxUYWcge1xuICAgIGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuaXNfc3ZnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuICAgICAgICB0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuICAgIH1cbiAgICBjKGh0bWwpIHtcbiAgICAgICAgdGhpcy5oKGh0bWwpO1xuICAgIH1cbiAgICBtKGh0bWwsIHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuICAgICAgICBpZiAoIXRoaXMuZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNfc3ZnKVxuICAgICAgICAgICAgICAgIHRoaXMuZSA9IHN2Z19lbGVtZW50KHRhcmdldC5ub2RlTmFtZSk7XG4gICAgICAgICAgICAvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqL1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZSA9IGVsZW1lbnQoKHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lKSk7XG4gICAgICAgICAgICB0aGlzLnQgPSB0YXJnZXQudGFnTmFtZSAhPT0gJ1RFTVBMQVRFJyA/IHRhcmdldCA6IHRhcmdldC5jb250ZW50O1xuICAgICAgICAgICAgdGhpcy5jKGh0bWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaShhbmNob3IpO1xuICAgIH1cbiAgICBoKGh0bWwpIHtcbiAgICAgICAgdGhpcy5lLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHRoaXMubiA9IEFycmF5LmZyb20odGhpcy5lLm5vZGVOYW1lID09PSAnVEVNUExBVEUnID8gdGhpcy5lLmNvbnRlbnQuY2hpbGROb2RlcyA6IHRoaXMuZS5jaGlsZE5vZGVzKTtcbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwKGh0bWwpIHtcbiAgICAgICAgdGhpcy5kKCk7XG4gICAgICAgIHRoaXMuaChodG1sKTtcbiAgICAgICAgdGhpcy5pKHRoaXMuYSk7XG4gICAgfVxuICAgIGQoKSB7XG4gICAgICAgIHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG4gICAgfVxufVxuY2xhc3MgSHRtbFRhZ0h5ZHJhdGlvbiBleHRlbmRzIEh0bWxUYWcge1xuICAgIGNvbnN0cnVjdG9yKGNsYWltZWRfbm9kZXMsIGlzX3N2ZyA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKGlzX3N2Zyk7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgICAgIHRoaXMubCA9IGNsYWltZWRfbm9kZXM7XG4gICAgfVxuICAgIGMoaHRtbCkge1xuICAgICAgICBpZiAodGhpcy5sKSB7XG4gICAgICAgICAgICB0aGlzLm4gPSB0aGlzLmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXBlci5jKGh0bWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGkoYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnRfaHlkcmF0aW9uKHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuICAgICAgICByZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgcmVzdWx0W25vZGUuc2xvdCB8fCAnZGVmYXVsdCddID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuICAgIHJldHVybiBuZXcgY29tcG9uZW50KHByb3BzKTtcbn1cblxuLy8gd2UgbmVlZCB0byBzdG9yZSB0aGUgaW5mb3JtYXRpb24gZm9yIG11bHRpcGxlIGRvY3VtZW50cyBiZWNhdXNlIGEgU3ZlbHRlIGFwcGxpY2F0aW9uIGNvdWxkIGFsc28gY29udGFpbiBpZnJhbWVzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8zNjI0XG5jb25zdCBtYW5hZ2VkX3N0eWxlcyA9IG5ldyBNYXAoKTtcbmxldCBhY3RpdmUgPSAwO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2gvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gICAgbGV0IGhhc2ggPSA1MzgxO1xuICAgIGxldCBpID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gaGFzaCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zdHlsZV9pbmZvcm1hdGlvbihkb2MsIG5vZGUpIHtcbiAgICBjb25zdCBpbmZvID0geyBzdHlsZXNoZWV0OiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSwgcnVsZXM6IHt9IH07XG4gICAgbWFuYWdlZF9zdHlsZXMuc2V0KGRvYywgaW5mbyk7XG4gICAgcmV0dXJuIGluZm87XG59XG5mdW5jdGlvbiBjcmVhdGVfcnVsZShub2RlLCBhLCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2UsIGZuLCB1aWQgPSAwKSB7XG4gICAgY29uc3Qgc3RlcCA9IDE2LjY2NiAvIGR1cmF0aW9uO1xuICAgIGxldCBrZXlmcmFtZXMgPSAne1xcbic7XG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPD0gMTsgcCArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHQgPSBhICsgKGIgLSBhKSAqIGVhc2UocCk7XG4gICAgICAgIGtleWZyYW1lcyArPSBwICogMTAwICsgYCV7JHtmbih0LCAxIC0gdCl9fVxcbmA7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGUgPSBrZXlmcmFtZXMgKyBgMTAwJSB7JHtmbihiLCAxIC0gYil9fVxcbn1gO1xuICAgIGNvbnN0IG5hbWUgPSBgX19zdmVsdGVfJHtoYXNoKHJ1bGUpfV8ke3VpZH1gO1xuICAgIGNvbnN0IGRvYyA9IGdldF9yb290X2Zvcl9zdHlsZShub2RlKTtcbiAgICBjb25zdCB7IHN0eWxlc2hlZXQsIHJ1bGVzIH0gPSBtYW5hZ2VkX3N0eWxlcy5nZXQoZG9jKSB8fCBjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24oZG9jLCBub2RlKTtcbiAgICBpZiAoIXJ1bGVzW25hbWVdKSB7XG4gICAgICAgIHJ1bGVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgc3R5bGVzaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7bmFtZX0gJHtydWxlfWAsIHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gbm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJyc7XG4gICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBgJHthbmltYXRpb24gPyBgJHthbmltYXRpb259LCBgIDogJyd9JHtuYW1lfSAke2R1cmF0aW9ufW1zIGxpbmVhciAke2RlbGF5fW1zIDEgYm90aGA7XG4gICAgYWN0aXZlICs9IDE7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBkZWxldGVfcnVsZShub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSAobm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJycpLnNwbGl0KCcsICcpO1xuICAgIGNvbnN0IG5leHQgPSBwcmV2aW91cy5maWx0ZXIobmFtZVxuICAgICAgICA/IGFuaW0gPT4gYW5pbS5pbmRleE9mKG5hbWUpIDwgMCAvLyByZW1vdmUgc3BlY2lmaWMgYW5pbWF0aW9uXG4gICAgICAgIDogYW5pbSA9PiBhbmltLmluZGV4T2YoJ19fc3ZlbHRlJykgPT09IC0xIC8vIHJlbW92ZSBhbGwgU3ZlbHRlIGFuaW1hdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBwcmV2aW91cy5sZW5ndGggLSBuZXh0Lmxlbmd0aDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IG5leHQuam9pbignLCAnKTtcbiAgICAgICAgYWN0aXZlIC09IGRlbGV0ZWQ7XG4gICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgY2xlYXJfcnVsZXMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhcl9ydWxlcygpIHtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBtYW5hZ2VkX3N0eWxlcy5mb3JFYWNoKGluZm8gPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvd25lck5vZGUgfSA9IGluZm8uc3R5bGVzaGVldDtcbiAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIG93bmVyTm9kZSBpZiBpdCBydW5zIG9uIGpzZG9tLlxuICAgICAgICAgICAgaWYgKG93bmVyTm9kZSlcbiAgICAgICAgICAgICAgICBkZXRhY2gob3duZXJOb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1hbmFnZWRfc3R5bGVzLmNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9hbmltYXRpb24obm9kZSwgZnJvbSwgZm4sIHBhcmFtcykge1xuICAgIGlmICghZnJvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChmcm9tLmxlZnQgPT09IHRvLmxlZnQgJiYgZnJvbS5yaWdodCA9PT0gdG8ucmlnaHQgJiYgZnJvbS50b3AgPT09IHRvLnRvcCAmJiBmcm9tLmJvdHRvbSA9PT0gdG8uYm90dG9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86IHNob3VsZCB0aGlzIGJlIHNlcGFyYXRlZCBmcm9tIGRlc3RydWN0dXJpbmc/IE9yIHN0YXJ0L2VuZCBhZGRlZCB0byBwdWJsaWMgYXBpIGFuZCBkb2N1bWVudGF0aW9uP1xuICAgIHN0YXJ0OiBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOlxuICAgIGVuZCA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbiwgdGljayA9IG5vb3AsIGNzcyB9ID0gZm4obm9kZSwgeyBmcm9tLCB0byB9LCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIGxldCBuYW1lO1xuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICBuYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpO1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgaWYgKCFzdGFydGVkICYmIG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCAmJiBub3cgPj0gZW5kKSB7XG4gICAgICAgICAgICB0aWNrKDEsIDApO1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gbm93IC0gc3RhcnRfdGltZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSAwICsgMSAqIGVhc2luZyhwIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgc3RhcnQoKTtcbiAgICB0aWNrKDAsIDEpO1xuICAgIHJldHVybiBzdG9wO1xufVxuZnVuY3Rpb24gZml4X3Bvc2l0aW9uKG5vZGUpIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnYWJzb2x1dGUnICYmIHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc3R5bGU7XG4gICAgICAgIGNvbnN0IGEgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgbm9kZS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgYWRkX3RyYW5zZm9ybShub2RlLCBhKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpIHtcbiAgICBjb25zdCBiID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoYS5sZWZ0ICE9PSBiLmxlZnQgfHwgYS50b3AgIT09IGIudG9wKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke2EubGVmdCAtIGIubGVmdH1weCwgJHthLnRvcCAtIGIudG9wfXB4KWA7XG4gICAgfVxufVxuXG5sZXQgY3VycmVudF9jb21wb25lbnQ7XG5mdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgY3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG4gICAgaWYgKCFjdXJyZW50X2NvbXBvbmVudClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcbiAgICByZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWJlZm9yZXVwZGF0ZVxuICovXG5mdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuLyoqXG4gKiBUaGUgYG9uTW91bnRgIGZ1bmN0aW9uIHNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBhcyBzb29uIGFzIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCB0byB0aGUgRE9NLlxuICogSXQgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBjb21wb25lbnQncyBpbml0aWFsaXNhdGlvbiAoYnV0IGRvZXNuJ3QgbmVlZCB0byBsaXZlICppbnNpZGUqIHRoZSBjb21wb25lbnQ7XG4gKiBpdCBjYW4gYmUgY2FsbGVkIGZyb20gYW4gZXh0ZXJuYWwgbW9kdWxlKS5cbiAqXG4gKiBgb25Nb3VudGAgZG9lcyBub3QgcnVuIGluc2lkZSBhIFtzZXJ2ZXItc2lkZSBjb21wb25lbnRdKC9kb2NzI3J1bi10aW1lLXNlcnZlci1zaWRlLWNvbXBvbmVudC1hcGkpLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1vbm1vdW50XG4gKi9cbmZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICovXG5mdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBPdXQgb2YgYG9uTW91bnRgLCBgYmVmb3JlVXBkYXRlYCwgYGFmdGVyVXBkYXRlYCBhbmQgYG9uRGVzdHJveWAsIHRoaXMgaXMgdGhlXG4gKiBvbmx5IG9uZSB0aGF0IHJ1bnMgaW5zaWRlIGEgc2VydmVyLXNpZGUgY29tcG9uZW50LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1vbmRlc3Ryb3lcbiAqL1xuZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fZGVzdHJveS5wdXNoKGZuKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWNyZWF0ZWV2ZW50ZGlzcGF0Y2hlclxuICovXG5mdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgcmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG4gICAgICAgICAgICAvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG4gKiBBc3NvY2lhdGVzIGFuIGFyYml0cmFyeSBgY29udGV4dGAgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgY29tcG9uZW50IGFuZCB0aGUgc3BlY2lmaWVkIGBrZXlgXG4gKiBhbmQgcmV0dXJucyB0aGF0IG9iamVjdC4gVGhlIGNvbnRleHQgaXMgdGhlbiBhdmFpbGFibGUgdG8gY2hpbGRyZW4gb2YgdGhlIGNvbXBvbmVudFxuICogKGluY2x1ZGluZyBzbG90dGVkIGNvbnRlbnQpIHdpdGggYGdldENvbnRleHRgLlxuICpcbiAqIExpa2UgbGlmZWN5Y2xlIGZ1bmN0aW9ucywgdGhpcyBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1zZXRjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcbiAgICByZXR1cm4gY29udGV4dDtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWdldGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtZ2V0YWxsY29udGV4dHNcbiAqL1xuZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQ7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWhhc2NvbnRleHRcbiAqL1xuZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG5mdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuICAgIH1cbn1cblxuY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuICAgIGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuICAgICAgICB1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aWNrKCkge1xuICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgIHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuICAgIHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcbiAgICBmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xubGV0IGZsdXNoaWR4ID0gMDsgLy8gRG8gKm5vdCogbW92ZSB0aGlzIGluc2lkZSB0aGUgZmx1c2goKSBmdW5jdGlvblxuZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgLy8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cbiAgICAvLyByZXN1bHQgaW4gYW4gaW5maW5pdGUgbG9vcC4gSW5zdGVhZCwgbGV0IHRoZSBpbm5lciBmbHVzaCBoYW5kbGUgaXQuXG4gICAgLy8gUmVlbnRyYW5jeSBpcyBvayBhZnRlcndhcmRzIGZvciBiaW5kaW5ncyBldGMuXG4gICAgaWYgKGZsdXNoaWR4ICE9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2F2ZWRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgZG8ge1xuICAgICAgICAvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG4gICAgICAgIC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcbiAgICAgICAgICAgICAgICBmbHVzaGlkeCsrO1xuICAgICAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZShjb21wb25lbnQuJCQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyByZXNldCBkaXJ0eSBzdGF0ZSB0byBub3QgZW5kIHVwIGluIGEgZGVhZGxvY2tlZCBzdGF0ZSBhbmQgdGhlbiByZXRocm93XG4gICAgICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmbHVzaGlkeCA9IDA7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuICAgICAgICBmbHVzaGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpXG4gICAgICAgICAgICBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcbiAgICAgICAgLy8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuICAgICAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG4gICAgICAgICAgICBpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG4gICAgICAgICAgICAgICAgc2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICB9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG4gICAgd2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgZmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgfVxuICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChzYXZlZF9jb21wb25lbnQpO1xufVxuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICQkLnVwZGF0ZSgpO1xuICAgICAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgICAgICBjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuICAgICAgICAkJC5kaXJ0eSA9IFstMV07XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG4gICAgICAgICQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuICAgIH1cbn1cbi8qKlxuICogVXNlZnVsIGZvciBleGFtcGxlIHRvIGV4ZWN1dGUgcmVtYWluaW5nIGBhZnRlclVwZGF0ZWAgY2FsbGJhY2tzIGJlZm9yZSBleGVjdXRpbmcgYGRlc3Ryb3lgLlxuICovXG5mdW5jdGlvbiBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKGZucykge1xuICAgIGNvbnN0IGZpbHRlcmVkID0gW107XG4gICAgY29uc3QgdGFyZ2V0cyA9IFtdO1xuICAgIHJlbmRlcl9jYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSk7XG4gICAgdGFyZ2V0cy5mb3JFYWNoKChjKSA9PiBjKCkpO1xuICAgIHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cblxubGV0IHByb21pc2U7XG5mdW5jdGlvbiB3YWl0KCkge1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG4gICAgbm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5sZXQgb3V0cm9zO1xuZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuICAgIG91dHJvcyA9IHtcbiAgICAgICAgcjogMCxcbiAgICAgICAgYzogW10sXG4gICAgICAgIHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuICAgIGlmICghb3V0cm9zLnIpIHtcbiAgICAgICAgcnVuX2FsbChvdXRyb3MuYyk7XG4gICAgfVxuICAgIG91dHJvcyA9IG91dHJvcy5wO1xufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICBibG9jay5pKGxvY2FsKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2subykge1xuICAgICAgICBpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgb3V0cm9pbmcuYWRkKGJsb2NrKTtcbiAgICAgICAgb3V0cm9zLmMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZCgxKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2subyhsb2NhbCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxufVxuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2luJyB9O1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIGxldCBydW5uaW5nID0gZmFsc2U7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGxldCB0YXNrO1xuICAgIGxldCB1aWQgPSAwO1xuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcbiAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBpZiAodGFzaylcbiAgICAgICAgICAgIHRhc2suYWJvcnQoKTtcbiAgICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuICAgICAgICB0YXNrID0gbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmIChzdGFydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB3YWl0KCkudGhlbihnbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZhbGlkYXRlKCkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX291dF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdvdXQnIH07XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBjb25zdCBncm91cCA9IG91dHJvcztcbiAgICBncm91cC5yICs9IDE7XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgIGdvKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ28oKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5kKHJlc2V0KSB7XG4gICAgICAgICAgICBpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcbiAgICAgICAgICAgICAgICBjb25maWcudGljaygxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcbiAgICBjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSAocHJvZ3JhbS5iIC0gdCk7XG4gICAgICAgIGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYTogdCxcbiAgICAgICAgICAgIGI6IHByb2dyYW0uYixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG4gICAgICAgICAgICBncm91cDogcHJvZ3JhbS5ncm91cFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbyhiKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB7XG4gICAgICAgICAgICBzdGFydDogbm93KCkgKyBkZWxheSxcbiAgICAgICAgICAgIGJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgcHJvZ3JhbS5ncm91cCA9IG91dHJvcztcbiAgICAgICAgICAgIG91dHJvcy5yICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIpXG4gICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG4gICAgICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgcnVubmluZ19wcm9ncmFtLmIsIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbiwgMCwgZWFzaW5nLCBjb25maWcuY3NzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0ID0gcnVubmluZ19wcm9ncmFtLmIsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKGIpIHtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlX3Byb21pc2UocHJvbWlzZSwgaW5mbykge1xuICAgIGNvbnN0IHRva2VuID0gaW5mby50b2tlbiA9IHt9O1xuICAgIGZ1bmN0aW9uIHVwZGF0ZSh0eXBlLCBpbmRleCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSB2YWx1ZTtcbiAgICAgICAgbGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoaWxkX2N0eCA9IGNoaWxkX2N0eC5zbGljZSgpO1xuICAgICAgICAgICAgY2hpbGRfY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBuZWVkc19mbHVzaCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5mby5ibG9jaykge1xuICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9ja3MuZm9yRWFjaCgoYmxvY2ssIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4ICYmIGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzW2ldID09PSBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja19vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9jay5kKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgICAgICBibG9jay5tKGluZm8ubW91bnQoKSwgaW5mby5hbmNob3IpO1xuICAgICAgICAgICAgbmVlZHNfZmx1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8uYmxvY2sgPSBibG9jaztcbiAgICAgICAgaWYgKGluZm8uYmxvY2tzKVxuICAgICAgICAgICAgaW5mby5ibG9ja3NbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgIGlmIChuZWVkc19mbHVzaCkge1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNfcHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgICAgICBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLmNhdGNoLCAyLCBpbmZvLmVycm9yLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgICAgICBpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0gcHJvbWlzZTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfYXdhaXRfYmxvY2tfYnJhbmNoKGluZm8sIGN0eCwgZGlydHkpIHtcbiAgICBjb25zdCBjaGlsZF9jdHggPSBjdHguc2xpY2UoKTtcbiAgICBjb25zdCB7IHJlc29sdmVkIH0gPSBpbmZvO1xuICAgIGlmIChpbmZvLmN1cnJlbnQgPT09IGluZm8udGhlbikge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby52YWx1ZV0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby5jYXRjaCkge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby5lcnJvcl0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaW5mby5ibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5kKDEpO1xuICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cbmZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2gob2xkX2Jsb2NrcywgZGlydHksIGdldF9rZXksIGR5bmFtaWMsIGN0eCwgbGlzdCwgbG9va3VwLCBub2RlLCBkZXN0cm95LCBjcmVhdGVfZWFjaF9ibG9jaywgbmV4dCwgZ2V0X2NvbnRleHQpIHtcbiAgICBsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuICAgIGxldCBuID0gbGlzdC5sZW5ndGg7XG4gICAgbGV0IGkgPSBvO1xuICAgIGNvbnN0IG9sZF9pbmRleGVzID0ge307XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcbiAgICBjb25zdCBuZXdfYmxvY2tzID0gW107XG4gICAgY29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgdXBkYXRlcyA9IFtdO1xuICAgIGkgPSBuO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGRfY3R4ID0gZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKTtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuICAgICAgICBsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgICAgIGJsb2NrID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpO1xuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5bmFtaWMpIHtcbiAgICAgICAgICAgIC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcbiAgICAgICAgICAgIHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdfbG9va3VwLnNldChrZXksIG5ld19ibG9ja3NbaV0gPSBibG9jayk7XG4gICAgICAgIGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpXG4gICAgICAgICAgICBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcbiAgICB9XG4gICAgY29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgYmxvY2subShub2RlLCBuZXh0KTtcbiAgICAgICAgbG9va3VwLnNldChibG9jay5rZXksIGJsb2NrKTtcbiAgICAgICAgbmV4dCA9IGJsb2NrLmZpcnN0O1xuICAgICAgICBuLS07XG4gICAgfVxuICAgIHdoaWxlIChvICYmIG4pIHtcbiAgICAgICAgY29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuICAgICAgICBjb25zdCBuZXdfa2V5ID0gbmV3X2Jsb2NrLmtleTtcbiAgICAgICAgY29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG4gICAgICAgIGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgbmV4dCA9IG5ld19ibG9jay5maXJzdDtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgICAgIG4tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2tleSkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYmxvY2tcbiAgICAgICAgICAgIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlbHRhcy5nZXQobmV3X2tleSkgPiBkZWx0YXMuZ2V0KG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBkaWRfbW92ZS5hZGQobmV3X2tleSk7XG4gICAgICAgICAgICBpbnNlcnQobmV3X2Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKG8tLSkge1xuICAgICAgICBjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuICAgICAgICBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKVxuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgfVxuICAgIHdoaWxlIChuKVxuICAgICAgICBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuICAgIHJ1bl9hbGwodXBkYXRlcyk7XG4gICAgcmV0dXJuIG5ld19ibG9ja3M7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG4gICAgICAgIGlmIChrZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaCcpO1xuICAgICAgICB9XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuXG5jb25zdCBfYm9vbGVhbl9hdHRyaWJ1dGVzID0gW1xuICAgICdhbGxvd2Z1bGxzY3JlZW4nLFxuICAgICdhbGxvd3BheW1lbnRyZXF1ZXN0JyxcbiAgICAnYXN5bmMnLFxuICAgICdhdXRvZm9jdXMnLFxuICAgICdhdXRvcGxheScsXG4gICAgJ2NoZWNrZWQnLFxuICAgICdjb250cm9scycsXG4gICAgJ2RlZmF1bHQnLFxuICAgICdkZWZlcicsXG4gICAgJ2Rpc2FibGVkJyxcbiAgICAnZm9ybW5vdmFsaWRhdGUnLFxuICAgICdoaWRkZW4nLFxuICAgICdpbmVydCcsXG4gICAgJ2lzbWFwJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl07XG4vKipcbiAqIExpc3Qgb2YgSFRNTCBib29sZWFuIGF0dHJpYnV0ZXMgKGUuZy4gYDxpbnB1dCBkaXNhYmxlZD5gKS5cbiAqIFNvdXJjZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sXG4gKi9cbmNvbnN0IGJvb2xlYW5fYXR0cmlidXRlcyA9IG5ldyBTZXQoWy4uLl9ib29sZWFuX2F0dHJpYnV0ZXNdKTtcblxuLyoqIHJlZ2V4IG9mIGFsbCBodG1sIHZvaWQgZWxlbWVudCBuYW1lcyAqL1xuY29uc3Qgdm9pZF9lbGVtZW50X25hbWVzID0gL14oPzphcmVhfGJhc2V8YnJ8Y29sfGNvbW1hbmR8ZW1iZWR8aHJ8aW1nfGlucHV0fGtleWdlbnxsaW5rfG1ldGF8cGFyYW18c291cmNlfHRyYWNrfHdicikkLztcbmZ1bmN0aW9uIGlzX3ZvaWQobmFtZSkge1xuICAgIHJldHVybiB2b2lkX2VsZW1lbnRfbmFtZXMudGVzdChuYW1lKSB8fCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICchZG9jdHlwZSc7XG59XG5cbmNvbnN0IGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyID0gL1tcXHMnXCI+Lz1cXHV7RkREMH0tXFx1e0ZERUZ9XFx1e0ZGRkV9XFx1e0ZGRkZ9XFx1ezFGRkZFfVxcdXsxRkZGRn1cXHV7MkZGRkV9XFx1ezJGRkZGfVxcdXszRkZGRX1cXHV7M0ZGRkZ9XFx1ezRGRkZFfVxcdXs0RkZGRn1cXHV7NUZGRkV9XFx1ezVGRkZGfVxcdXs2RkZGRX1cXHV7NkZGRkZ9XFx1ezdGRkZFfVxcdXs3RkZGRn1cXHV7OEZGRkV9XFx1ezhGRkZGfVxcdXs5RkZGRX1cXHV7OUZGRkZ9XFx1e0FGRkZFfVxcdXtBRkZGRn1cXHV7QkZGRkV9XFx1e0JGRkZGfVxcdXtDRkZGRX1cXHV7Q0ZGRkZ9XFx1e0RGRkZFfVxcdXtERkZGRn1cXHV7RUZGRkV9XFx1e0VGRkZGfVxcdXtGRkZGRX1cXHV7RkZGRkZ9XFx1ezEwRkZGRX1cXHV7MTBGRkZGfV0vdTtcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuLy8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI25vbmNoYXJhY3RlclxuZnVuY3Rpb24gc3ByZWFkKGFyZ3MsIGF0dHJzX3RvX2FkZCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCAuLi5hcmdzKTtcbiAgICBpZiAoYXR0cnNfdG9fYWRkKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXNfdG9fYWRkID0gYXR0cnNfdG9fYWRkLmNsYXNzZXM7XG4gICAgICAgIGNvbnN0IHN0eWxlc190b19hZGQgPSBhdHRyc190b19hZGQuc3R5bGVzO1xuICAgICAgICBpZiAoY2xhc3Nlc190b19hZGQpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmNsYXNzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzID0gY2xhc3Nlc190b19hZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzICs9ICcgJyArIGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZXNfdG9fYWRkKSB7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5zdHlsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5zdHlsZSA9IHN0eWxlX29iamVjdF90b19zdHJpbmcoc3R5bGVzX3RvX2FkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhtZXJnZV9zc3Jfc3R5bGVzKGF0dHJpYnV0ZXMuc3R5bGUsIHN0eWxlc190b19hZGQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RyID0gJyc7XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLnRlc3QobmFtZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKVxuICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIGVsc2UgaWYgKGJvb2xlYW5fYXR0cmlidXRlcy5oYXMobmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgICAgIHN0ciArPSAnICcgKyBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0ciArPSBgICR7bmFtZX09XCIke3ZhbHVlfVwiYDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiBtZXJnZV9zc3Jfc3R5bGVzKHN0eWxlX2F0dHJpYnV0ZSwgc3R5bGVfZGlyZWN0aXZlKSB7XG4gICAgY29uc3Qgc3R5bGVfb2JqZWN0ID0ge307XG4gICAgZm9yIChjb25zdCBpbmRpdmlkdWFsX3N0eWxlIG9mIHN0eWxlX2F0dHJpYnV0ZS5zcGxpdCgnOycpKSB7XG4gICAgICAgIGNvbnN0IGNvbG9uX2luZGV4ID0gaW5kaXZpZHVhbF9zdHlsZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBpbmRpdmlkdWFsX3N0eWxlLnNsaWNlKDAsIGNvbG9uX2luZGV4KS50cmltKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5kaXZpZHVhbF9zdHlsZS5zbGljZShjb2xvbl9pbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHN0eWxlX29iamVjdFtuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc3R5bGVfZGlyZWN0aXZlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVfZGlyZWN0aXZlW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN0eWxlX29iamVjdFtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHN0eWxlX29iamVjdFtuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R5bGVfb2JqZWN0O1xufVxuY29uc3QgQVRUUl9SRUdFWCA9IC9bJlwiXS9nO1xuY29uc3QgQ09OVEVOVF9SRUdFWCA9IC9bJjxdL2c7XG4vKipcbiAqIE5vdGU6IHRoaXMgbWV0aG9kIGlzIHBlcmZvcm1hbmNlIHNlbnNpdGl2ZSBhbmQgaGFzIGJlZW4gb3B0aW1pemVkXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL3B1bGwvNTcwMVxuICovXG5mdW5jdGlvbiBlc2NhcGUodmFsdWUsIGlzX2F0dHIgPSBmYWxzZSkge1xuICAgIGNvbnN0IHN0ciA9IFN0cmluZyh2YWx1ZSk7XG4gICAgY29uc3QgcGF0dGVybiA9IGlzX2F0dHIgPyBBVFRSX1JFR0VYIDogQ09OVEVOVF9SRUdFWDtcbiAgICBwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgbGV0IGVzY2FwZWQgPSAnJztcbiAgICBsZXQgbGFzdCA9IDA7XG4gICAgd2hpbGUgKHBhdHRlcm4udGVzdChzdHIpKSB7XG4gICAgICAgIGNvbnN0IGkgPSBwYXR0ZXJuLmxhc3RJbmRleCAtIDE7XG4gICAgICAgIGNvbnN0IGNoID0gc3RyW2ldO1xuICAgICAgICBlc2NhcGVkICs9IHN0ci5zdWJzdHJpbmcobGFzdCwgaSkgKyAoY2ggPT09ICcmJyA/ICcmYW1wOycgOiAoY2ggPT09ICdcIicgPyAnJnF1b3Q7JyA6ICcmbHQ7JykpO1xuICAgICAgICBsYXN0ID0gaSArIDE7XG4gICAgfVxuICAgIHJldHVybiBlc2NhcGVkICsgc3RyLnN1YnN0cmluZyhsYXN0KTtcbn1cbmZ1bmN0aW9uIGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUodmFsdWUpIHtcbiAgICAvLyBrZWVwIGJvb2xlYW5zLCBudWxsLCBhbmQgdW5kZWZpbmVkIGZvciB0aGUgc2FrZSBvZiBgc3ByZWFkYFxuICAgIGNvbnN0IHNob3VsZF9lc2NhcGUgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8ICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKTtcbiAgICByZXR1cm4gc2hvdWxkX2VzY2FwZSA/IGVzY2FwZSh2YWx1ZSwgdHJ1ZSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGVzY2FwZV9vYmplY3Qob2JqKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZShvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBlYWNoKGl0ZW1zLCBmbikge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHN0ciArPSBmbihpdGVtc1tpXSwgaSk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5jb25zdCBtaXNzaW5nX2NvbXBvbmVudCA9IHtcbiAgICAkJHJlbmRlcjogKCkgPT4gJydcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZV9jb21wb25lbnQoY29tcG9uZW50LCBuYW1lKSB7XG4gICAgaWYgKCFjb21wb25lbnQgfHwgIWNvbXBvbmVudC4kJHJlbmRlcikge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ3N2ZWx0ZTpjb21wb25lbnQnKVxuICAgICAgICAgICAgbmFtZSArPSAnIHRoaXM9ey4uLn0nO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYDwke25hbWV9PiBpcyBub3QgYSB2YWxpZCBTU1IgY29tcG9uZW50LiBZb3UgbWF5IG5lZWQgdG8gcmV2aWV3IHlvdXIgYnVpbGQgY29uZmlnIHRvIGVuc3VyZSB0aGF0IGRlcGVuZGVuY2llcyBhcmUgY29tcGlsZWQsIHJhdGhlciB0aGFuIGltcG9ydGVkIGFzIHByZS1jb21waWxlZCBtb2R1bGVzLiBPdGhlcndpc2UgeW91IG1heSBuZWVkIHRvIGZpeCBhIDwke25hbWV9Pi5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGRlYnVnKGZpbGUsIGxpbmUsIGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgY29uc29sZS5sb2coYHtAZGVidWd9ICR7ZmlsZSA/IGZpbGUgKyAnICcgOiAnJ30oJHtsaW5lfToke2NvbHVtbn0pYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIHJldHVybiAnJztcbn1cbmxldCBvbl9kZXN0cm95O1xuZnVuY3Rpb24gY3JlYXRlX3Nzcl9jb21wb25lbnQoZm4pIHtcbiAgICBmdW5jdGlvbiAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgICAgICBjb25zdCAkJCA9IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3ksXG4gICAgICAgICAgICBjb250ZXh0OiBuZXcgTWFwKGNvbnRleHQgfHwgKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSkpLFxuICAgICAgICAgICAgLy8gdGhlc2Ugd2lsbCBiZSBpbW1lZGlhdGVseSBkaXNjYXJkZWRcbiAgICAgICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KClcbiAgICAgICAgfTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHsgJCQgfSk7XG4gICAgICAgIGNvbnN0IGh0bWwgPSBmbihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMpO1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXI6IChwcm9wcyA9IHt9LCB7ICQkc2xvdHMgPSB7fSwgY29udGV4dCA9IG5ldyBNYXAoKSB9ID0ge30pID0+IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3kgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgdGl0bGU6ICcnLCBoZWFkOiAnJywgY3NzOiBuZXcgU2V0KCkgfTtcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCB7fSwgJCRzbG90cywgY29udGV4dCk7XG4gICAgICAgICAgICBydW5fYWxsKG9uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBodG1sLFxuICAgICAgICAgICAgICAgIGNzczoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBBcnJheS5mcm9tKHJlc3VsdC5jc3MpLm1hcChjc3MgPT4gY3NzLmNvZGUpLmpvaW4oJ1xcbicpLFxuICAgICAgICAgICAgICAgICAgICBtYXA6IG51bGwgLy8gVE9ET1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGVhZDogcmVzdWx0LnRpdGxlICsgcmVzdWx0LmhlYWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICQkcmVuZGVyXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGFkZF9hdHRyaWJ1dGUobmFtZSwgdmFsdWUsIGJvb2xlYW4pIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoYm9vbGVhbiAmJiAhdmFsdWUpKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgY29uc3QgYXNzaWdubWVudCA9IChib29sZWFuICYmIHZhbHVlID09PSB0cnVlKSA/ICcnIDogYD1cIiR7ZXNjYXBlKHZhbHVlLCB0cnVlKX1cImA7XG4gICAgcmV0dXJuIGAgJHtuYW1lfSR7YXNzaWdubWVudH1gO1xufVxuZnVuY3Rpb24gYWRkX2NsYXNzZXMoY2xhc3Nlcykge1xuICAgIHJldHVybiBjbGFzc2VzID8gYCBjbGFzcz1cIiR7Y2xhc3Nlc31cImAgOiAnJztcbn1cbmZ1bmN0aW9uIHN0eWxlX29iamVjdF90b19zdHJpbmcoc3R5bGVfb2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlX29iamVjdClcbiAgICAgICAgLmZpbHRlcihrZXkgPT4gc3R5bGVfb2JqZWN0W2tleV0pXG4gICAgICAgIC5tYXAoa2V5ID0+IGAke2tleX06ICR7ZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZShzdHlsZV9vYmplY3Rba2V5XSl9O2ApXG4gICAgICAgIC5qb2luKCcgJyk7XG59XG5mdW5jdGlvbiBhZGRfc3R5bGVzKHN0eWxlX29iamVjdCkge1xuICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlX29iamVjdF90b19zdHJpbmcoc3R5bGVfb2JqZWN0KTtcbiAgICByZXR1cm4gc3R5bGVzID8gYCBzdHlsZT1cIiR7c3R5bGVzfVwiYCA6ICcnO1xufVxuXG5mdW5jdGlvbiBiaW5kKGNvbXBvbmVudCwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrKGNvbXBvbmVudC4kJC5jdHhbaW5kZXhdKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG4gICAgYmxvY2sgJiYgYmxvY2suYygpO1xufVxuZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcbiAgICBibG9jayAmJiBibG9jay5sKHBhcmVudF9ub2Rlcyk7XG59XG5mdW5jdGlvbiBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCB0YXJnZXQsIGFuY2hvciwgY3VzdG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIGlmICghY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBjb21wb25lbnQuJCQub25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gaXQgd2lsbCB1cGRhdGUgdGhlIGAkJC5vbl9kZXN0cm95YCByZWZlcmVuY2UgdG8gYG51bGxgLlxuICAgICAgICAgICAgLy8gdGhlIGRlc3RydWN0dXJlZCBvbl9kZXN0cm95IG1heSBzdGlsbCByZWZlcmVuY2UgdG8gdGhlIG9sZCBhcnJheVxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaCguLi5uZXdfb25fZGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcbiAgICAgICAgICAgICAgICAvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG4gICAgICAgICAgICAgICAgcnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnQuJCQub25fbW91bnQgPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJDtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgZmx1c2hfcmVuZGVyX2NhbGxiYWNrcygkJC5hZnRlcl91cGRhdGUpO1xuICAgICAgICBydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cbiAgICAgICAgLy8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuICAgICAgICAkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAkJC5jdHggPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuICAgIGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICAgICAgY29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG4gICAgfVxuICAgIGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9ICgxIDw8IChpICUgMzEpKTtcbn1cbmZ1bmN0aW9uIGluaXQoY29tcG9uZW50LCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBub3RfZXF1YWwsIHByb3BzLCBhcHBlbmRfc3R5bGVzLCBkaXJ0eSA9IFstMV0pIHtcbiAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQgPSB7XG4gICAgICAgIGZyYWdtZW50OiBudWxsLFxuICAgICAgICBjdHg6IFtdLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdXBkYXRlOiBub29wLFxuICAgICAgICBub3RfZXF1YWwsXG4gICAgICAgIGJvdW5kOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlXG4gICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgb25fZGVzdHJveTogW10sXG4gICAgICAgIG9uX2Rpc2Nvbm5lY3Q6IFtdLFxuICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgY29udGV4dDogbmV3IE1hcChvcHRpb25zLmNvbnRleHQgfHwgKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSkpLFxuICAgICAgICAvLyBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgZGlydHksXG4gICAgICAgIHNraXBfYm91bmQ6IGZhbHNlLFxuICAgICAgICByb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3RcbiAgICB9O1xuICAgIGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcbiAgICBsZXQgcmVhZHkgPSBmYWxzZTtcbiAgICAkJC5jdHggPSBpbnN0YW5jZVxuICAgICAgICA/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG4gICAgICAgICAgICBpZiAoJCQuY3R4ICYmIG5vdF9lcXVhbCgkJC5jdHhbaV0sICQkLmN0eFtpXSA9IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSlcbiAgICAgICAgICAgICAgICAgICAgJCQuYm91bmRbaV0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkeSlcbiAgICAgICAgICAgICAgICAgICAgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSlcbiAgICAgICAgOiBbXTtcbiAgICAkJC51cGRhdGUoKTtcbiAgICByZWFkeSA9IHRydWU7XG4gICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcbiAgICAkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgICAgIHN0YXJ0X2h5ZHJhdGluZygpO1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludHJvKVxuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuICAgICAgICBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IsIG9wdGlvbnMuY3VzdG9tRWxlbWVudCk7XG4gICAgICAgIGVuZF9oeWRyYXRpbmcoKTtcbiAgICAgICAgZmx1c2goKTtcbiAgICB9XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxubGV0IFN2ZWx0ZUVsZW1lbnQ7XG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgU3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25fbW91bnQgfSA9IHRoaXMuJCQ7XG4gICAgICAgICAgICB0aGlzLiQkLm9uX2Rpc2Nvbm5lY3QgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCQuc2xvdHRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLiQkLnNsb3R0ZWRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIF9vbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbYXR0cl0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJ1bl9hbGwodGhpcy4kJC5vbl9kaXNjb25uZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIGRlbGVnYXRlIHRvIGFkZEV2ZW50TGlzdGVuZXI/XG4gICAgICAgICAgICBpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJHNldCgkJHByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuJCRzZXQoJCRwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hfZGV2KHR5cGUsIGRldGFpbCkge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KHR5cGUsIE9iamVjdC5hc3NpZ24oeyB2ZXJzaW9uOiAnMy41OS4yJyB9LCBkZXRhaWwpLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlIH0pO1xuICAgIGFwcGVuZCh0YXJnZXQsIG5vZGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbl9kZXYodGFyZ2V0LCBub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSB9KTtcbiAgICBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBpbnNlcnRfZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSwgYW5jaG9yIH0pO1xuICAgIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG59XG5mdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uX2Rldih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUsIGFuY2hvciB9KTtcbiAgICBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9kZXYobm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlJywgeyBub2RlIH0pO1xuICAgIGRldGFjaChub2RlKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9iZXR3ZWVuX2RldihiZWZvcmUsIGFmdGVyKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZyAmJiBiZWZvcmUubmV4dFNpYmxpbmcgIT09IGFmdGVyKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYmVmb3JlX2RldihhZnRlcikge1xuICAgIHdoaWxlIChhZnRlci5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihhZnRlci5wcmV2aW91c1NpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9hZnRlcl9kZXYoYmVmb3JlKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbGlzdGVuX2Rldihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucywgaGFzX3ByZXZlbnRfZGVmYXVsdCwgaGFzX3N0b3BfcHJvcGFnYXRpb24sIGhhc19zdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbikge1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IG9wdGlvbnMgPT09IHRydWUgPyBbJ2NhcHR1cmUnXSA6IG9wdGlvbnMgPyBBcnJheS5mcm9tKE9iamVjdC5rZXlzKG9wdGlvbnMpKSA6IFtdO1xuICAgIGlmIChoYXNfcHJldmVudF9kZWZhdWx0KVxuICAgICAgICBtb2RpZmllcnMucHVzaCgncHJldmVudERlZmF1bHQnKTtcbiAgICBpZiAoaGFzX3N0b3BfcHJvcGFnYXRpb24pXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdzdG9wUHJvcGFnYXRpb24nKTtcbiAgICBpZiAoaGFzX3N0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKVxuICAgICAgICBtb2RpZmllcnMucHVzaCgnc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJyk7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01BZGRFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyX2Rldihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSB9KTtcbiAgICBlbHNlXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0QXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUsIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gcHJvcF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldFByb3BlcnR5JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBkYXRhc2V0X2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlLmRhdGFzZXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhc2V0JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9kZXYodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQuZGF0YSA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YScsIHsgbm9kZTogdGV4dCwgZGF0YSB9KTtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlX2Rldih0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGEnLCB7IG5vZGU6IHRleHQsIGRhdGEgfSk7XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZV9kZXYodGV4dCwgZGF0YSwgYXR0cl92YWx1ZSkge1xuICAgIGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuICAgICAgICBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGVfZGV2KHRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0X2RhdGFfZGV2KHRleHQsIGRhdGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdzdHJpbmcnICYmICEoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIGFyZykpIHtcbiAgICAgICAgbGV0IG1zZyA9ICd7I2VhY2h9IG9ubHkgaXRlcmF0ZXMgb3ZlciBhcnJheS1saWtlIG9iamVjdHMuJztcbiAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgYXJnICYmIFN5bWJvbC5pdGVyYXRvciBpbiBhcmcpIHtcbiAgICAgICAgICAgIG1zZyArPSAnIFlvdSBjYW4gdXNlIGEgc3ByZWFkIHRvIGNvbnZlcnQgdGhpcyBpdGVyYWJsZSBpbnRvIGFuIGFycmF5Lic7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfc2xvdHMobmFtZSwgc2xvdCwga2V5cykge1xuICAgIGZvciAoY29uc3Qgc2xvdF9rZXkgb2YgT2JqZWN0LmtleXMoc2xvdCkpIHtcbiAgICAgICAgaWYgKCF+a2V5cy5pbmRleE9mKHNsb3Rfa2V5KSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGA8JHtuYW1lfT4gcmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBzbG90IFwiJHtzbG90X2tleX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2R5bmFtaWNfZWxlbWVudCh0YWcpIHtcbiAgICBjb25zdCBpc19zdHJpbmcgPSB0eXBlb2YgdGFnID09PSAnc3RyaW5nJztcbiAgICBpZiAodGFnICYmICFpc19zdHJpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc8c3ZlbHRlOmVsZW1lbnQ+IGV4cGVjdHMgXCJ0aGlzXCIgYXR0cmlidXRlIHRvIGJlIGEgc3RyaW5nLicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3ZvaWRfZHluYW1pY19lbGVtZW50KHRhZykge1xuICAgIGlmICh0YWcgJiYgaXNfdm9pZCh0YWcpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgPHN2ZWx0ZTplbGVtZW50IHRoaXM9XCIke3RhZ31cIj4gaXMgc2VsZi1jbG9zaW5nIGFuZCBjYW5ub3QgaGF2ZSBjb250ZW50LmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50X2Rldihjb21wb25lbnQsIHByb3BzKSB7XG4gICAgY29uc3QgZXJyb3JfbWVzc2FnZSA9ICd0aGlzPXsuLi59IG9mIDxzdmVsdGU6Y29tcG9uZW50PiBzaG91bGQgc3BlY2lmeSBhIFN2ZWx0ZSBjb21wb25lbnQuJztcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBjb21wb25lbnQocHJvcHMpO1xuICAgICAgICBpZiAoIWluc3RhbmNlLiQkIHx8ICFpbnN0YW5jZS4kc2V0IHx8ICFpbnN0YW5jZS4kb24gfHwgIWluc3RhbmNlLiRkZXN0cm95KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JfbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gZXJyO1xuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmIG1lc3NhZ2UuaW5kZXhPZignaXMgbm90IGEgY29uc3RydWN0b3InKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMgd2l0aCBzb21lIG1pbm9yIGRldi1lbmhhbmNlbWVudHMuIFVzZWQgd2hlbiBkZXY9dHJ1ZS5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50RGV2IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAoIW9wdGlvbnMudGFyZ2V0ICYmICFvcHRpb25zLiQkaW5saW5lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ3RhcmdldCcgaXMgYSByZXF1aXJlZCBvcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLiRkZXN0cm95KCk7XG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbXBvbmVudCB3YXMgYWxyZWFkeSBkZXN0cm95ZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIH07XG4gICAgfVxuICAgICRjYXB0dXJlX3N0YXRlKCkgeyB9XG4gICAgJGluamVjdF9zdGF0ZSgpIHsgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIHRvIGNyZWF0ZSBzdHJvbmdseSB0eXBlZCBTdmVsdGUgY29tcG9uZW50cy5cbiAqIFRoaXMgb25seSBleGlzdHMgZm9yIHR5cGluZyBwdXJwb3NlcyBhbmQgc2hvdWxkIGJlIHVzZWQgaW4gYC5kLnRzYCBmaWxlcy5cbiAqXG4gKiAjIyMgRXhhbXBsZTpcbiAqXG4gKiBZb3UgaGF2ZSBjb21wb25lbnQgbGlicmFyeSBvbiBucG0gY2FsbGVkIGBjb21wb25lbnQtbGlicmFyeWAsIGZyb20gd2hpY2hcbiAqIHlvdSBleHBvcnQgYSBjb21wb25lbnQgY2FsbGVkIGBNeUNvbXBvbmVudGAuIEZvciBTdmVsdGUrVHlwZVNjcmlwdCB1c2VycyxcbiAqIHlvdSB3YW50IHRvIHByb3ZpZGUgdHlwaW5ncy4gVGhlcmVmb3JlIHlvdSBjcmVhdGUgYSBgaW5kZXguZC50c2A6XG4gKiBgYGB0c1xuICogaW1wb3J0IHsgU3ZlbHRlQ29tcG9uZW50VHlwZWQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gKiBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnRUeXBlZDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogYGBgXG4gKiBUeXBpbmcgdGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgSURFcyBsaWtlIFZTIENvZGUgd2l0aCB0aGUgU3ZlbHRlIGV4dGVuc2lvblxuICogdG8gcHJvdmlkZSBpbnRlbGxpc2Vuc2UgYW5kIHRvIHVzZSB0aGUgY29tcG9uZW50IGxpa2UgdGhpcyBpbiBhIFN2ZWx0ZSBmaWxlXG4gKiB3aXRoIFR5cGVTY3JpcHQ6XG4gKiBgYGBzdmVsdGVcbiAqIDxzY3JpcHQgbGFuZz1cInRzXCI+XG4gKiBcdGltcG9ydCB7IE15Q29tcG9uZW50IH0gZnJvbSBcImNvbXBvbmVudC1saWJyYXJ5XCI7XG4gKiA8L3NjcmlwdD5cbiAqIDxNeUNvbXBvbmVudCBmb289eydiYXInfSAvPlxuICogYGBgXG4gKlxuICogIyMjIyBXaHkgbm90IG1ha2UgdGhpcyBwYXJ0IG9mIGBTdmVsdGVDb21wb25lbnQoRGV2KWA/XG4gKiBCZWNhdXNlXG4gKiBgYGB0c1xuICogY2xhc3MgQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGNvbnN0IGNvbXBvbmVudDogdHlwZW9mIFN2ZWx0ZUNvbXBvbmVudCA9IEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50O1xuICogYGBgXG4gKiB3aWxsIHRocm93IGEgdHlwZSBlcnJvciwgc28gd2UgbmVlZCB0byBzZXBhcmF0ZSB0aGUgbW9yZSBzdHJpY3RseSB0eXBlZCBjbGFzcy5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50VHlwZWQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9vcF9ndWFyZCh0aW1lb3V0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3AgZGV0ZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCB7IEh0bWxUYWcsIEh0bWxUYWdIeWRyYXRpb24sIFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLCBTdmVsdGVDb21wb25lbnQsIFN2ZWx0ZUNvbXBvbmVudERldiwgU3ZlbHRlQ29tcG9uZW50VHlwZWQsIFN2ZWx0ZUVsZW1lbnQsIGFjdGlvbl9kZXN0cm95ZXIsIGFkZF9hdHRyaWJ1dGUsIGFkZF9jbGFzc2VzLCBhZGRfZmx1c2hfY2FsbGJhY2ssIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyLCBhZGRfbG9jYXRpb24sIGFkZF9yZW5kZXJfY2FsbGJhY2ssIGFkZF9zdHlsZXMsIGFkZF90cmFuc2Zvcm0sIGFmdGVyVXBkYXRlLCBhcHBlbmQsIGFwcGVuZF9kZXYsIGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0LCBhcHBlbmRfaHlkcmF0aW9uLCBhcHBlbmRfaHlkcmF0aW9uX2RldiwgYXBwZW5kX3N0eWxlcywgYXNzaWduLCBhdHRyLCBhdHRyX2RldiwgYXR0cmlidXRlX3RvX29iamVjdCwgYmVmb3JlVXBkYXRlLCBiaW5kLCBiaW5kaW5nX2NhbGxiYWNrcywgYmxhbmtfb2JqZWN0LCBidWJibGUsIGNoZWNrX291dHJvcywgY2hpbGRyZW4sIGNsYWltX2NvbW1lbnQsIGNsYWltX2NvbXBvbmVudCwgY2xhaW1fZWxlbWVudCwgY2xhaW1faHRtbF90YWcsIGNsYWltX3NwYWNlLCBjbGFpbV9zdmdfZWxlbWVudCwgY2xhaW1fdGV4dCwgY2xlYXJfbG9vcHMsIGNvbW1lbnQsIGNvbXBvbmVudF9zdWJzY3JpYmUsIGNvbXB1dGVfcmVzdF9wcm9wcywgY29tcHV0ZV9zbG90cywgY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQsIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50X2RldiwgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgY3JlYXRlX2FuaW1hdGlvbiwgY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbiwgY3JlYXRlX2NvbXBvbmVudCwgY3JlYXRlX2luX3RyYW5zaXRpb24sIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbiwgY3JlYXRlX3Nsb3QsIGNyZWF0ZV9zc3JfY29tcG9uZW50LCBjdXJyZW50X2NvbXBvbmVudCwgY3VzdG9tX2V2ZW50LCBkYXRhc2V0X2RldiwgZGVidWcsIGRlc3Ryb3lfYmxvY2ssIGRlc3Ryb3lfY29tcG9uZW50LCBkZXN0cm95X2VhY2gsIGRldGFjaCwgZGV0YWNoX2FmdGVyX2RldiwgZGV0YWNoX2JlZm9yZV9kZXYsIGRldGFjaF9iZXR3ZWVuX2RldiwgZGV0YWNoX2RldiwgZGlydHlfY29tcG9uZW50cywgZGlzcGF0Y2hfZGV2LCBlYWNoLCBlbGVtZW50LCBlbGVtZW50X2lzLCBlbXB0eSwgZW5kX2h5ZHJhdGluZywgZXNjYXBlLCBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlLCBlc2NhcGVfb2JqZWN0LCBleGNsdWRlX2ludGVybmFsX3Byb3BzLCBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2ssIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIGZpeF9wb3NpdGlvbiwgZmx1c2gsIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MsIGdldEFsbENvbnRleHRzLCBnZXRDb250ZXh0LCBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUsIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlLCBnZXRfY3VycmVudF9jb21wb25lbnQsIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMsIGdldF9yb290X2Zvcl9zdHlsZSwgZ2V0X3Nsb3RfY2hhbmdlcywgZ2V0X3NwcmVhZF9vYmplY3QsIGdldF9zcHJlYWRfdXBkYXRlLCBnZXRfc3RvcmVfdmFsdWUsIGdsb2JhbHMsIGdyb3VwX291dHJvcywgaGFuZGxlX3Byb21pc2UsIGhhc0NvbnRleHQsIGhhc19wcm9wLCBoZWFkX3NlbGVjdG9yLCBpZGVudGl0eSwgaW5pdCwgaW5pdF9iaW5kaW5nX2dyb3VwLCBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYywgaW5zZXJ0LCBpbnNlcnRfZGV2LCBpbnNlcnRfaHlkcmF0aW9uLCBpbnNlcnRfaHlkcmF0aW9uX2RldiwgaW50cm9zLCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciwgaXNfY2xpZW50LCBpc19jcm9zc29yaWdpbiwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBpc19wcm9taXNlLCBpc192b2lkLCBsaXN0ZW4sIGxpc3Rlbl9kZXYsIGxvb3AsIGxvb3BfZ3VhcmQsIG1lcmdlX3Nzcl9zdHlsZXMsIG1pc3NpbmdfY29tcG9uZW50LCBtb3VudF9jb21wb25lbnQsIG5vb3AsIG5vdF9lcXVhbCwgbm93LCBudWxsX3RvX2VtcHR5LCBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzLCBvbkRlc3Ryb3ksIG9uTW91bnQsIG9uY2UsIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBwcmV2ZW50X2RlZmF1bHQsIHByb3BfZGV2LCBxdWVyeV9zZWxlY3Rvcl9hbGwsIHJhZiwgcmVzaXplX29ic2VydmVyX2JvcmRlcl9ib3gsIHJlc2l6ZV9vYnNlcnZlcl9jb250ZW50X2JveCwgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCwgcnVuLCBydW5fYWxsLCBzYWZlX25vdF9lcXVhbCwgc2NoZWR1bGVfdXBkYXRlLCBzZWxlY3RfbXVsdGlwbGVfdmFsdWUsIHNlbGVjdF9vcHRpb24sIHNlbGVjdF9vcHRpb25zLCBzZWxlY3RfdmFsdWUsIHNlbGYsIHNldENvbnRleHQsIHNldF9hdHRyaWJ1dGVzLCBzZXRfY3VycmVudF9jb21wb25lbnQsIHNldF9jdXN0b21fZWxlbWVudF9kYXRhLCBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAsIHNldF9kYXRhLCBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUsIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZV9kZXYsIHNldF9kYXRhX2Rldiwgc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlLCBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGVfZGV2LCBzZXRfZHluYW1pY19lbGVtZW50X2RhdGEsIHNldF9pbnB1dF90eXBlLCBzZXRfaW5wdXRfdmFsdWUsIHNldF9ub3csIHNldF9yYWYsIHNldF9zdG9yZV92YWx1ZSwgc2V0X3N0eWxlLCBzZXRfc3ZnX2F0dHJpYnV0ZXMsIHNwYWNlLCBzcGxpdF9jc3NfdW5pdCwgc3ByZWFkLCBzcmNfdXJsX2VxdWFsLCBzdGFydF9oeWRyYXRpbmcsIHN0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uLCBzdG9wX3Byb3BhZ2F0aW9uLCBzdWJzY3JpYmUsIHN2Z19lbGVtZW50LCB0ZXh0LCB0aWNrLCB0aW1lX3Jhbmdlc190b19hcnJheSwgdG9fbnVtYmVyLCB0b2dnbGVfY2xhc3MsIHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0LCB0cnVzdGVkLCB1cGRhdGVfYXdhaXRfYmxvY2tfYnJhbmNoLCB1cGRhdGVfa2V5ZWRfZWFjaCwgdXBkYXRlX3Nsb3QsIHVwZGF0ZV9zbG90X2Jhc2UsIHZhbGlkYXRlX2NvbXBvbmVudCwgdmFsaWRhdGVfZHluYW1pY19lbGVtZW50LCB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50LCB2YWxpZGF0ZV9lYWNoX2tleXMsIHZhbGlkYXRlX3Nsb3RzLCB2YWxpZGF0ZV9zdG9yZSwgdmFsaWRhdGVfdm9pZF9keW5hbWljX2VsZW1lbnQsIHhsaW5rX2F0dHIgfTtcbiIsImltcG9ydCB7IG5vb3AsIHNhZmVfbm90X2VxdWFsLCBzdWJzY3JpYmUsIHJ1bl9hbGwsIGlzX2Z1bmN0aW9uIH0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXgubWpzJztcbmV4cG9ydCB7IGdldF9zdG9yZV92YWx1ZSBhcyBnZXQgfSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5tanMnO1xuXG5jb25zdCBzdWJzY3JpYmVyX3F1ZXVlID0gW107XG4vKipcbiAqIENyZWF0ZXMgYSBgUmVhZGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICogQHBhcmFtIHZhbHVlIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXJ9IFtzdGFydF1cbiAqL1xuZnVuY3Rpb24gcmVhZGFibGUodmFsdWUsIHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3Vic2NyaWJlOiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQpLnN1YnNjcmliZVxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIGBXcml0YWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgYm90aCB1cGRhdGluZyBhbmQgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKiBAcGFyYW0geyo9fXZhbHVlIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXI9fSBzdGFydFxuICovXG5mdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG4gICAgbGV0IHN0b3A7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuICAgICAgICBpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3X3ZhbHVlO1xuICAgICAgICAgICAgaWYgKHN0b3ApIHsgLy8gc3RvcmUgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICBjb25zdCBydW5fcXVldWUgPSAhc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJbMV0oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bl9xdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJfcXVldWUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWVbaV1bMF0oc3Vic2NyaWJlcl9xdWV1ZVtpICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG4gICAgICAgIHNldChmbih2YWx1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gbm9vcCkge1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVyID0gW3J1biwgaW52YWxpZGF0ZV07XG4gICAgICAgIHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHN0b3AgPSBzdGFydChzZXQpIHx8IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgcnVuKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwICYmIHN0b3ApIHtcbiAgICAgICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICAgICAgc3RvcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IHNldCwgdXBkYXRlLCBzdWJzY3JpYmUgfTtcbn1cbmZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuICAgIGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG4gICAgY29uc3Qgc3RvcmVzX2FycmF5ID0gc2luZ2xlXG4gICAgICAgID8gW3N0b3Jlc11cbiAgICAgICAgOiBzdG9yZXM7XG4gICAgY29uc3QgYXV0byA9IGZuLmxlbmd0aCA8IDI7XG4gICAgcmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQpID0+IHtcbiAgICAgICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGxldCBwZW5kaW5nID0gMDtcbiAgICAgICAgbGV0IGNsZWFudXAgPSBub29wO1xuICAgICAgICBjb25zdCBzeW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmbihzaW5nbGUgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsIHNldCk7XG4gICAgICAgICAgICBpZiAoYXV0bykge1xuICAgICAgICAgICAgICAgIHNldChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCA9IGlzX2Z1bmN0aW9uKHJlc3VsdCkgPyByZXN1bHQgOiBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZXJzID0gc3RvcmVzX2FycmF5Lm1hcCgoc3RvcmUsIGkpID0+IHN1YnNjcmliZShzdG9yZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICBzeW5jKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHBlbmRpbmcgfD0gKDEgPDwgaSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHN5bmMoKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgICAgICBydW5fYWxsKHVuc3Vic2NyaWJlcnMpO1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBzZXQgdGhpcyB0byBmYWxzZSBiZWNhdXNlIGNhbGxiYWNrcyBjYW4gc3RpbGwgaGFwcGVuIGRlc3BpdGUgaGF2aW5nIHVuc3Vic2NyaWJlZDpcbiAgICAgICAgICAgIC8vIENhbGxiYWNrcyBtaWdodCBhbHJlYWR5IGJlIHBsYWNlZCBpbiB0aGUgcXVldWUgd2hpY2ggZG9lc24ndCBrbm93IGl0IHNob3VsZCBubyBsb25nZXJcbiAgICAgICAgICAgIC8vIGludm9rZSB0aGlzIGRlcml2ZWQgc3RvcmUuXG4gICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG4vKipcbiAqIFRha2VzIGEgc3RvcmUgYW5kIHJldHVybnMgYSBuZXcgb25lIGRlcml2ZWQgZnJvbSB0aGUgb2xkIG9uZSB0aGF0IGlzIHJlYWRhYmxlLlxuICpcbiAqIEBwYXJhbSBzdG9yZSAtIHN0b3JlIHRvIG1ha2UgcmVhZG9ubHlcbiAqL1xuZnVuY3Rpb24gcmVhZG9ubHkoc3RvcmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJzY3JpYmU6IHN0b3JlLnN1YnNjcmliZS5iaW5kKHN0b3JlKVxuICAgIH07XG59XG5cbmV4cG9ydCB7IGRlcml2ZWQsIHJlYWRhYmxlLCByZWFkb25seSwgd3JpdGFibGUgfTtcbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZShzdHIsIGxvb3NlKSB7XG5cdGlmIChzdHIgaW5zdGFuY2VvZiBSZWdFeHApIHJldHVybiB7IGtleXM6ZmFsc2UsIHBhdHRlcm46c3RyIH07XG5cdHZhciBjLCBvLCB0bXAsIGV4dCwga2V5cz1bXSwgcGF0dGVybj0nJywgYXJyID0gc3RyLnNwbGl0KCcvJyk7XG5cdGFyclswXSB8fCBhcnIuc2hpZnQoKTtcblxuXHR3aGlsZSAodG1wID0gYXJyLnNoaWZ0KCkpIHtcblx0XHRjID0gdG1wWzBdO1xuXHRcdGlmIChjID09PSAnKicpIHtcblx0XHRcdGtleXMucHVzaCgnd2lsZCcpO1xuXHRcdFx0cGF0dGVybiArPSAnLyguKiknO1xuXHRcdH0gZWxzZSBpZiAoYyA9PT0gJzonKSB7XG5cdFx0XHRvID0gdG1wLmluZGV4T2YoJz8nLCAxKTtcblx0XHRcdGV4dCA9IHRtcC5pbmRleE9mKCcuJywgMSk7XG5cdFx0XHRrZXlzLnB1c2goIHRtcC5zdWJzdHJpbmcoMSwgISF+byA/IG8gOiAhIX5leHQgPyBleHQgOiB0bXAubGVuZ3RoKSApO1xuXHRcdFx0cGF0dGVybiArPSAhIX5vICYmICF+ZXh0ID8gJyg/Oi8oW14vXSs/KSk/JyA6ICcvKFteL10rPyknO1xuXHRcdFx0aWYgKCEhfmV4dCkgcGF0dGVybiArPSAoISF+byA/ICc/JyA6ICcnKSArICdcXFxcJyArIHRtcC5zdWJzdHJpbmcoZXh0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGF0dGVybiArPSAnLycgKyB0bXA7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRrZXlzOiBrZXlzLFxuXHRcdHBhdHRlcm46IG5ldyBSZWdFeHAoJ14nICsgcGF0dGVybiArIChsb29zZSA/ICcoPz0kfFxcLyknIDogJ1xcLz8kJyksICdpJylcblx0fTtcbn1cblxudmFyIFJHWCA9IC8oXFwvfF4pKFs6Kl1bXi9dKj8pKFxcPyk/KD89Wy8uXXwkKS9nO1xuXG4vLyBlcnJvciBpZiBrZXkgbWlzc2luZz9cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3Qocm91dGUsIHZhbHVlcykge1xuXHRyZXR1cm4gcm91dGUucmVwbGFjZShSR1gsICh4LCBsZWFkLCBrZXksIG9wdGlvbmFsKSA9PiB7XG5cdFx0eCA9IHZhbHVlc1trZXk9PScqJyA/ICd3aWxkJyA6IGtleS5zdWJzdHJpbmcoMSldO1xuXHRcdHJldHVybiB4ID8gJy8nK3ggOiAob3B0aW9uYWwgfHwga2V5PT0nKicpID8gJycgOiAnLycgKyBrZXk7XG5cdH0pO1xufVxuIiwiPHNjcmlwdCBjb250ZXh0PVwibW9kdWxlXCI+XG5pbXBvcnQge3JlYWRhYmxlLCB3cml0YWJsZSwgZGVyaXZlZH0gZnJvbSAnc3ZlbHRlL3N0b3JlJ1xuaW1wb3J0IHt0aWNrfSBmcm9tICdzdmVsdGUnXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTG9jYXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsb2NhdGlvbiAtIExvY2F0aW9uIChwYWdlL3ZpZXcpLCBmb3IgZXhhbXBsZSBgL2Jvb2tgXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3F1ZXJ5c3RyaW5nXSAtIFF1ZXJ5c3RyaW5nIGZyb20gdGhlIGhhc2gsIGFzIGEgc3RyaW5nIG5vdCBwYXJzZWRcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGxvY2F0aW9uIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHJldHVybnMge0xvY2F0aW9ufSBMb2NhdGlvbiBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgIGNvbnN0IGhhc2hQb3NpdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMvJylcbiAgICBsZXQgbG9jYXRpb24gPSAoaGFzaFBvc2l0aW9uID4gLTEpID8gd2luZG93LmxvY2F0aW9uLmhyZWYuc3Vic3RyKGhhc2hQb3NpdGlvbiArIDEpIDogJy8nXG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgcXVlcnlzdHJpbmdcbiAgICBjb25zdCBxc1Bvc2l0aW9uID0gbG9jYXRpb24uaW5kZXhPZignPycpXG4gICAgbGV0IHF1ZXJ5c3RyaW5nID0gJydcbiAgICBpZiAocXNQb3NpdGlvbiA+IC0xKSB7XG4gICAgICAgIHF1ZXJ5c3RyaW5nID0gbG9jYXRpb24uc3Vic3RyKHFzUG9zaXRpb24gKyAxKVxuICAgICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uLnN1YnN0cigwLCBxc1Bvc2l0aW9uKVxuICAgIH1cblxuICAgIHJldHVybiB7bG9jYXRpb24sIHF1ZXJ5c3RyaW5nfVxufVxuXG4vKipcbiAqIFJlYWRhYmxlIHN0b3JlIHRoYXQgcmV0dXJucyB0aGUgY3VycmVudCBmdWxsIGxvY2F0aW9uIChpbmNsLiBxdWVyeXN0cmluZylcbiAqL1xuZXhwb3J0IGNvbnN0IGxvYyA9IHJlYWRhYmxlKFxuICAgIG51bGwsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1hcnJvdy1jYWxsYmFja1xuICAgIGZ1bmN0aW9uIHN0YXJ0KHNldCkge1xuICAgICAgICBzZXQoZ2V0TG9jYXRpb24oKSlcblxuICAgICAgICBjb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXQoZ2V0TG9jYXRpb24oKSlcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHVwZGF0ZSwgZmFsc2UpXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHVwZGF0ZSwgZmFsc2UpXG4gICAgICAgIH1cbiAgICB9XG4pXG5cbi8qKlxuICogUmVhZGFibGUgc3RvcmUgdGhhdCByZXR1cm5zIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBsb2NhdGlvbiA9IGRlcml2ZWQoXG4gICAgbG9jLFxuICAgIChfbG9jKSA9PiBfbG9jLmxvY2F0aW9uXG4pXG5cbi8qKlxuICogUmVhZGFibGUgc3RvcmUgdGhhdCByZXR1cm5zIHRoZSBjdXJyZW50IHF1ZXJ5c3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBxdWVyeXN0cmluZyA9IGRlcml2ZWQoXG4gICAgbG9jLFxuICAgIChfbG9jKSA9PiBfbG9jLnF1ZXJ5c3RyaW5nXG4pXG5cbi8qKlxuICogU3RvcmUgdGhhdCByZXR1cm5zIHRoZSBjdXJyZW50bHktbWF0Y2hlZCBwYXJhbXMuXG4gKiBEZXNwaXRlIHRoaXMgYmVpbmcgd3JpdGFibGUsIGNvbnN1bWVycyBzaG91bGQgbm90IGNoYW5nZSB0aGUgdmFsdWUgb2YgdGhlIHN0b3JlLlxuICogSXQgaXMgZXhwb3J0ZWQgYXMgYSByZWFkYWJsZSBzdG9yZSBvbmx5IChpbiB0aGUgdHlwaW5ncyBmaWxlKVxuICovXG5leHBvcnQgY29uc3QgcGFyYW1zID0gd3JpdGFibGUodW5kZWZpbmVkKVxuXG4vKipcbiAqIE5hdmlnYXRlcyB0byBhIG5ldyBwYWdlIHByb2dyYW1tYXRpY2FsbHkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIC0gUGF0aCB0byBuYXZpZ2F0ZSB0byAobXVzdCBzdGFydCB3aXRoIGAvYCBvciAnIy8nKVxuICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBwYWdlIG5hdmlnYXRpb24gaGFzIGNvbXBsZXRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuICAgIGlmICghbG9jYXRpb24gfHwgbG9jYXRpb24ubGVuZ3RoIDwgMSB8fCAobG9jYXRpb24uY2hhckF0KDApICE9ICcvJyAmJiBsb2NhdGlvbi5pbmRleE9mKCcjLycpICE9PSAwKSkge1xuICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBwYXJhbWV0ZXIgbG9jYXRpb24nKVxuICAgIH1cblxuICAgIC8vIEV4ZWN1dGUgdGhpcyBjb2RlIHdoZW4gdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBpcyBjb21wbGV0ZVxuICAgIGF3YWl0IHRpY2soKVxuXG4gICAgLy8gTm90ZTogdGhpcyB3aWxsIGluY2x1ZGUgc2Nyb2xsIHN0YXRlIGluIGhpc3RvcnkgZXZlbiB3aGVuIHJlc3RvcmVTY3JvbGxTdGF0ZSBpcyBmYWxzZVxuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHsuLi5oaXN0b3J5LnN0YXRlLCBfX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFg6IHdpbmRvdy5zY3JvbGxYLCBfX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFk6IHdpbmRvdy5zY3JvbGxZfSwgdW5kZWZpbmVkKSAgICAgIFxuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gKGxvY2F0aW9uLmNoYXJBdCgwKSA9PSAnIycgPyAnJyA6ICcjJykgKyBsb2NhdGlvblxufVxuXG4vKipcbiAqIE5hdmlnYXRlcyBiYWNrIGluIGhpc3RvcnkgKGVxdWl2YWxlbnQgdG8gcHJlc3NpbmcgdGhlIGJyb3dzZXIncyBiYWNrIGJ1dHRvbikuXG4gKiBcbiAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgcGFnZSBuYXZpZ2F0aW9uIGhhcyBjb21wbGV0ZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBvcCgpIHtcbiAgICAvLyBFeGVjdXRlIHRoaXMgY29kZSB3aGVuIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaXMgY29tcGxldGVcbiAgICBhd2FpdCB0aWNrKClcblxuICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKVxufVxuXG4vKipcbiAqIFJlcGxhY2VzIHRoZSBjdXJyZW50IHBhZ2UgYnV0IHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBoaXN0b3J5IHN0YWNrLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiAtIFBhdGggdG8gbmF2aWdhdGUgdG8gKG11c3Qgc3RhcnQgd2l0aCBgL2Agb3IgJyMvJylcbiAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgcGFnZSBuYXZpZ2F0aW9uIGhhcyBjb21wbGV0ZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcbiAgICBpZiAoIWxvY2F0aW9uIHx8IGxvY2F0aW9uLmxlbmd0aCA8IDEgfHwgKGxvY2F0aW9uLmNoYXJBdCgwKSAhPSAnLycgJiYgbG9jYXRpb24uaW5kZXhPZignIy8nKSAhPT0gMCkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgcGFyYW1ldGVyIGxvY2F0aW9uJylcbiAgICB9XG5cbiAgICAvLyBFeGVjdXRlIHRoaXMgY29kZSB3aGVuIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaXMgY29tcGxldGVcbiAgICBhd2FpdCB0aWNrKClcblxuICAgIGNvbnN0IGRlc3QgPSAobG9jYXRpb24uY2hhckF0KDApID09ICcjJyA/ICcnIDogJyMnKSArIGxvY2F0aW9uXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAuLi5oaXN0b3J5LnN0YXRlXG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIG5ld1N0YXRlWydfX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFgnXVxuICAgICAgICBkZWxldGUgbmV3U3RhdGVbJ19fc3ZlbHRlX3NwYV9yb3V0ZXJfc2Nyb2xsWSddXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShuZXdTdGF0ZSwgdW5kZWZpbmVkLCBkZXN0KVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oJ0NhdWdodCBleGNlcHRpb24gd2hpbGUgcmVwbGFjaW5nIHRoZSBjdXJyZW50IHBhZ2UuIElmIHlvdVxcJ3JlIHJ1bm5pbmcgdGhpcyBpbiB0aGUgU3ZlbHRlIFJFUEwsIHBsZWFzZSBub3RlIHRoYXQgdGhlIGByZXBsYWNlYCBtZXRob2QgbWlnaHQgbm90IHdvcmsgaW4gdGhpcyBlbnZpcm9ubWVudC4nKVxuICAgIH1cblxuICAgIC8vIFRoZSBtZXRob2QgYWJvdmUgZG9lc24ndCB0cmlnZ2VyIHRoZSBoYXNoY2hhbmdlIGV2ZW50LCBzbyBsZXQncyBkbyB0aGF0IG1hbnVhbGx5XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdoYXNoY2hhbmdlJykpXG59XG5cbi8qKlxuICogRGljdGlvbmFyeSB3aXRoIG9wdGlvbnMgZm9yIHRoZSBsaW5rIGFjdGlvbi5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpbmtBY3Rpb25PcHRzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaHJlZiAtIEEgc3RyaW5nIHRvIHVzZSBpbiBwbGFjZSBvZiB0aGUgbGluaydzIGhyZWYgYXR0cmlidXRlLiBVc2luZyB0aGlzIGFsbG93cyBmb3IgdXBkYXRpbmcgbGluaydzIHRhcmdldHMgcmVhY3RpdmVseS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZGlzYWJsZWQgLSBJZiB0cnVlLCBsaW5rIGlzIGRpc2FibGVkXG4gKi9cblxuLyoqXG4gKiBTdmVsdGUgQWN0aW9uIHRoYXQgZW5hYmxlcyBhIGxpbmsgZWxlbWVudCAoYDxhPmApIHRvIHVzZSBvdXIgaGlzdG9yeSBtYW5hZ2VtZW50LlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGBodG1sXG4gKiA8YSBocmVmPVwiL2Jvb2tzXCIgdXNlOmxpbms+VmlldyBib29rczwvYT5cbiAqIGBgYGBcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlIC0gVGhlIHRhcmdldCBub2RlIChhdXRvbWF0aWNhbGx5IHNldCBieSBTdmVsdGUpLiBNdXN0IGJlIGFuIGFuY2hvciB0YWcgKGA8YT5gKSB3aXRoIGEgaHJlZiBhdHRyaWJ1dGUgc3RhcnRpbmcgaW4gYC9gXG4gKiBAcGFyYW0ge3N0cmluZ3xMaW5rQWN0aW9uT3B0c30gb3B0cyAtIE9wdGlvbnMgb2JqZWN0LiBGb3IgbGVnYWN5IHJlYXNvbnMsIHdlIHN1cHBvcnQgYSBzdHJpbmcgdG9vIHdoaWNoIHdpbGwgYmUgdGhlIHZhbHVlIGZvciBvcHRzLmhyZWZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmsobm9kZSwgb3B0cykge1xuICAgIG9wdHMgPSBsaW5rT3B0cyhvcHRzKVxuXG4gICAgLy8gT25seSBhcHBseSB0byA8YT4gdGFnc1xuICAgIGlmICghbm9kZSB8fCAhbm9kZS50YWdOYW1lIHx8IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdhJykge1xuICAgICAgICB0aHJvdyBFcnJvcignQWN0aW9uIFwibGlua1wiIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCA8YT4gdGFncycpXG4gICAgfVxuXG4gICAgdXBkYXRlTGluayhub2RlLCBvcHRzKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgIHVwZGF0ZWQgPSBsaW5rT3B0cyh1cGRhdGVkKVxuICAgICAgICAgICAgdXBkYXRlTGluayhub2RlLCB1cGRhdGVkKVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRyaWVzIHRvIHJlc3RvcmUgdGhlIHNjcm9sbCBzdGF0ZSBmcm9tIHRoZSBnaXZlbiBoaXN0b3J5IHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7e19fc3ZlbHRlX3NwYV9yb3V0ZXJfc2Nyb2xsWDogbnVtYmVyLCBfX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFk6IG51bWJlcn19IFtzdGF0ZV0gLSBUaGUgaGlzdG9yeSBzdGF0ZSB0byByZXN0b3JlIGZyb20uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXN0b3JlU2Nyb2xsKHN0YXRlKSB7XG4gICAgLy8gSWYgdGhpcyBleGlzdHMsIHRoZW4gdGhpcyBpcyBhIGJhY2sgbmF2aWdhdGlvbjogcmVzdG9yZSB0aGUgc2Nyb2xsIHBvc2l0aW9uXG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzdGF0ZS5fX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFgsIHN0YXRlLl9fc3ZlbHRlX3NwYV9yb3V0ZXJfc2Nyb2xsWSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSB0aGlzIGlzIGEgZm9yd2FyZCBuYXZpZ2F0aW9uOiBzY3JvbGwgdG8gdG9wXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKVxuICAgIH1cbn1cblxuLy8gSW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBieSB0aGUgbGluayBmdW5jdGlvblxuZnVuY3Rpb24gdXBkYXRlTGluayhub2RlLCBvcHRzKSB7XG4gICAgbGV0IGhyZWYgPSBvcHRzLmhyZWYgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxuXG4gICAgLy8gRGVzdGluYXRpb24gbXVzdCBzdGFydCB3aXRoICcvJyBvciAnIy8nXG4gICAgaWYgKGhyZWYgJiYgaHJlZi5jaGFyQXQoMCkgPT0gJy8nKSB7XG4gICAgICAgIC8vIEFkZCAjIHRvIHRoZSBocmVmIGF0dHJpYnV0ZVxuICAgICAgICBocmVmID0gJyMnICsgaHJlZlxuICAgIH1cbiAgICBlbHNlIGlmICghaHJlZiB8fCBocmVmLmxlbmd0aCA8IDIgfHwgaHJlZi5zbGljZSgwLCAyKSAhPSAnIy8nKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBcImhyZWZcIiBhdHRyaWJ1dGU6ICcgKyBocmVmKVxuICAgIH1cblxuICAgIG5vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZilcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBhbmNob3Igb25jbGljayBiZWhhdmlvdXJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBpZiAoIW9wdHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHNjcm9sbHN0YXRlSGlzdG9yeUhhbmRsZXIoZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSlcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbi8vIEludGVybmFsIGZ1bmN0aW9uIHRoYXQgZW5zdXJlcyB0aGUgYXJndW1lbnQgb2YgdGhlIGxpbmsgYWN0aW9uIGlzIGFsd2F5cyBhbiBvYmplY3RcbmZ1bmN0aW9uIGxpbmtPcHRzKHZhbCkge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaHJlZjogdmFsXG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWwgfHwge31cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIGhhbmRsZXIgYXR0YWNoZWQgdG8gYW4gYW5jaG9yIHRhZyByZXNwb25zaWJsZSBmb3IgdXBkYXRpbmcgdGhlXG4gKiBjdXJyZW50IGhpc3Rvcnkgc3RhdGUgd2l0aCB0aGUgY3VycmVudCBzY3JvbGwgc3RhdGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHJlZiAtIERlc3RpbmF0aW9uXG4gKi9cbmZ1bmN0aW9uIHNjcm9sbHN0YXRlSGlzdG9yeUhhbmRsZXIoaHJlZikge1xuICAgIC8vIFNldHRpbmcgdGhlIHVybCAoM3JkIGFyZykgdG8gaHJlZiB3aWxsIGJyZWFrIGNsaWNraW5nIGZvciByZWFzb25zLCBzbyBkb24ndCB0cnkgdG8gZG8gdGhhdFxuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHsuLi5oaXN0b3J5LnN0YXRlLCBfX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFg6IHdpbmRvdy5zY3JvbGxYLCBfX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFk6IHdpbmRvdy5zY3JvbGxZfSwgdW5kZWZpbmVkKVxuICAgIC8vIFRoaXMgd2lsbCBmb3JjZSBhbiB1cGRhdGUgYXMgZGVzaXJlZCwgYnV0IHRoaXMgdGltZSBvdXIgc2Nyb2xsIHN0YXRlIHdpbGwgYmUgYXR0YWNoZWRcbiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhyZWZcbn1cbjwvc2NyaXB0PlxuXG57I2lmIGNvbXBvbmVudFBhcmFtc31cbiAgICA8c3ZlbHRlOmNvbXBvbmVudFxuICAgIHRoaXM9e2NvbXBvbmVudH1cbiAgICBwYXJhbXM9e2NvbXBvbmVudFBhcmFtc31cbiAgICBvbjpyb3V0ZUV2ZW50XG4gICAgey4uLnByb3BzfVxuICAgIC8+XG57OmVsc2V9XG4gICAgPHN2ZWx0ZTpjb21wb25lbnRcbiAgICB0aGlzPXtjb21wb25lbnR9XG4gICAgb246cm91dGVFdmVudFxuICAgIHsuLi5wcm9wc31cbiAgICAvPlxuey9pZn1cblxuPHNjcmlwdD5cbmltcG9ydCB7b25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIGFmdGVyVXBkYXRlfSBmcm9tICdzdmVsdGUnXG5pbXBvcnQge3BhcnNlfSBmcm9tICdyZWdleHBhcmFtJ1xuXG4vKipcbiAqIERpY3Rpb25hcnkgb2YgYWxsIHJvdXRlcywgaW4gdGhlIGZvcm1hdCBgJy9wYXRoJzogY29tcG9uZW50YC5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqIGBgYGBqc1xuICogaW1wb3J0IEhvbWVSb3V0ZSBmcm9tICcuL3JvdXRlcy9Ib21lUm91dGUuc3ZlbHRlJ1xuICogaW1wb3J0IEJvb2tzUm91dGUgZnJvbSAnLi9yb3V0ZXMvQm9va3NSb3V0ZS5zdmVsdGUnXG4gKiBpbXBvcnQgTm90Rm91bmRSb3V0ZSBmcm9tICcuL3JvdXRlcy9Ob3RGb3VuZFJvdXRlLnN2ZWx0ZSdcbiAqIHJvdXRlcyA9IHtcbiAqICAgICAnLyc6IEhvbWVSb3V0ZSxcbiAqICAgICAnL2Jvb2tzJzogQm9va3NSb3V0ZSxcbiAqICAgICAnKic6IE5vdEZvdW5kUm91dGVcbiAqIH1cbiAqIGBgYGBcbiAqL1xuZXhwb3J0IGxldCByb3V0ZXMgPSB7fVxuXG4vKipcbiAqIE9wdGlvbmFsIHByZWZpeCBmb3IgdGhlIHJvdXRlcyBpbiB0aGlzIHJvdXRlci4gVGhpcyBpcyB1c2VmdWwgZm9yIGV4YW1wbGUgaW4gdGhlIGNhc2Ugb2YgbmVzdGVkIHJvdXRlcnMuXG4gKi9cbmV4cG9ydCBsZXQgcHJlZml4ID0gJydcblxuLyoqXG4gKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHJvdXRlciB3aWxsIHJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9ucyBvbiBiYWNrIG5hdmlnYXRpb25cbiAqIGFuZCBzY3JvbGwgdG8gdG9wIG9uIGZvcndhcmQgbmF2aWdhdGlvbi5cbiAqL1xuZXhwb3J0IGxldCByZXN0b3JlU2Nyb2xsU3RhdGUgPSBmYWxzZVxuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgYSByb3V0ZTogcGF0aCwgY29tcG9uZW50XG4gKi9cbmNsYXNzIFJvdXRlSXRlbSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIG9iamVjdCBhbmQgY3JlYXRlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBmcm9tIHRoZSBwYXRoLCB1c2luZyByZWdleHBhcmFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIHRoZSByb3V0ZSAobXVzdCBzdGFydCB3aXRoICcvJyBvciAnKicpXG4gICAgICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR8V3JhcHBlZENvbXBvbmVudH0gY29tcG9uZW50IC0gU3ZlbHRlIGNvbXBvbmVudCBmb3IgdGhlIHJvdXRlLCBvcHRpb25hbGx5IHdyYXBwZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCFjb21wb25lbnQgfHwgKHR5cGVvZiBjb21wb25lbnQgIT0gJ2Z1bmN0aW9uJyAmJiAodHlwZW9mIGNvbXBvbmVudCAhPSAnb2JqZWN0JyB8fCBjb21wb25lbnQuX3N2ZWx0ZXNwYXJvdXRlciAhPT0gdHJ1ZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBjb21wb25lbnQgb2JqZWN0JylcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhdGggbXVzdCBiZSBhIHJlZ3VsYXIgb3IgZXhwcmVzc2lvbiwgb3IgYSBzdHJpbmcgc3RhcnRpbmcgd2l0aCAnLycgb3IgJyonXG4gICAgICAgIGlmICghcGF0aCB8fCBcbiAgICAgICAgICAgICh0eXBlb2YgcGF0aCA9PSAnc3RyaW5nJyAmJiAocGF0aC5sZW5ndGggPCAxIHx8IChwYXRoLmNoYXJBdCgwKSAhPSAnLycgJiYgcGF0aC5jaGFyQXQoMCkgIT0gJyonKSkpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHBhdGggPT0gJ29iamVjdCcgJiYgIShwYXRoIGluc3RhbmNlb2YgUmVnRXhwKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgXCJwYXRoXCIgYXJndW1lbnQgLSBzdHJpbmdzIG11c3Qgc3RhcnQgd2l0aCAvIG9yIConKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge3BhdHRlcm4sIGtleXN9ID0gcGFyc2UocGF0aClcblxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoXG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbXBvbmVudCBpcyB3cmFwcGVkIGFuZCB3ZSBoYXZlIGNvbmRpdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT0gJ29iamVjdCcgJiYgY29tcG9uZW50Ll9zdmVsdGVzcGFyb3V0ZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50LmNvbXBvbmVudFxuICAgICAgICAgICAgdGhpcy5jb25kaXRpb25zID0gY29tcG9uZW50LmNvbmRpdGlvbnMgfHwgW11cbiAgICAgICAgICAgIHRoaXMudXNlckRhdGEgPSBjb21wb25lbnQudXNlckRhdGFcbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSBjb21wb25lbnQucHJvcHMgfHwge31cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIGNvbXBvbmVudCB0byBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFByb21pc2UsIHRvIG5vcm1hbGl6ZSBpdFxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoY29tcG9uZW50KVxuICAgICAgICAgICAgdGhpcy5jb25kaXRpb25zID0gW11cbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGF0dGVybiA9IHBhdHRlcm5cbiAgICAgICAgdGhpcy5fa2V5cyA9IGtleXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIG1hdGNoZXMgdGhlIGN1cnJlbnQgcm91dGUuXG4gICAgICogSWYgdGhlcmUncyBhIG1hdGNoLCB3aWxsIHJldHVybiB0aGUgbGlzdCBvZiBwYXJhbWV0ZXJzIGZyb20gdGhlIFVSTCAoaWYgYW55KS5cbiAgICAgKiBJbiBjYXNlIG9mIG5vIG1hdGNoLCB0aGUgbWV0aG9kIHdpbGwgcmV0dXJuIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byB0ZXN0XG4gICAgICogQHJldHVybnMge251bGx8T2JqZWN0LjxzdHJpbmcsIHN0cmluZz59IExpc3Qgb2YgcGFyYW10ZXJzIGZyb20gdGhlIFVSTCBpZiB0aGVyZSdzIGEgbWF0Y2gsIG9yIGBudWxsYCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgbWF0Y2gocGF0aCkge1xuICAgICAgICAvLyBJZiB0aGVyZSdzIGEgcHJlZml4LCBjaGVjayBpZiBpdCBtYXRjaGVzIHRoZSBzdGFydCBvZiB0aGUgcGF0aC5cbiAgICAgICAgLy8gSWYgbm90LCBiYWlsIGVhcmx5LCBlbHNlIHJlbW92ZSBpdCBiZWZvcmUgd2UgcnVuIHRoZSBtYXRjaGluZy5cbiAgICAgICAgaWYgKHByZWZpeCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmVmaXggPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKHByZWZpeC5sZW5ndGgpIHx8ICcvJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcmVmaXggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHBhdGgubWF0Y2gocHJlZml4KVxuICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFswXSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIobWF0Y2hbMF0ubGVuZ3RoKSB8fCAnLydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhdHRlcm4gbWF0Y2hlc1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5fcGF0dGVybi5leGVjKHBhdGgpXG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIGlucHV0IHdhcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiwgdGhpcy5fa2V5cyB3b3VsZCBiZSBmYWxzZSwgc28gcmV0dXJuIG1hdGNoZXMgYXMgaXNcbiAgICAgICAgaWYgKHRoaXMuX2tleXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3V0ID0ge31cbiAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5fa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIEluIHRoZSBtYXRjaCBwYXJhbWV0ZXJzLCBVUkwtZGVjb2RlIGFsbCB2YWx1ZXNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb3V0W3RoaXMuX2tleXNbaV1dID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoZXNbaSArIDFdIHx8ICcnKSB8fCBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG91dFt0aGlzLl9rZXlzW2ldXSA9IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrK1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaWN0aW9uYXJ5IHdpdGggcm91dGUgZGV0YWlscyBwYXNzZWQgdG8gdGhlIHByZS1jb25kaXRpb25zIGZ1bmN0aW9ucywgYXMgd2VsbCBhcyB0aGUgYHJvdXRlTG9hZGluZ2AsIGByb3V0ZUxvYWRlZGAgYW5kIGBjb25kaXRpb25zRmFpbGVkYCBldmVudHNcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBSb3V0ZURldGFpbFxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfFJlZ0V4cH0gcm91dGUgLSBSb3V0ZSBtYXRjaGVkIGFzIGRlZmluZWQgaW4gdGhlIHJvdXRlIGRlZmluaXRpb24gKGNvdWxkIGJlIGEgc3RyaW5nIG9yIGEgcmVndWFyIGV4cHJlc3Npb24gb2JqZWN0KVxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsb2NhdGlvbiAtIExvY2F0aW9uIHBhdGhcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gcXVlcnlzdHJpbmcgLSBRdWVyeXN0cmluZyBmcm9tIHRoZSBoYXNoXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IFt1c2VyRGF0YV0gLSBDdXN0b20gZGF0YSBwYXNzZWQgYnkgdGhlIHVzZXJcbiAgICAgKiBAcHJvcGVydHkge1N2ZWx0ZUNvbXBvbmVudH0gW2NvbXBvbmVudF0gLSBTdmVsdGUgY29tcG9uZW50IChvbmx5IGluIGByb3V0ZUxvYWRlZGAgZXZlbnRzKVxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBOYW1lIG9mIHRoZSBTdmVsdGUgY29tcG9uZW50IChvbmx5IGluIGByb3V0ZUxvYWRlZGAgZXZlbnRzKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgYWxsIGNvbmRpdGlvbnMgKGlmIGFueSkgdG8gY29udHJvbCB3aGV0aGVyIHRoZSByb3V0ZSBjYW4gYmUgc2hvd24uIENvbmRpdGlvbnMgYXJlIGV4ZWN1dGVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBkZWZpbmVkLCBhbmQgaWYgYSBjb25kaXRpb24gZmFpbHMsIHRoZSBmb2xsb3dpbmcgb25lcyBhcmVuJ3QgZXhlY3V0ZWQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtSb3V0ZURldGFpbH0gZGV0YWlsIC0gUm91dGUgZGV0YWlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBhbGwgdGhlIGNvbmRpdGlvbnMgc3VjY2VlZGVkXG4gICAgICovXG4gICAgYXN5bmMgY2hlY2tDb25kaXRpb25zKGRldGFpbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5jb25kaXRpb25zW2ldKGRldGFpbCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbn1cblxuLy8gU2V0IHVwIGFsbCByb3V0ZXNcbmNvbnN0IHJvdXRlc0xpc3QgPSBbXVxuaWYgKHJvdXRlcyBpbnN0YW5jZW9mIE1hcCkge1xuICAgIC8vIElmIGl0J3MgYSBtYXAsIGl0ZXJhdGUgb24gaXQgcmlnaHQgYXdheVxuICAgIHJvdXRlcy5mb3JFYWNoKChyb3V0ZSwgcGF0aCkgPT4ge1xuICAgICAgICByb3V0ZXNMaXN0LnB1c2gobmV3IFJvdXRlSXRlbShwYXRoLCByb3V0ZSkpXG4gICAgfSlcbn1cbmVsc2Uge1xuICAgIC8vIFdlIGhhdmUgYW4gb2JqZWN0LCBzbyBpdGVyYXRlIG9uIGl0cyBvd24gcHJvcGVydGllc1xuICAgIE9iamVjdC5rZXlzKHJvdXRlcykuZm9yRWFjaCgocGF0aCkgPT4ge1xuICAgICAgICByb3V0ZXNMaXN0LnB1c2gobmV3IFJvdXRlSXRlbShwYXRoLCByb3V0ZXNbcGF0aF0pKVxuICAgIH0pXG59XG5cbi8vIFByb3BzIGZvciB0aGUgY29tcG9uZW50IHRvIHJlbmRlclxubGV0IGNvbXBvbmVudCA9IG51bGxcbmxldCBjb21wb25lbnRQYXJhbXMgPSBudWxsXG5sZXQgcHJvcHMgPSB7fVxuXG4vLyBFdmVudCBkaXNwYXRjaGVyIGZyb20gU3ZlbHRlXG5jb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpXG5cbi8vIEp1c3QgbGlrZSBkaXNwYXRjaCwgYnV0IGV4ZWN1dGVzIG9uIHRoZSBuZXh0IGl0ZXJhdGlvbiBvZiB0aGUgZXZlbnQgbG9vcFxuYXN5bmMgZnVuY3Rpb24gZGlzcGF0Y2hOZXh0VGljayhuYW1lLCBkZXRhaWwpIHtcbiAgICAvLyBFeGVjdXRlIHRoaXMgY29kZSB3aGVuIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaXMgY29tcGxldGVcbiAgICBhd2FpdCB0aWNrKClcbiAgICBkaXNwYXRjaChuYW1lLCBkZXRhaWwpXG59XG5cbi8vIElmIHRoaXMgaXMgc2V0LCB0aGVuIHRoYXQgbWVhbnMgd2UgaGF2ZSBwb3BwZWQgaW50byB0aGlzIHZhciB0aGUgc3RhdGUgb2Ygb3VyIGxhc3Qgc2Nyb2xsIHBvc2l0aW9uXG5sZXQgcHJldmlvdXNTY3JvbGxTdGF0ZSA9IG51bGxcblxuLy8gVXBkYXRlIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gZGVwZW5kaW5nIG9uIHJlc3RvcmVTY3JvbGxTdGF0ZVxuJDogaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IHJlc3RvcmVTY3JvbGxTdGF0ZSA/ICdtYW51YWwnIDogJ2F1dG8nXG5sZXQgcG9wU3RhdGVDaGFuZ2VkID0gbnVsbFxuaWYgKHJlc3RvcmVTY3JvbGxTdGF0ZSkge1xuICAgIHBvcFN0YXRlQ2hhbmdlZCA9IChldmVudCkgPT4ge1xuICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBmcm9tIG91ciBoaXN0b3J5LnJlcGxhY2VTdGF0ZSwgZXZlbnQuc3RhdGUgd2lsbCBjb250YWluXG4gICAgICAgIC8vIG91ciBzY3JvbGwgaGlzdG9yeS4gT3RoZXJ3aXNlLCBldmVudC5zdGF0ZSB3aWxsIGJlIG51bGwgKGxpa2Ugb24gZm9yd2FyZFxuICAgICAgICAvLyBuYXZpZ2F0aW9uKVxuICAgICAgICBpZiAoZXZlbnQuc3RhdGUgJiYgKGV2ZW50LnN0YXRlLl9fc3ZlbHRlX3NwYV9yb3V0ZXJfc2Nyb2xsWSB8fCBldmVudC5zdGF0ZS5fX3N2ZWx0ZV9zcGFfcm91dGVyX3Njcm9sbFgpKSB7XG4gICAgICAgICAgICBwcmV2aW91c1Njcm9sbFN0YXRlID0gZXZlbnQuc3RhdGVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2Nyb2xsU3RhdGUgPSBudWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVGhpcyBpcyByZW1vdmVkIGluIHRoZSBkZXN0cm95KCkgaW52b2NhdGlvbiBiZWxvd1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHBvcFN0YXRlQ2hhbmdlZClcblxuICAgIGFmdGVyVXBkYXRlKCgpID0+IHtcbiAgICAgICAgcmVzdG9yZVNjcm9sbChwcmV2aW91c1Njcm9sbFN0YXRlKVxuICAgIH0pXG59XG5cbi8vIEFsd2F5cyBoYXZlIHRoZSBsYXRlc3QgdmFsdWUgb2YgbG9jXG5sZXQgbGFzdExvYyA9IG51bGxcblxuLy8gQ3VycmVudCBvYmplY3Qgb2YgdGhlIGNvbXBvbmVudCBsb2FkZWRcbmxldCBjb21wb25lbnRPYmogPSBudWxsXG5cbi8vIEhhbmRsZSBoYXNoIGNoYW5nZSBldmVudHNcbi8vIExpc3RlbiB0byBjaGFuZ2VzIGluIHRoZSAkbG9jIHN0b3JlIGFuZCB1cGRhdGUgdGhlIHBhZ2Vcbi8vIERvIG5vdCB1c2UgdGhlICQ6IHN5bnRheCBiZWNhdXNlIGl0IGdldHMgdHJpZ2dlcmVkIGJ5IHRvbyBtYW55IHRoaW5nc1xuY29uc3QgdW5zdWJzY3JpYmVMb2MgPSBsb2Muc3Vic2NyaWJlKGFzeW5jIChuZXdMb2MpID0+IHtcbiAgICBsYXN0TG9jID0gbmV3TG9jXG5cbiAgICAvLyBGaW5kIGEgcm91dGUgbWF0Y2hpbmcgdGhlIGxvY2F0aW9uXG4gICAgbGV0IGkgPSAwXG4gICAgd2hpbGUgKGkgPCByb3V0ZXNMaXN0Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHJvdXRlc0xpc3RbaV0ubWF0Y2gobmV3TG9jLmxvY2F0aW9uKVxuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICBpKytcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZXRhaWwgPSB7XG4gICAgICAgICAgICByb3V0ZTogcm91dGVzTGlzdFtpXS5wYXRoLFxuICAgICAgICAgICAgbG9jYXRpb246IG5ld0xvYy5sb2NhdGlvbixcbiAgICAgICAgICAgIHF1ZXJ5c3RyaW5nOiBuZXdMb2MucXVlcnlzdHJpbmcsXG4gICAgICAgICAgICB1c2VyRGF0YTogcm91dGVzTGlzdFtpXS51c2VyRGF0YSxcbiAgICAgICAgICAgIHBhcmFtczogKG1hdGNoICYmIHR5cGVvZiBtYXRjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyhtYXRjaCkubGVuZ3RoKSA/IG1hdGNoIDogbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHJvdXRlIGNhbiBiZSBsb2FkZWQgLSBpZiBhbGwgY29uZGl0aW9ucyBzdWNjZWVkXG4gICAgICAgIGlmICghKGF3YWl0IHJvdXRlc0xpc3RbaV0uY2hlY2tDb25kaXRpb25zKGRldGFpbCkpKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBkaXNwbGF5IGFueXRoaW5nXG4gICAgICAgICAgICBjb21wb25lbnQgPSBudWxsXG4gICAgICAgICAgICBjb21wb25lbnRPYmogPSBudWxsXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIGFuIGV2ZW50IHRvIG5vdGlmeSB0aGUgdXNlciwgdGhlbiBleGl0XG4gICAgICAgICAgICBkaXNwYXRjaE5leHRUaWNrKCdjb25kaXRpb25zRmFpbGVkJywgZGV0YWlsKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmlnZ2VyIGFuIGV2ZW50IHRvIGFsZXJ0IHRoYXQgd2UncmUgbG9hZGluZyB0aGUgcm91dGVcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjbG9uZSB0aGUgb2JqZWN0IG9uIGV2ZXJ5IGV2ZW50IGludm9jYXRpb24gc28gd2UgZG9uJ3QgcmlzayB0aGUgb2JqZWN0IHRvIGJlIG1vZGlmaWVkIGluIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgZGlzcGF0Y2hOZXh0VGljaygncm91dGVMb2FkaW5nJywgT2JqZWN0LmFzc2lnbih7fSwgZGV0YWlsKSlcblxuICAgICAgICAvLyBJZiB0aGVyZSdzIGEgY29tcG9uZW50IHRvIHNob3cgd2hpbGUgd2UncmUgbG9hZGluZyB0aGUgcm91dGUsIGRpc3BsYXkgaXRcbiAgICAgICAgY29uc3Qgb2JqID0gcm91dGVzTGlzdFtpXS5jb21wb25lbnRcbiAgICAgICAgLy8gRG8gbm90IHJlcGxhY2UgdGhlIGNvbXBvbmVudCBpZiB3ZSdyZSBsb2FkaW5nIHRoZSBzYW1lIG9uZSBhcyBiZWZvcmUsIHRvIGF2b2lkIHRoZSByb3V0ZSBiZWluZyB1bm1vdW50ZWQgYW5kIHJlLW1vdW50ZWRcbiAgICAgICAgaWYgKGNvbXBvbmVudE9iaiAhPSBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmoubG9hZGluZykge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IG9iai5sb2FkaW5nXG4gICAgICAgICAgICAgICAgY29tcG9uZW50T2JqID0gb2JqXG4gICAgICAgICAgICAgICAgY29tcG9uZW50UGFyYW1zID0gb2JqLmxvYWRpbmdQYXJhbXNcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHt9XG5cbiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSByb3V0ZUxvYWRlZCBldmVudCBmb3IgdGhlIGxvYWRpbmcgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY29weSBvZiBkZXRhaWwgc28gd2UgZG9uJ3QgbW9kaWZ5IHRoZSBvYmplY3QgZm9yIHRoZSBkeW5hbWljIHJvdXRlIChhbmQgdGhlIGR5bmFtaWMgcm91dGUgZG9lc24ndCBtb2RpZnkgb3VyIG9iamVjdCB0b28pXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hOZXh0VGljaygncm91dGVMb2FkZWQnLCBPYmplY3QuYXNzaWduKHt9LCBkZXRhaWwsIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IGNvbXBvbmVudFBhcmFtc1xuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gbnVsbFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudE9iaiA9IG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW52b2tlIHRoZSBQcm9taXNlXG4gICAgICAgICAgICBjb25zdCBsb2FkZWQgPSBhd2FpdCBvYmooKVxuXG4gICAgICAgICAgICAvLyBOb3cgdGhhdCB3ZSdyZSBoZXJlLCBhZnRlciB0aGUgcHJvbWlzZSByZXNvbHZlZCwgY2hlY2sgaWYgd2Ugc3RpbGwgd2FudCB0aGlzIGNvbXBvbmVudCwgYXMgdGhlIHVzZXIgbWlnaHQgaGF2ZSBuYXZpZ2F0ZWQgdG8gYW5vdGhlciBwYWdlIGluIHRoZSBtZWFud2hpbGVcbiAgICAgICAgICAgIGlmIChuZXdMb2MgIT0gbGFzdExvYykge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSB0aGUgY29tcG9uZW50LCBqdXN0IGV4aXRcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBcImRlZmF1bHRcIiBwcm9wZXJ0eSwgd2hpY2ggaXMgdXNlZCBieSBhc3luYyByb3V0ZXMsIHRoZW4gcGljayB0aGF0XG4gICAgICAgICAgICBjb21wb25lbnQgPSAobG9hZGVkICYmIGxvYWRlZC5kZWZhdWx0KSB8fCBsb2FkZWRcbiAgICAgICAgICAgIGNvbXBvbmVudE9iaiA9IG9ialxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGNvbXBvbmVudFBhcmFtcyBvbmx5IGlmIHdlIGhhdmUgYSBtYXRjaCwgdG8gYXZvaWQgYSB3YXJuaW5nIHNpbWlsYXIgdG8gYDxDb21wb25lbnQ+IHdhcyBjcmVhdGVkIHdpdGggdW5rbm93biBwcm9wICdwYXJhbXMnYFxuICAgICAgICAvLyBPZiBjb3Vyc2UsIHRoaXMgYXNzdW1lcyB0aGF0IGRldmVsb3BlcnMgYWx3YXlzIGFkZCBhIFwicGFyYW1zXCIgcHJvcCB3aGVuIHRoZXkgYXJlIGV4cGVjdGluZyBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChtYXRjaCAmJiB0eXBlb2YgbWF0Y2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMobWF0Y2gpLmxlbmd0aCkge1xuICAgICAgICAgICAgY29tcG9uZW50UGFyYW1zID0gbWF0Y2hcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFBhcmFtcyA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBzdGF0aWMgcHJvcHMsIGlmIGFueVxuICAgICAgICBwcm9wcyA9IHJvdXRlc0xpc3RbaV0ucHJvcHNcblxuICAgICAgICAvLyBEaXNwYXRjaCB0aGUgcm91dGVMb2FkZWQgZXZlbnQgdGhlbiBleGl0XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2xvbmUgdGhlIG9iamVjdCBvbiBldmVyeSBldmVudCBpbnZvY2F0aW9uIHNvIHdlIGRvbid0IHJpc2sgdGhlIG9iamVjdCB0byBiZSBtb2RpZmllZCBpbiB0aGUgbmV4dCB0aWNrXG4gICAgICAgIGRpc3BhdGNoTmV4dFRpY2soJ3JvdXRlTG9hZGVkJywgT2JqZWN0LmFzc2lnbih7fSwgZGV0YWlsLCB7XG4gICAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcbiAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudC5uYW1lLFxuICAgICAgICAgICAgcGFyYW1zOiBjb21wb25lbnRQYXJhbXNcbiAgICAgICAgfSkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcGFyYW1zLnNldChjb21wb25lbnRQYXJhbXMpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIElmIHdlJ3JlIHN0aWxsIGhlcmUsIHRoZXJlIHdhcyBubyBtYXRjaCwgc28gc2hvdyB0aGUgZW1wdHkgY29tcG9uZW50XG4gICAgY29tcG9uZW50ID0gbnVsbFxuICAgIGNvbXBvbmVudE9iaiA9IG51bGxcbiAgICBwYXJhbXMuc2V0KHVuZGVmaW5lZClcbn0pXG5cbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgdW5zdWJzY3JpYmVMb2MoKVxuICAgIHBvcFN0YXRlQ2hhbmdlZCAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBwb3BTdGF0ZUNoYW5nZWQpXG59KVxuPC9zY3JpcHQ+XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XG4gIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgcmV0dXJuIGFyO1xuICB9O1xuICByZXR1cm4gb3duS2V5cyhvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgdmFyIHIsIHMgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKHIuZGlzcG9zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByLmRpc3Bvc2UuY2FsbChyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoci5hc3luYykgcmV0dXJuIHMgfD0gMiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcyB8PSAxO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMgPT09IDEpIHJldHVybiBlbnYuaGFzRXJyb3IgPyBQcm9taXNlLnJlamVjdChlbnYuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgJiYgL15cXC5cXC4/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xuICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fZXNEZWNvcmF0ZSxcbiAgX19ydW5Jbml0aWFsaXplcnMsXG4gIF9fcHJvcEtleSxcbiAgX19zZXRGdW5jdGlvbk5hbWUsXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxuICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBNRENGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1EQ0ZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICBpZiAoYWRhcHRlciA9PT0gdm9pZCAwKSB7IGFkYXB0ZXIgPSB7fTsgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIgPSBhZGFwdGVyO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGFuIG9iamVjdCB3aGljaCBleHBvcnRzIGV2ZXJ5XG4gICAgICAgICAgICAvLyBDU1MgY2xhc3MgdGhlIGZvdW5kYXRpb24gY2xhc3MgbmVlZHMgYXMgYSBwcm9wZXJ0eS4gZS5nLiB7QUNUSVZFOiAnbWRjLWNvbXBvbmVudC0tYWN0aXZlJ31cbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZCB0byByZXR1cm4gYW4gb2JqZWN0IHdoaWNoIGV4cG9ydHMgYWxsXG4gICAgICAgICAgICAvLyBzZW1hbnRpYyBzdHJpbmdzIGFzIGNvbnN0YW50cy4gZS5nLiB7QVJJQV9ST0xFOiAndGFibGlzdCd9XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRm91bmRhdGlvbiwgXCJudW1iZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGFuIG9iamVjdCB3aGljaCBleHBvcnRzIGFsbFxuICAgICAgICAgICAgLy8gb2YgaXRzIHNlbWFudGljIG51bWJlcnMgYXMgY29uc3RhbnRzLiBlLmcuIHtBTklNQVRJT05fREVMQVlfTVM6IDM1MH1cbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENGb3VuZGF0aW9uLCBcImRlZmF1bHRBZGFwdGVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIG1heSBjaG9vc2UgdG8gaW1wbGVtZW50IHRoaXMgZ2V0dGVyIGluIG9yZGVyIHRvIHByb3ZpZGUgYSBjb252ZW5pZW50XG4gICAgICAgICAgICAvLyB3YXkgb2Ygdmlld2luZyB0aGUgbmVjZXNzYXJ5IG1ldGhvZHMgb2YgYW4gYWRhcHRlci4gSW4gdGhlIGZ1dHVyZSwgdGhpcyBjb3VsZCBhbHNvIGJlIHVzZWQgZm9yIGFkYXB0ZXJcbiAgICAgICAgICAgIC8vIHZhbGlkYXRpb24uXG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENGb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwZXJmb3JtIGluaXRpYWxpemF0aW9uIHJvdXRpbmVzIChyZWdpc3RlcmluZyBldmVudHMsIGV0Yy4pXG4gICAgfTtcbiAgICBNRENGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwZXJmb3JtIGRlLWluaXRpYWxpemF0aW9uIHJvdXRpbmVzIChkZS1yZWdpc3RlcmluZyBldmVudHMsIGV0Yy4pXG4gICAgfTtcbiAgICByZXR1cm4gTURDRm91bmRhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBNRENGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDRm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xudmFyIE1EQ0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNRENDb21wb25lbnQocm9vdCwgZm91bmRhdGlvbikge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJvb3QgPSByb290O1xuICAgICAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBpbml0aWFsaXplIGZvdW5kYXRpb24gaGVyZSBhbmQgbm90IHdpdGhpbiB0aGUgY29uc3RydWN0b3Inc1xuICAgICAgICAvLyBkZWZhdWx0IHBhcmFtIHNvIHRoYXQgdGhpcy5yb290IGlzIGRlZmluZWQgYW5kIGNhbiBiZSB1c2VkIHdpdGhpbiB0aGVcbiAgICAgICAgLy8gZm91bmRhdGlvbiBjbGFzcy5cbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uID1cbiAgICAgICAgICAgIGZvdW5kYXRpb24gPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0RGVmYXVsdEZvdW5kYXRpb24oKSA6IGZvdW5kYXRpb247XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5pbml0KCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbFN5bmNXaXRoRE9NKCk7XG4gICAgfVxuICAgIE1EQ0NvbXBvbmVudC5hdHRhY2hUbyA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgICAgIC8vIFN1YmNsYXNzZXMgd2hpY2ggZXh0ZW5kIE1EQ0Jhc2Ugc2hvdWxkIHByb3ZpZGUgYW4gYXR0YWNoVG8oKSBtZXRob2QgdGhhdCB0YWtlcyBhIHJvb3QgZWxlbWVudCBhbmRcbiAgICAgICAgLy8gcmV0dXJucyBhbiBpbnN0YW50aWF0ZWQgY29tcG9uZW50IHdpdGggaXRzIHJvb3Qgc2V0IHRvIHRoYXQgZWxlbWVudC4gQWxzbyBub3RlIHRoYXQgaW4gdGhlIGNhc2VzIG9mXG4gICAgICAgIC8vIHN1YmNsYXNzZXMsIGFuIGV4cGxpY2l0IGZvdW5kYXRpb24gY2xhc3Mgd2lsbCBub3QgaGF2ZSB0byBiZSBwYXNzZWQgaW47IGl0IHdpbGwgc2ltcGx5IGJlIGluaXRpYWxpemVkXG4gICAgICAgIC8vIGZyb20gZ2V0RGVmYXVsdEZvdW5kYXRpb24oKS5cbiAgICAgICAgcmV0dXJuIG5ldyBNRENDb21wb25lbnQocm9vdCwgbmV3IE1EQ0ZvdW5kYXRpb24oe30pKTtcbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBtZXRob2QgcGFyYW0gb25seSBleGlzdHMgZm9yIHR5cGluZyBwdXJwb3NlczsgaXQgZG9lcyBub3QgbmVlZCB0byBiZSB1bml0IHRlc3RlZCAqL1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBfYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgdG8gZG8gYW55IGFkZGl0aW9uYWwgc2V0dXAgd29yayB0aGF0IHdvdWxkIGJlIGNvbnNpZGVyZWQgcGFydCBvZiBhXG4gICAgICAgIC8vIFwiY29uc3RydWN0b3JcIi4gRXNzZW50aWFsbHksIGl0IGlzIGEgaG9vayBpbnRvIHRoZSBwYXJlbnQgY29uc3RydWN0b3IgYmVmb3JlIHRoZSBmb3VuZGF0aW9uIGlzXG4gICAgICAgIC8vIGluaXRpYWxpemVkLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYmVzaWRlcyByb290IGFuZCBmb3VuZGF0aW9uIHdpbGwgYmUgcGFzc2VkIGluIGhlcmUuXG4gICAgfTtcbiAgICBNRENDb21wb25lbnQucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIG11c3Qgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGEgcHJvcGVybHkgY29uZmlndXJlZCBmb3VuZGF0aW9uIGNsYXNzIGZvciB0aGVcbiAgICAgICAgLy8gY29tcG9uZW50LlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YmNsYXNzZXMgbXVzdCBvdmVycmlkZSBnZXREZWZhdWx0Rm91bmRhdGlvbiB0byByZXR1cm4gYSBwcm9wZXJseSBjb25maWd1cmVkICcgK1xuICAgICAgICAgICAgJ2ZvdW5kYXRpb24gY2xhc3MnKTtcbiAgICB9O1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbFN5bmNXaXRoRE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB0aGV5IG5lZWQgdG8gcGVyZm9ybSB3b3JrIHRvIHN5bmNocm9uaXplIHdpdGggYSBob3N0IERPTVxuICAgICAgICAvLyBvYmplY3QuIEFuIGV4YW1wbGUgb2YgdGhpcyB3b3VsZCBiZSBhIGZvcm0gY29udHJvbCB3cmFwcGVyIHRoYXQgbmVlZHMgdG8gc3luY2hyb25pemUgaXRzIGludGVybmFsIHN0YXRlXG4gICAgICAgIC8vIHRvIHNvbWUgcHJvcGVydHkgb3IgYXR0cmlidXRlIG9mIHRoZSBob3N0IERPTS4gUGxlYXNlIG5vdGU6IHRoaXMgaXMgKm5vdCogdGhlIHBsYWNlIHRvIHBlcmZvcm0gRE9NXG4gICAgICAgIC8vIHJlYWRzL3dyaXRlcyB0aGF0IHdvdWxkIGNhdXNlIGxheW91dCAvIHBhaW50LCBhcyB0aGlzIGlzIGNhbGxlZCBzeW5jaHJvbm91c2x5IGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICB9O1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU3ViY2xhc3NlcyBtYXkgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIHJlbGVhc2UgYW55IHJlc291cmNlcyAvIGRlcmVnaXN0ZXIgYW55IGxpc3RlbmVycyB0aGV5IGhhdmVcbiAgICAgICAgLy8gYXR0YWNoZWQuIEFuIGV4YW1wbGUgb2YgdGhpcyBtaWdodCBiZSBkZXJlZ2lzdGVyaW5nIGEgcmVzaXplIGV2ZW50IGZyb20gdGhlIHdpbmRvdyBvYmplY3QuXG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5kZXN0cm95KCk7XG4gICAgfTtcbiAgICBNRENDb21wb25lbnQucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucm9vdC5hZGRFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgTURDQ29tcG9uZW50LnByb3RvdHlwZS51bmxpc3RlbiA9IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZXMgYSBjcm9zcy1icm93c2VyLWNvbXBhdGlibGUgY3VzdG9tIGV2ZW50IGZyb20gdGhlIGNvbXBvbmVudCByb290IG9mIHRoZSBnaXZlbiB0eXBlLCB3aXRoIHRoZSBnaXZlbiBkYXRhLlxuICAgICAqL1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldnRUeXBlLCBldnREYXRhLCBzaG91bGRCdWJibGUpIHtcbiAgICAgICAgaWYgKHNob3VsZEJ1YmJsZSA9PT0gdm9pZCAwKSB7IHNob3VsZEJ1YmJsZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBldnQ7XG4gICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudChldnRUeXBlLCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogc2hvdWxkQnViYmxlLFxuICAgICAgICAgICAgICAgIGRldGFpbDogZXZ0RGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2dFR5cGUsIHNob3VsZEJ1YmJsZSwgZmFsc2UsIGV2dERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm9vdC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDQ29tcG9uZW50O1xufSgpKTtcbmV4cG9ydCB7IE1EQ0NvbXBvbmVudCB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ0NvbXBvbmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycywgYW5kXG4gKiBpZiBzbywgdXNlIHRoZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVBhc3NpdmUoZ2xvYmFsT2JqKSB7XG4gICAgaWYgKGdsb2JhbE9iaiA9PT0gdm9pZCAwKSB7IGdsb2JhbE9iaiA9IHdpbmRvdzsgfVxuICAgIHJldHVybiBzdXBwb3J0c1Bhc3NpdmVPcHRpb24oZ2xvYmFsT2JqKSA/XG4gICAgICAgIHsgcGFzc2l2ZTogdHJ1ZSB9IDpcbiAgICAgICAgZmFsc2U7XG59XG5mdW5jdGlvbiBzdXBwb3J0c1Bhc3NpdmVPcHRpb24oZ2xvYmFsT2JqKSB7XG4gICAgaWYgKGdsb2JhbE9iaiA9PT0gdm9pZCAwKSB7IGdsb2JhbE9iaiA9IHdpbmRvdzsgfVxuICAgIC8vIFNlZVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyXG4gICAgdmFyIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgLy8gYXR0ZW1wdHMgdG8gYWNjZXNzIHRoZSBwYXNzaXZlIHByb3BlcnR5LlxuICAgICAgICAgICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgZ2xvYmFsT2JqLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgZ2xvYmFsT2JqLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBwYXNzaXZlU3VwcG9ydGVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEEgXCJwb255ZmlsbFwiIGlzIGEgcG9seWZpbGwgdGhhdCBkb2Vzbid0IG1vZGlmeSB0aGUgZ2xvYmFsIHByb3RvdHlwZSBjaGFpbi5cbiAqIFRoaXMgbWFrZXMgcG9ueWZpbGxzIHNhZmVyIHRoYW4gdHJhZGl0aW9uYWwgcG9seWZpbGxzLCBlc3BlY2lhbGx5IGZvciBsaWJyYXJpZXMgbGlrZSBNREMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xvc2VzdCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgICB9XG4gICAgdmFyIGVsID0gZWxlbWVudDtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgaWYgKG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHZhciBuYXRpdmVNYXRjaGVzID0gZWxlbWVudC5tYXRjaGVzXG4gICAgICAgIHx8IGVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yXG4gICAgICAgIHx8IGVsZW1lbnQubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgcmV0dXJuIG5hdGl2ZU1hdGNoZXMuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XG59XG4vKipcbiAqIFVzZWQgdG8gY29tcHV0ZSB0aGUgZXN0aW1hdGVkIHNjcm9sbCB3aWR0aCBvZiBlbGVtZW50cy4gV2hlbiBhbiBlbGVtZW50IGlzXG4gKiBoaWRkZW4gZHVlIHRvIGRpc3BsYXk6IG5vbmU7IGJlaW5nIGFwcGxpZWQgdG8gYSBwYXJlbnQgZWxlbWVudCwgdGhlIHdpZHRoIGlzXG4gKiByZXR1cm5lZCBhcyAwLiBIb3dldmVyLCB0aGUgZWxlbWVudCB3aWxsIGhhdmUgYSB0cnVlIHdpZHRoIG9uY2Ugbm8gbG9uZ2VyXG4gKiBpbnNpZGUgYSBkaXNwbGF5OiBub25lIGNvbnRleHQuIFRoaXMgbWV0aG9kIGNvbXB1dGVzIGFuIGVzdGltYXRlZCB3aWR0aCB3aGVuXG4gKiB0aGUgZWxlbWVudCBpcyBoaWRkZW4gb3IgcmV0dXJucyB0aGUgdHJ1ZSB3aWR0aCB3aGVuIHRoZSBlbGVtZW50IGlzIHZpc2JsZS5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aG9zZSB3aWR0aCB0byBlc3RpbWF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXN0aW1hdGVTY3JvbGxXaWR0aChlbGVtZW50KSB7XG4gICAgLy8gQ2hlY2sgdGhlIG9mZnNldFBhcmVudC4gSWYgdGhlIGVsZW1lbnQgaW5oZXJpdHMgZGlzcGxheTogbm9uZSBmcm9tIGFueVxuICAgIC8vIHBhcmVudCwgdGhlIG9mZnNldFBhcmVudCBwcm9wZXJ0eSB3aWxsIGJlIG51bGwgKHNlZVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MRWxlbWVudC9vZmZzZXRQYXJlbnQpLlxuICAgIC8vIFRoaXMgY2hlY2sgZW5zdXJlcyB3ZSBvbmx5IGNsb25lIHRoZSBub2RlIHdoZW4gbmVjZXNzYXJ5LlxuICAgIHZhciBodG1sRWwgPSBlbGVtZW50O1xuICAgIGlmIChodG1sRWwub2Zmc2V0UGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBodG1sRWwuc2Nyb2xsV2lkdGg7XG4gICAgfVxuICAgIHZhciBjbG9uZSA9IGh0bWxFbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgY2xvbmUuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgY2xvbmUuc3R5bGUuc2V0UHJvcGVydHkoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoLTk5OTlweCwgLTk5OTlweCknKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIHZhciBzY3JvbGxXaWR0aCA9IGNsb25lLnNjcm9sbFdpZHRoO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZChjbG9uZSk7XG4gICAgcmV0dXJuIHNjcm9sbFdpZHRoO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9ueWZpbGwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5leHBvcnQgdmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgTEFCRUxfRkxPQVRfQUJPVkU6ICdtZGMtZmxvYXRpbmctbGFiZWwtLWZsb2F0LWFib3ZlJyxcbiAgICBMQUJFTF9SRVFVSVJFRDogJ21kYy1mbG9hdGluZy1sYWJlbC0tcmVxdWlyZWQnLFxuICAgIExBQkVMX1NIQUtFOiAnbWRjLWZsb2F0aW5nLWxhYmVsLS1zaGFrZScsXG4gICAgUk9PVDogJ21kYy1mbG9hdGluZy1sYWJlbCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3NlcyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBNRENGbG9hdGluZ0xhYmVsRm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24uZGVmYXVsdEFkYXB0ZXIpLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2hha2VBbmltYXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlU2hha2VBbmltYXRpb25FbmQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VlIHtAbGluayBNRENGbG9hdGluZ0xhYmVsQWRhcHRlcn0gZm9yIHR5cGluZyBpbmZvcm1hdGlvbiBvbiBwYXJhbWV0ZXJzIGFuZCByZXR1cm4gdHlwZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24gKCkgeyByZXR1cm4gMDsgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcignYW5pbWF0aW9uZW5kJywgdGhpcy5zaGFrZUFuaW1hdGlvbkVuZEhhbmRsZXIpO1xuICAgIH07XG4gICAgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdhbmltYXRpb25lbmQnLCB0aGlzLnNoYWtlQW5pbWF0aW9uRW5kSGFuZGxlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3aWR0aCBvZiB0aGUgbGFiZWwgZWxlbWVudC5cbiAgICAgKi9cbiAgICBNRENGbG9hdGluZ0xhYmVsRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZ2V0V2lkdGgoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0eWxlcyB0aGUgbGFiZWwgdG8gcHJvZHVjZSBhIHNoYWtlIGFuaW1hdGlvbiB0byBpbmRpY2F0ZSBhbiBlcnJvci5cbiAgICAgKiBAcGFyYW0gc2hvdWxkU2hha2UgSWYgdHJ1ZSwgYWRkcyB0aGUgc2hha2UgQ1NTIGNsYXNzOyBvdGhlcndpc2UsIHJlbW92ZXMgc2hha2UgY2xhc3MuXG4gICAgICovXG4gICAgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24ucHJvdG90eXBlLnNoYWtlID0gZnVuY3Rpb24gKHNob3VsZFNoYWtlKSB7XG4gICAgICAgIHZhciBMQUJFTF9TSEFLRSA9IE1EQ0Zsb2F0aW5nTGFiZWxGb3VuZGF0aW9uLmNzc0NsYXNzZXMuTEFCRUxfU0hBS0U7XG4gICAgICAgIGlmIChzaG91bGRTaGFrZSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKExBQkVMX1NIQUtFKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhMQUJFTF9TSEFLRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0eWxlcyB0aGUgbGFiZWwgdG8gZmxvYXQgb3IgZG9jay5cbiAgICAgKiBAcGFyYW0gc2hvdWxkRmxvYXQgSWYgdHJ1ZSwgYWRkcyB0aGUgZmxvYXQgQ1NTIGNsYXNzOyBvdGhlcndpc2UsIHJlbW92ZXMgZmxvYXQgYW5kIHNoYWtlIGNsYXNzZXMgdG8gZG9jayB0aGUgbGFiZWwuXG4gICAgICovXG4gICAgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24ucHJvdG90eXBlLmZsb2F0ID0gZnVuY3Rpb24gKHNob3VsZEZsb2F0KSB7XG4gICAgICAgIHZhciBfYSA9IE1EQ0Zsb2F0aW5nTGFiZWxGb3VuZGF0aW9uLmNzc0NsYXNzZXMsIExBQkVMX0ZMT0FUX0FCT1ZFID0gX2EuTEFCRUxfRkxPQVRfQUJPVkUsIExBQkVMX1NIQUtFID0gX2EuTEFCRUxfU0hBS0U7XG4gICAgICAgIGlmIChzaG91bGRGbG9hdCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKExBQkVMX0ZMT0FUX0FCT1ZFKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhMQUJFTF9GTE9BVF9BQk9WRSk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTEFCRUxfU0hBS0UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHlsZXMgdGhlIGxhYmVsIGFzIHJlcXVpcmVkLlxuICAgICAqIEBwYXJhbSBpc1JlcXVpcmVkIElmIHRydWUsIGFkZHMgYW4gYXN0ZXJpc2sgdG8gdGhlIGxhYmVsLCBpbmRpY2F0aW5nIHRoYXQgaXQgaXMgcmVxdWlyZWQuXG4gICAgICovXG4gICAgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFJlcXVpcmVkID0gZnVuY3Rpb24gKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgdmFyIExBQkVMX1JFUVVJUkVEID0gTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5MQUJFTF9SRVFVSVJFRDtcbiAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhMQUJFTF9SRVFVSVJFRCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTEFCRUxfUkVRVUlSRUQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENGbG9hdGluZ0xhYmVsRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlU2hha2VBbmltYXRpb25FbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBMQUJFTF9TSEFLRSA9IE1EQ0Zsb2F0aW5nTGFiZWxGb3VuZGF0aW9uLmNzc0NsYXNzZXMuTEFCRUxfU0hBS0U7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhMQUJFTF9TSEFLRSk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ0Zsb2F0aW5nTGFiZWxGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENDb21wb25lbnQgfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgZXN0aW1hdGVTY3JvbGxXaWR0aCB9IGZyb20gJ0BtYXRlcmlhbC9kb20vcG9ueWZpbGwnO1xuaW1wb3J0IHsgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xudmFyIE1EQ0Zsb2F0aW5nTGFiZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ0Zsb2F0aW5nTGFiZWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDRmxvYXRpbmdMYWJlbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBNRENGbG9hdGluZ0xhYmVsLmF0dGFjaFRvID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNRENGbG9hdGluZ0xhYmVsKHJvb3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3R5bGVzIHRoZSBsYWJlbCB0byBwcm9kdWNlIHRoZSBsYWJlbCBzaGFrZSBmb3IgZXJyb3JzLlxuICAgICAqIEBwYXJhbSBzaG91bGRTaGFrZSBJZiB0cnVlLCBzaGFrZXMgdGhlIGxhYmVsIGJ5IGFkZGluZyBhIENTUyBjbGFzczsgb3RoZXJ3aXNlLCBzdG9wcyBzaGFraW5nIGJ5IHJlbW92aW5nIHRoZSBjbGFzcy5cbiAgICAgKi9cbiAgICBNRENGbG9hdGluZ0xhYmVsLnByb3RvdHlwZS5zaGFrZSA9IGZ1bmN0aW9uIChzaG91bGRTaGFrZSkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2hha2Uoc2hvdWxkU2hha2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3R5bGVzIHRoZSBsYWJlbCB0byBmbG9hdC9kb2NrLlxuICAgICAqIEBwYXJhbSBzaG91bGRGbG9hdCBJZiB0cnVlLCBmbG9hdHMgdGhlIGxhYmVsIGJ5IGFkZGluZyBhIENTUyBjbGFzczsgb3RoZXJ3aXNlLCBkb2NrcyBpdCBieSByZW1vdmluZyB0aGUgY2xhc3MuXG4gICAgICovXG4gICAgTURDRmxvYXRpbmdMYWJlbC5wcm90b3R5cGUuZmxvYXQgPSBmdW5jdGlvbiAoc2hvdWxkRmxvYXQpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLmZsb2F0KHNob3VsZEZsb2F0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0eWxlcyB0aGUgbGFiZWwgYXMgcmVxdWlyZWQuXG4gICAgICogQHBhcmFtIGlzUmVxdWlyZWQgSWYgdHJ1ZSwgYWRkcyBhbiBhc3RlcmlzayB0byB0aGUgbGFiZWwsIGluZGljYXRpbmcgdGhhdCBpdCBpcyByZXF1aXJlZC5cbiAgICAgKi9cbiAgICBNRENGbG9hdGluZ0xhYmVsLnByb3RvdHlwZS5zZXRSZXF1aXJlZCA9IGZ1bmN0aW9uIChpc1JlcXVpcmVkKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRSZXF1aXJlZChpc1JlcXVpcmVkKTtcbiAgICB9O1xuICAgIE1EQ0Zsb2F0aW5nTGFiZWwucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uLmdldFdpZHRoKCk7XG4gICAgfTtcbiAgICBNRENGbG9hdGluZ0xhYmVsLnByb3RvdHlwZS5nZXREZWZhdWx0Rm91bmRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gRE8gTk9UIElOTElORSB0aGlzIHZhcmlhYmxlLiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgZm91bmRhdGlvbnMgdGFrZSBhIFBhcnRpYWw8TURDRm9vQWRhcHRlcj4uXG4gICAgICAgIC8vIFRvIGVuc3VyZSB3ZSBkb24ndCBhY2NpZGVudGFsbHkgb21pdCBhbnkgbWV0aG9kcywgd2UgbmVlZCBhIHNlcGFyYXRlLCBzdHJvbmdseSB0eXBlZCBhZGFwdGVyIHZhcmlhYmxlLlxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgTWV0aG9kcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGFkYXB0ZXIgaW50ZXJmYWNlLlxuICAgICAgICB2YXIgYWRhcHRlciA9IHtcbiAgICAgICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBfdGhpcy5yb290LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsgfSxcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBfdGhpcy5yb290LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTsgfSxcbiAgICAgICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbiAoKSB7IHJldHVybiBlc3RpbWF0ZVNjcm9sbFdpZHRoKF90aGlzLnJvb3QpOyB9LFxuICAgICAgICAgICAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxpc3RlbihldnRUeXBlLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy51bmxpc3RlbihldnRUeXBlLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIHJldHVybiBuZXcgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24oYWRhcHRlcik7XG4gICAgfTtcbiAgICByZXR1cm4gTURDRmxvYXRpbmdMYWJlbDtcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENGbG9hdGluZ0xhYmVsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICBMSU5FX1JJUFBMRV9BQ1RJVkU6ICdtZGMtbGluZS1yaXBwbGUtLWFjdGl2ZScsXG4gICAgTElORV9SSVBQTEVfREVBQ1RJVkFUSU5HOiAnbWRjLWxpbmUtcmlwcGxlLS1kZWFjdGl2YXRpbmcnLFxufTtcbmV4cG9ydCB7IGNzc0NsYXNzZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IGNzc0NsYXNzZXMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG52YXIgTURDTGluZVJpcHBsZUZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ0xpbmVSaXBwbGVGb3VuZGF0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ0xpbmVSaXBwbGVGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIE1EQ0xpbmVSaXBwbGVGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlVHJhbnNpdGlvbkVuZChldnQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENMaW5lUmlwcGxlRm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENMaW5lUmlwcGxlRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ0xpbmVSaXBwbGVBZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBzZXRTdHlsZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRXZlbnRIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZGVyZWdpc3RlckV2ZW50SGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENMaW5lUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy50cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgfTtcbiAgICBNRENMaW5lUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmRlcmVnaXN0ZXJFdmVudEhhbmRsZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLnRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICB9O1xuICAgIE1EQ0xpbmVSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuTElORV9SSVBQTEVfREVBQ1RJVkFUSU5HKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKGNzc0NsYXNzZXMuTElORV9SSVBQTEVfQUNUSVZFKTtcbiAgICB9O1xuICAgIE1EQ0xpbmVSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRSaXBwbGVDZW50ZXIgPSBmdW5jdGlvbiAoeENvb3JkaW5hdGUpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldFN0eWxlKCd0cmFuc2Zvcm0tb3JpZ2luJywgeENvb3JkaW5hdGUgKyBcInB4IGNlbnRlclwiKTtcbiAgICB9O1xuICAgIE1EQ0xpbmVSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5MSU5FX1JJUFBMRV9ERUFDVElWQVRJTkcpO1xuICAgIH07XG4gICAgTURDTGluZVJpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIC8vIFdhaXQgZm9yIHRoZSBsaW5lIHJpcHBsZSB0byBiZSBlaXRoZXIgdHJhbnNwYXJlbnQgb3Igb3BhcXVlXG4gICAgICAgIC8vIGJlZm9yZSBlbWl0dGluZyB0aGUgYW5pbWF0aW9uIGVuZCBldmVudFxuICAgICAgICB2YXIgaXNEZWFjdGl2YXRpbmcgPSB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5MSU5FX1JJUFBMRV9ERUFDVElWQVRJTkcpO1xuICAgICAgICBpZiAoZXZ0LnByb3BlcnR5TmFtZSA9PT0gJ29wYWNpdHknKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWFjdGl2YXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoY3NzQ2xhc3Nlcy5MSU5FX1JJUFBMRV9BQ1RJVkUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLkxJTkVfUklQUExFX0RFQUNUSVZBVElORyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNRENMaW5lUmlwcGxlRm91bmRhdGlvbjtcbn0oTURDRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDTGluZVJpcHBsZUZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENMaW5lUmlwcGxlRm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0NvbXBvbmVudCB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENMaW5lUmlwcGxlRm91bmRhdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbic7XG52YXIgTURDTGluZVJpcHBsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDTGluZVJpcHBsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENMaW5lUmlwcGxlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1EQ0xpbmVSaXBwbGUuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ0xpbmVSaXBwbGUocm9vdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgdGhlIGxpbmUgcmlwcGxlXG4gICAgICovXG4gICAgTURDTGluZVJpcHBsZS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5hY3RpdmF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVhY3RpdmF0ZXMgdGhlIGxpbmUgcmlwcGxlXG4gICAgICovXG4gICAgTURDTGluZVJpcHBsZS5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLmRlYWN0aXZhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvcmlnaW4gZ2l2ZW4gYSB1c2VyJ3MgY2xpY2sgbG9jYXRpb24uXG4gICAgICogVGhlIGByaXBwbGVDZW50ZXJgIGlzIHRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIG1pZGRsZSBvZiB0aGUgcmlwcGxlLlxuICAgICAqL1xuICAgIE1EQ0xpbmVSaXBwbGUucHJvdG90eXBlLnNldFJpcHBsZUNlbnRlciA9IGZ1bmN0aW9uICh4Q29vcmRpbmF0ZSkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0UmlwcGxlQ2VudGVyKHhDb29yZGluYXRlKTtcbiAgICB9O1xuICAgIE1EQ0xpbmVSaXBwbGUucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHZhciBhZGFwdGVyID0ge1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBzZXRTdHlsZTogZnVuY3Rpb24gKHByb3BlcnR5TmFtZSwgdmFsdWUpIHsgcmV0dXJuIF90aGlzLnJvb3Quc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7IH0sXG4gICAgICAgICAgICByZWdpc3RlckV2ZW50SGFuZGxlcjogZnVuY3Rpb24gKGV2dFR5cGUsIGhhbmRsZXIpIHsgcmV0dXJuIF90aGlzLmxpc3RlbihldnRUeXBlLCBoYW5kbGVyKTsgfSxcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJFdmVudEhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7IHJldHVybiBfdGhpcy51bmxpc3RlbihldnRUeXBlLCBoYW5kbGVyKTsgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgcmV0dXJuIG5ldyBNRENMaW5lUmlwcGxlRm91bmRhdGlvbihhZGFwdGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBNRENMaW5lUmlwcGxlO1xufShNRENDb21wb25lbnQpKTtcbmV4cG9ydCB7IE1EQ0xpbmVSaXBwbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBzdHJpbmdzID0ge1xuICAgIE5PVENIX0VMRU1FTlRfU0VMRUNUT1I6ICcubWRjLW5vdGNoZWQtb3V0bGluZV9fbm90Y2gnLFxufTtcbnZhciBudW1iZXJzID0ge1xuICAgIC8vIFRoaXMgc2hvdWxkIHN0YXkgaW4gc3luYyB3aXRoICRtZGMtbm90Y2hlZC1vdXRsaW5lLXBhZGRpbmcgKiAyLlxuICAgIE5PVENIX0VMRU1FTlRfUEFERElORzogOCxcbn07XG52YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICBOT19MQUJFTDogJ21kYy1ub3RjaGVkLW91dGxpbmUtLW5vLWxhYmVsJyxcbiAgICBPVVRMSU5FX05PVENIRUQ6ICdtZGMtbm90Y2hlZC1vdXRsaW5lLS1ub3RjaGVkJyxcbiAgICBPVVRMSU5FX1VQR1JBREVEOiAnbWRjLW5vdGNoZWQtb3V0bGluZS0tdXBncmFkZWQnLFxufTtcbmV4cG9ydCB7IGNzc0NsYXNzZXMsIG51bWJlcnMsIHN0cmluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IGNzc0NsYXNzZXMsIG51bWJlcnMsIHN0cmluZ3MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG52YXIgTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENOb3RjaGVkT3V0bGluZUZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBNRENOb3RjaGVkT3V0bGluZUZvdW5kYXRpb24uZGVmYXVsdEFkYXB0ZXIpLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ05vdGNoZWRPdXRsaW5lRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENOb3RjaGVkT3V0bGluZUZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uLCBcIm51bWJlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ05vdGNoZWRPdXRsaW5lRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ05vdGNoZWRPdXRsaW5lQWRhcHRlcn0gZm9yIHR5cGluZyBpbmZvcm1hdGlvbiBvbiBwYXJhbWV0ZXJzIGFuZCByZXR1cm4gdHlwZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBzZXROb3RjaFdpZHRoUHJvcGVydHk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVOb3RjaFdpZHRoUHJvcGVydHk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgb3V0bGluZSBub3RjaGVkIHNlbGVjdG9yIGFuZCB1cGRhdGVzIHRoZSBub3RjaCB3aWR0aCBjYWxjdWxhdGVkIGJhc2VkIG9mZiBvZiBub3RjaFdpZHRoLlxuICAgICAqL1xuICAgIE1EQ05vdGNoZWRPdXRsaW5lRm91bmRhdGlvbi5wcm90b3R5cGUubm90Y2ggPSBmdW5jdGlvbiAobm90Y2hXaWR0aCkge1xuICAgICAgICB2YXIgT1VUTElORV9OT1RDSEVEID0gTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuT1VUTElORV9OT1RDSEVEO1xuICAgICAgICBpZiAobm90Y2hXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIG5vdGNoV2lkdGggKz0gbnVtYmVycy5OT1RDSF9FTEVNRU5UX1BBRERJTkc7IC8vIEFkZCBwYWRkaW5nIGZyb20gbGVmdC9yaWdodC5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0Tm90Y2hXaWR0aFByb3BlcnR5KG5vdGNoV2lkdGgpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoT1VUTElORV9OT1RDSEVEKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbm90Y2hlZCBvdXRsaW5lIHNlbGVjdG9yIHRvIGNsb3NlIHRoZSBub3RjaCBpbiB0aGUgb3V0bGluZS5cbiAgICAgKi9cbiAgICBNRENOb3RjaGVkT3V0bGluZUZvdW5kYXRpb24ucHJvdG90eXBlLmNsb3NlTm90Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBPVVRMSU5FX05PVENIRUQgPSBNRENOb3RjaGVkT3V0bGluZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5PVVRMSU5FX05PVENIRUQ7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhPVVRMSU5FX05PVENIRUQpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlTm90Y2hXaWR0aFByb3BlcnR5KCk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENOb3RjaGVkT3V0bGluZUZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENOb3RjaGVkT3V0bGluZUZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENDb21wb25lbnQgfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvZmxvYXRpbmctbGFiZWwvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uIH0gZnJvbSAnLi9mb3VuZGF0aW9uJztcbnZhciBNRENOb3RjaGVkT3V0bGluZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDTm90Y2hlZE91dGxpbmUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDTm90Y2hlZE91dGxpbmUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTURDTm90Y2hlZE91dGxpbmUuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ05vdGNoZWRPdXRsaW5lKHJvb3QpO1xuICAgIH07XG4gICAgTURDTm90Y2hlZE91dGxpbmUucHJvdG90eXBlLmluaXRpYWxTeW5jV2l0aERPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RjaEVsZW1lbnQgPVxuICAgICAgICAgICAgdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5OT1RDSF9FTEVNRU5UX1NFTEVDVE9SKTtcbiAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoJy4nICsgTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5ST09UKTtcbiAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICBsYWJlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xuICAgICAgICAgICAgdGhpcy5yb290LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5PVVRMSU5FX1VQR1JBREVEKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuTk9fTEFCRUwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGNsYXNzZXMgYW5kIHN0eWxlcyB0byBvcGVuIHRoZSBub3RjaCB0byB0aGUgc3BlY2lmaWVkIHdpZHRoLlxuICAgICAqIEBwYXJhbSBub3RjaFdpZHRoIFRoZSBub3RjaCB3aWR0aCBpbiB0aGUgb3V0bGluZS5cbiAgICAgKi9cbiAgICBNRENOb3RjaGVkT3V0bGluZS5wcm90b3R5cGUubm90Y2ggPSBmdW5jdGlvbiAobm90Y2hXaWR0aCkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24ubm90Y2gobm90Y2hXaWR0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGNsYXNzZXMgYW5kIHN0eWxlcyB0byBjbG9zZSB0aGUgbm90Y2guXG4gICAgICovXG4gICAgTURDTm90Y2hlZE91dGxpbmUucHJvdG90eXBlLmNsb3NlTm90Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5jbG9zZU5vdGNoKCk7XG4gICAgfTtcbiAgICBNRENOb3RjaGVkT3V0bGluZS5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSB7XG4gICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBzZXROb3RjaFdpZHRoUHJvcGVydHk6IGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm5vdGNoRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB3aWR0aCArICdweCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZU5vdGNoV2lkdGhQcm9wZXJ0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm5vdGNoRWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnd2lkdGgnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIHJldHVybiBuZXcgTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uKGFkYXB0ZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ05vdGNoZWRPdXRsaW5lO1xufShNRENDb21wb25lbnQpKTtcbmV4cG9ydCB7IE1EQ05vdGNoZWRPdXRsaW5lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5leHBvcnQgdmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgLy8gUmlwcGxlIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHRoZSBcInJvb3RcIiBjb21wb25lbnQgaXMgcmVhbGx5IGEgXCJtaXhpblwiIG9mIHNvcnRzLFxuICAgIC8vIGdpdmVuIHRoYXQgaXQncyBhbiAndXBncmFkZScgdG8gYW4gZXhpc3RpbmcgY29tcG9uZW50LiBUaGF0IGJlaW5nIHNhaWQgaXQgaXMgdGhlIHJvb3RcbiAgICAvLyBDU1MgY2xhc3MgdGhhdCBhbGwgb3RoZXIgQ1NTIGNsYXNzZXMgZGVyaXZlIGZyb20uXG4gICAgQkdfRk9DVVNFRDogJ21kYy1yaXBwbGUtdXBncmFkZWQtLWJhY2tncm91bmQtZm9jdXNlZCcsXG4gICAgRkdfQUNUSVZBVElPTjogJ21kYy1yaXBwbGUtdXBncmFkZWQtLWZvcmVncm91bmQtYWN0aXZhdGlvbicsXG4gICAgRkdfREVBQ1RJVkFUSU9OOiAnbWRjLXJpcHBsZS11cGdyYWRlZC0tZm9yZWdyb3VuZC1kZWFjdGl2YXRpb24nLFxuICAgIFJPT1Q6ICdtZGMtcmlwcGxlLXVwZ3JhZGVkJyxcbiAgICBVTkJPVU5ERUQ6ICdtZGMtcmlwcGxlLXVwZ3JhZGVkLS11bmJvdW5kZWQnLFxufTtcbmV4cG9ydCB2YXIgc3RyaW5ncyA9IHtcbiAgICBWQVJfRkdfU0NBTEU6ICctLW1kYy1yaXBwbGUtZmctc2NhbGUnLFxuICAgIFZBUl9GR19TSVpFOiAnLS1tZGMtcmlwcGxlLWZnLXNpemUnLFxuICAgIFZBUl9GR19UUkFOU0xBVEVfRU5EOiAnLS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1lbmQnLFxuICAgIFZBUl9GR19UUkFOU0xBVEVfU1RBUlQ6ICctLW1kYy1yaXBwbGUtZmctdHJhbnNsYXRlLXN0YXJ0JyxcbiAgICBWQVJfTEVGVDogJy0tbWRjLXJpcHBsZS1sZWZ0JyxcbiAgICBWQVJfVE9QOiAnLS1tZGMtcmlwcGxlLXRvcCcsXG59O1xuZXhwb3J0IHZhciBudW1iZXJzID0ge1xuICAgIERFQUNUSVZBVElPTl9USU1FT1VUX01TOiAyMjUsXG4gICAgRkdfREVBQ1RJVkFUSU9OX01TOiAxNTAsXG4gICAgSU5JVElBTF9PUklHSU5fU0NBTEU6IDAuNixcbiAgICBQQURESU5HOiAxMCxcbiAgICBUQVBfREVMQVlfTVM6IDMwMCwgLy8gRGVsYXkgYmV0d2VlbiB0b3VjaCBhbmQgc2ltdWxhdGVkIG1vdXNlIGV2ZW50cyBvbiB0b3VjaCBkZXZpY2VzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogU3RvcmVzIHJlc3VsdCBmcm9tIHN1cHBvcnRzQ3NzVmFyaWFibGVzIHRvIGF2b2lkIHJlZHVuZGFudCBwcm9jZXNzaW5nIHRvXG4gKiBkZXRlY3QgQ1NTIGN1c3RvbSB2YXJpYWJsZSBzdXBwb3J0LlxuICovXG52YXIgc3VwcG9ydHNDc3NWYXJpYWJsZXNfO1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzQ3NzVmFyaWFibGVzKHdpbmRvd09iaiwgZm9yY2VSZWZyZXNoKSB7XG4gICAgaWYgKGZvcmNlUmVmcmVzaCA9PT0gdm9pZCAwKSB7IGZvcmNlUmVmcmVzaCA9IGZhbHNlOyB9XG4gICAgdmFyIENTUyA9IHdpbmRvd09iai5DU1M7XG4gICAgdmFyIHN1cHBvcnRzQ3NzVmFycyA9IHN1cHBvcnRzQ3NzVmFyaWFibGVzXztcbiAgICBpZiAodHlwZW9mIHN1cHBvcnRzQ3NzVmFyaWFibGVzXyA9PT0gJ2Jvb2xlYW4nICYmICFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzQ3NzVmFyaWFibGVzXztcbiAgICB9XG4gICAgdmFyIHN1cHBvcnRzRnVuY3Rpb25QcmVzZW50ID0gQ1NTICYmIHR5cGVvZiBDU1Muc3VwcG9ydHMgPT09ICdmdW5jdGlvbic7XG4gICAgaWYgKCFzdXBwb3J0c0Z1bmN0aW9uUHJlc2VudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBleHBsaWNpdGx5U3VwcG9ydHNDc3NWYXJzID0gQ1NTLnN1cHBvcnRzKCctLWNzcy12YXJzJywgJ3llcycpO1xuICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NDY2OVxuICAgIC8vIFNlZTogUkVBRE1FIHNlY3Rpb24gb24gU2FmYXJpXG4gICAgdmFyIHdlQXJlRmVhdHVyZURldGVjdGluZ1NhZmFyaTEwcGx1cyA9IChDU1Muc3VwcG9ydHMoJygtLWNzcy12YXJzOiB5ZXMpJykgJiZcbiAgICAgICAgQ1NTLnN1cHBvcnRzKCdjb2xvcicsICcjMDAwMDAwMDAnKSk7XG4gICAgc3VwcG9ydHNDc3NWYXJzID1cbiAgICAgICAgZXhwbGljaXRseVN1cHBvcnRzQ3NzVmFycyB8fCB3ZUFyZUZlYXR1cmVEZXRlY3RpbmdTYWZhcmkxMHBsdXM7XG4gICAgaWYgKCFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgc3VwcG9ydHNDc3NWYXJpYWJsZXNfID0gc3VwcG9ydHNDc3NWYXJzO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydHNDc3NWYXJzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyhldnQsIHBhZ2VPZmZzZXQsIGNsaWVudFJlY3QpIHtcbiAgICBpZiAoIWV2dCkge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuICAgIHZhciB4ID0gcGFnZU9mZnNldC54LCB5ID0gcGFnZU9mZnNldC55O1xuICAgIHZhciBkb2N1bWVudFggPSB4ICsgY2xpZW50UmVjdC5sZWZ0O1xuICAgIHZhciBkb2N1bWVudFkgPSB5ICsgY2xpZW50UmVjdC50b3A7XG4gICAgdmFyIG5vcm1hbGl6ZWRYO1xuICAgIHZhciBub3JtYWxpemVkWTtcbiAgICAvLyBEZXRlcm1pbmUgdG91Y2ggcG9pbnQgcmVsYXRpdmUgdG8gdGhlIHJpcHBsZSBjb250YWluZXIuXG4gICAgaWYgKGV2dC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgdmFyIHRvdWNoRXZlbnQgPSBldnQ7XG4gICAgICAgIG5vcm1hbGl6ZWRYID0gdG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIGRvY3VtZW50WDtcbiAgICAgICAgbm9ybWFsaXplZFkgPSB0b3VjaEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gZG9jdW1lbnRZO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIG1vdXNlRXZlbnQgPSBldnQ7XG4gICAgICAgIG5vcm1hbGl6ZWRYID0gbW91c2VFdmVudC5wYWdlWCAtIGRvY3VtZW50WDtcbiAgICAgICAgbm9ybWFsaXplZFkgPSBtb3VzZUV2ZW50LnBhZ2VZIC0gZG9jdW1lbnRZO1xuICAgIH1cbiAgICByZXR1cm4geyB4OiBub3JtYWxpemVkWCwgeTogbm9ybWFsaXplZFkgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2Fzc2lnbiwgX19leHRlbmRzLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3NlcywgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyB9IGZyb20gJy4vdXRpbCc7XG4vLyBBY3RpdmF0aW9uIGV2ZW50cyByZWdpc3RlcmVkIG9uIHRoZSByb290IGVsZW1lbnQgb2YgZWFjaCBpbnN0YW5jZSBmb3IgYWN0aXZhdGlvblxudmFyIEFDVElWQVRJT05fRVZFTlRfVFlQRVMgPSBbXG4gICAgJ3RvdWNoc3RhcnQnLCAncG9pbnRlcmRvd24nLCAnbW91c2Vkb3duJywgJ2tleWRvd24nLFxuXTtcbi8vIERlYWN0aXZhdGlvbiBldmVudHMgcmVnaXN0ZXJlZCBvbiBkb2N1bWVudEVsZW1lbnQgd2hlbiBhIHBvaW50ZXItcmVsYXRlZCBkb3duIGV2ZW50IG9jY3Vyc1xudmFyIFBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTID0gW1xuICAgICd0b3VjaGVuZCcsICdwb2ludGVydXAnLCAnbW91c2V1cCcsICdjb250ZXh0bWVudScsXG5dO1xuLy8gc2ltdWx0YW5lb3VzIG5lc3RlZCBhY3RpdmF0aW9uc1xudmFyIGFjdGl2YXRlZFRhcmdldHMgPSBbXTtcbnZhciBNRENSaXBwbGVGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENSaXBwbGVGb3VuZGF0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ1JpcHBsZUZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgTURDUmlwcGxlRm91bmRhdGlvbi5kZWZhdWx0QWRhcHRlciksIGFkYXB0ZXIpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY3RpdmF0aW9uQW5pbWF0aW9uSGFzRW5kZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGlvblRpbWVyID0gMDtcbiAgICAgICAgX3RoaXMuZmdEZWFjdGl2YXRpb25SZW1vdmFsVGltZXIgPSAwO1xuICAgICAgICBfdGhpcy5mZ1NjYWxlID0gJzAnO1xuICAgICAgICBfdGhpcy5mcmFtZSA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICBfdGhpcy5pbml0aWFsU2l6ZSA9IDA7XG4gICAgICAgIF90aGlzLmxheW91dEZyYW1lID0gMDtcbiAgICAgICAgX3RoaXMubWF4UmFkaXVzID0gMDtcbiAgICAgICAgX3RoaXMudW5ib3VuZGVkQ29vcmRzID0geyBsZWZ0OiAwLCB0b3A6IDAgfTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGlvblN0YXRlID0gX3RoaXMuZGVmYXVsdEFjdGl2YXRpb25TdGF0ZSgpO1xuICAgICAgICBfdGhpcy5hY3RpdmF0aW9uVGltZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZCA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5ydW5EZWFjdGl2YXRpb25VWExvZ2ljSWZSZWFkeSgpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGVJbXBsKGUpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5kZWFjdGl2YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRlYWN0aXZhdGVJbXBsKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmZvY3VzSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmJsdXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQmx1cigpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5yZXNpemVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMubGF5b3V0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1JpcHBsZUZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDUmlwcGxlRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENSaXBwbGVGb3VuZGF0aW9uLCBcIm51bWJlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1JpcHBsZUZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBicm93c2VyU3VwcG9ydHNDc3NWYXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIGNvbXB1dGVCb3VuZGluZ1JlY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7IHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgbGVmdDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRhaW5zRXZlbnRUYXJnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0sXG4gICAgICAgICAgICAgICAgZGVyZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJSZXNpemVIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0V2luZG93UGFnZU9mZnNldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgeDogMCwgeTogMCB9KTsgfSxcbiAgICAgICAgICAgICAgICBpc1N1cmZhY2VBY3RpdmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0sXG4gICAgICAgICAgICAgICAgaXNTdXJmYWNlRGlzYWJsZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0sXG4gICAgICAgICAgICAgICAgaXNVbmJvdW5kZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0sXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJSZXNpemVIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVDc3NWYXJpYWJsZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdXBwb3J0c1ByZXNzUmlwcGxlID0gdGhpcy5zdXBwb3J0c1ByZXNzUmlwcGxlKCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJSb290SGFuZGxlcnMoc3VwcG9ydHNQcmVzc1JpcHBsZSk7XG4gICAgICAgIGlmIChzdXBwb3J0c1ByZXNzUmlwcGxlKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMsIFJPT1RfMSA9IF9hLlJPT1QsIFVOQk9VTkRFRF8xID0gX2EuVU5CT1VOREVEO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLmFkZENsYXNzKFJPT1RfMSk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmFkYXB0ZXIuaXNVbmJvdW5kZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLmFkZENsYXNzKFVOQk9VTkRFRF8xKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5ib3VuZGVkIHJpcHBsZXMgbmVlZCBsYXlvdXQgbG9naWMgYXBwbGllZCBpbW1lZGlhdGVseSB0byBzZXQgY29vcmRpbmF0ZXMgZm9yIGJvdGggc2hhZGUgYW5kIHJpcHBsZVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXlvdXRJbnRlcm5hbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1ByZXNzUmlwcGxlKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2YXRpb25UaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuRkdfQUNUSVZBVElPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkZHX0RFQUNUSVZBVElPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMsIFJPT1RfMiA9IF9hLlJPT1QsIFVOQk9VTkRFRF8yID0gX2EuVU5CT1VOREVEO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKFJPT1RfMik7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhVTkJPVU5ERURfMik7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ3NzVmFycygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXJlZ2lzdGVyUm9vdEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuZGVyZWdpc3RlckRlYWN0aXZhdGlvbkhhbmRsZXJzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZXZ0IE9wdGlvbmFsIGV2ZW50IGNvbnRhaW5pbmcgcG9zaXRpb24gaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVJbXBsKGV2dCk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVJbXBsKCk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmxheW91dEZyYW1lKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmxheW91dEZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheW91dEZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmxheW91dEludGVybmFsKCk7XG4gICAgICAgICAgICBfdGhpcy5sYXlvdXRGcmFtZSA9IDA7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VW5ib3VuZGVkID0gZnVuY3Rpb24gKHVuYm91bmRlZCkge1xuICAgICAgICB2YXIgVU5CT1VOREVEID0gTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLlVOQk9VTkRFRDtcbiAgICAgICAgaWYgKHVuYm91bmRlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKFVOQk9VTkRFRCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoVU5CT1VOREVEKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5hZGFwdGVyLmFkZENsYXNzKE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5CR19GT0NVU0VEKTsgfSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuQkdfRk9DVVNFRCk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2UgY29tcHV0ZSB0aGlzIHByb3BlcnR5IHNvIHRoYXQgd2UgYXJlIG5vdCBxdWVyeWluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2xpZW50XG4gICAgICogdW50aWwgdGhlIHBvaW50IGluIHRpbWUgd2hlcmUgdGhlIGZvdW5kYXRpb24gcmVxdWVzdHMgaXQuIFRoaXMgcHJldmVudHMgc2NlbmFyaW9zIHdoZXJlXG4gICAgICogY2xpZW50LXNpZGUgZmVhdHVyZS1kZXRlY3Rpb24gbWF5IGhhcHBlbiB0b28gZWFybHksIHN1Y2ggYXMgd2hlbiBjb21wb25lbnRzIGFyZSByZW5kZXJlZCBvbiB0aGUgc2VydmVyXG4gICAgICogYW5kIHRoZW4gaW5pdGlhbGl6ZWQgYXQgbW91bnQgdGltZSBvbiB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnN1cHBvcnRzUHJlc3NSaXBwbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuYnJvd3NlclN1cHBvcnRzQ3NzVmFycygpO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVmYXVsdEFjdGl2YXRpb25TdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGl2YXRpb25FdmVudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaGFzRGVhY3RpdmF0aW9uVVhSdW46IGZhbHNlLFxuICAgICAgICAgICAgaXNBY3RpdmF0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaXNQcm9ncmFtbWF0aWM6IGZhbHNlLFxuICAgICAgICAgICAgd2FzQWN0aXZhdGVkQnlQb2ludGVyOiBmYWxzZSxcbiAgICAgICAgICAgIHdhc0VsZW1lbnRNYWRlQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHN1cHBvcnRzUHJlc3NSaXBwbGUgUGFzc2VkIGZyb20gaW5pdCB0byBzYXZlIGEgcmVkdW5kYW50IGZ1bmN0aW9uIGNhbGxcbiAgICAgKi9cbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5yZWdpc3RlclJvb3RIYW5kbGVycyA9IGZ1bmN0aW9uIChzdXBwb3J0c1ByZXNzUmlwcGxlKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICBpZiAoc3VwcG9ydHNQcmVzc1JpcHBsZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzEgPSBfX3ZhbHVlcyhBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTKSwgQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEgPSBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzEubmV4dCgpOyAhQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEuZG9uZTsgQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEgPSBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldnRUeXBlID0gQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCB0aGlzLmFjdGl2YXRlSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzFfMSAmJiAhQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEuZG9uZSAmJiAoX2EgPSBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzEucmV0dXJuKSkgX2EuY2FsbChBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hZGFwdGVyLmlzVW5ib3VuZGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVnaXN0ZXJSZXNpemVIYW5kbGVyKHRoaXMucmVzaXplSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdibHVyJywgdGhpcy5ibHVySGFuZGxlcik7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5yZWdpc3RlckRlYWN0aXZhdGlvbkhhbmRsZXJzID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgZV8yLCBfYTtcbiAgICAgICAgaWYgKGV2dC50eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcigna2V5dXAnLCB0aGlzLmRlYWN0aXZhdGVIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMSA9IF9fdmFsdWVzKFBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTKSwgUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMV8xID0gUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMS5uZXh0KCk7ICFQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEuZG9uZTsgUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMV8xID0gUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2dFR5cGUgPSBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIHRoaXMuZGVhY3RpdmF0ZUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMV8xICYmICFQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xXzEuZG9uZSAmJiAoX2EgPSBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18xLnJldHVybikpIF9hLmNhbGwoUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVyZWdpc3RlclJvb3RIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMywgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzIgPSBfX3ZhbHVlcyhBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTKSwgQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEgPSBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzIubmV4dCgpOyAhQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEuZG9uZTsgQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEgPSBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzIubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2dFR5cGUgPSBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzJfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCB0aGlzLmFjdGl2YXRlSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfM18xKSB7IGVfMyA9IHsgZXJyb3I6IGVfM18xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzJfMSAmJiAhQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEuZG9uZSAmJiAoX2EgPSBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzIucmV0dXJuKSkgX2EuY2FsbChBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2JsdXInLCB0aGlzLmJsdXJIYW5kbGVyKTtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5pc1VuYm91bmRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZGVyZWdpc3RlclJlc2l6ZUhhbmRsZXIodGhpcy5yZXNpemVIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVyZWdpc3RlckRlYWN0aXZhdGlvbkhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV80LCBfYTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2tleXVwJywgdGhpcy5kZWFjdGl2YXRlSGFuZGxlcik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yID0gX192YWx1ZXMoUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVMpLCBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEgPSBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yLm5leHQoKTsgIVBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzJfMS5kb25lOyBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEgPSBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBldnRUeXBlID0gUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgdGhpcy5kZWFjdGl2YXRlSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEgJiYgIVBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzJfMS5kb25lICYmIChfYSA9IFBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzIucmV0dXJuKSkgX2EuY2FsbChQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUucmVtb3ZlQ3NzVmFycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJpcHBsZVN0cmluZ3MgPSBNRENSaXBwbGVGb3VuZGF0aW9uLnN0cmluZ3M7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmlwcGxlU3RyaW5ncyk7XG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ1ZBUl8nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIudXBkYXRlQ3NzVmFyaWFibGUocmlwcGxlU3RyaW5nc1trZXldLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5hY3RpdmF0ZUltcGwgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaXNTdXJmYWNlRGlzYWJsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3RpdmF0aW9uU3RhdGUgPSB0aGlzLmFjdGl2YXRpb25TdGF0ZTtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF2b2lkIHJlYWN0aW5nIHRvIGZvbGxvdy1vbiBldmVudHMgZmlyZWQgYnkgdG91Y2ggZGV2aWNlIGFmdGVyIGFuIGFscmVhZHktcHJvY2Vzc2VkIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgdmFyIHByZXZpb3VzQWN0aXZhdGlvbkV2ZW50ID0gdGhpcy5wcmV2aW91c0FjdGl2YXRpb25FdmVudDtcbiAgICAgICAgdmFyIGlzU2FtZUludGVyYWN0aW9uID0gcHJldmlvdXNBY3RpdmF0aW9uRXZlbnQgJiYgZXZ0ICE9PSB1bmRlZmluZWQgJiYgcHJldmlvdXNBY3RpdmF0aW9uRXZlbnQudHlwZSAhPT0gZXZ0LnR5cGU7XG4gICAgICAgIGlmIChpc1NhbWVJbnRlcmFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2YXRpb25TdGF0ZS5pc0FjdGl2YXRlZCA9IHRydWU7XG4gICAgICAgIGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYyA9IGV2dCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICBhY3RpdmF0aW9uU3RhdGUuYWN0aXZhdGlvbkV2ZW50ID0gZXZ0O1xuICAgICAgICBhY3RpdmF0aW9uU3RhdGUud2FzQWN0aXZhdGVkQnlQb2ludGVyID0gYWN0aXZhdGlvblN0YXRlLmlzUHJvZ3JhbW1hdGljID8gZmFsc2UgOiBldnQgIT09IHVuZGVmaW5lZCAmJiAoZXZ0LnR5cGUgPT09ICdtb3VzZWRvd24nIHx8IGV2dC50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZXZ0LnR5cGUgPT09ICdwb2ludGVyZG93bicpO1xuICAgICAgICB2YXIgaGFzQWN0aXZhdGVkQ2hpbGQgPSBldnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgYWN0aXZhdGVkVGFyZ2V0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICBhY3RpdmF0ZWRUYXJnZXRzLnNvbWUoZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gX3RoaXMuYWRhcHRlci5jb250YWluc0V2ZW50VGFyZ2V0KHRhcmdldCk7IH0pO1xuICAgICAgICBpZiAoaGFzQWN0aXZhdGVkQ2hpbGQpIHtcbiAgICAgICAgICAgIC8vIEltbWVkaWF0ZWx5IHJlc2V0IGFjdGl2YXRpb24gc3RhdGUsIHdoaWxlIHByZXNlcnZpbmcgbG9naWMgdGhhdCBwcmV2ZW50cyB0b3VjaCBmb2xsb3ctb24gZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWN0aXZhdGlvblN0YXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3RpdmF0ZWRUYXJnZXRzLnB1c2goZXZ0LnRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnMoZXZ0KTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmF0aW9uU3RhdGUud2FzRWxlbWVudE1hZGVBY3RpdmUgPSB0aGlzLmNoZWNrRWxlbWVudE1hZGVBY3RpdmUoZXZ0KTtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlQWN0aXZhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBSZXNldCBhcnJheSBvbiBuZXh0IGZyYW1lIGFmdGVyIHRoZSBjdXJyZW50IGV2ZW50IGhhcyBoYWQgYSBjaGFuY2UgdG8gYnViYmxlIHRvIHByZXZlbnQgYW5jZXN0b3IgcmlwcGxlc1xuICAgICAgICAgICAgYWN0aXZhdGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICAgICAgaWYgKCFhY3RpdmF0aW9uU3RhdGUud2FzRWxlbWVudE1hZGVBY3RpdmVcbiAgICAgICAgICAgICAgICAmJiBldnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICYmIChldnQua2V5ID09PSAnICcgfHwgZXZ0LmtleUNvZGUgPT09IDMyKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHNwYWNlIHdhcyBwcmVzc2VkLCB0cnkgYWdhaW4gd2l0aGluIGFuIHJBRiBjYWxsIHRvIGRldGVjdCA6YWN0aXZlLCBiZWNhdXNlIGRpZmZlcmVudCBVQXMgcmVwb3J0XG4gICAgICAgICAgICAgICAgLy8gYWN0aXZlIHN0YXRlcyBpbmNvbnNpc3RlbnRseSB3aGVuIHRoZXkncmUgY2FsbGVkIHdpdGhpbiBldmVudCBoYW5kbGluZyBjb2RlOlxuICAgICAgICAgICAgICAgIC8vIC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjM1OTcxXG4gICAgICAgICAgICAgICAgLy8gLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjkzNzQxXG4gICAgICAgICAgICAgICAgLy8gV2UgdHJ5IGZpcnN0IG91dHNpZGUgckFGIHRvIHN1cHBvcnQgRWRnZSwgd2hpY2ggZG9lcyBub3QgZXhoaWJpdCB0aGlzIHByb2JsZW0sIGJ1dCB3aWxsIGNyYXNoIGlmIGEgQ1NTXG4gICAgICAgICAgICAgICAgLy8gdmFyaWFibGUgaXMgc2V0IHdpdGhpbiBhIHJBRiBjYWxsYmFjayBmb3IgYSBzdWJtaXQgYnV0dG9uIGludGVyYWN0aW9uICgjMjI0MSkuXG4gICAgICAgICAgICAgICAgYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlID0gX3RoaXMuY2hlY2tFbGVtZW50TWFkZUFjdGl2ZShldnQpO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmF0aW9uU3RhdGUud2FzRWxlbWVudE1hZGVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYW5pbWF0ZUFjdGl2YXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IGFjdGl2YXRpb24gc3RhdGUgaW1tZWRpYXRlbHkgaWYgZWxlbWVudCB3YXMgbm90IG1hZGUgYWN0aXZlLlxuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2YXRpb25TdGF0ZSA9IF90aGlzLmRlZmF1bHRBY3RpdmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5jaGVja0VsZW1lbnRNYWRlQWN0aXZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICByZXR1cm4gKGV2dCAhPT0gdW5kZWZpbmVkICYmIGV2dC50eXBlID09PSAna2V5ZG93bicpID9cbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5pc1N1cmZhY2VBY3RpdmUoKSA6XG4gICAgICAgICAgICB0cnVlO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuYW5pbWF0ZUFjdGl2YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uc3RyaW5ncywgVkFSX0ZHX1RSQU5TTEFURV9TVEFSVCA9IF9hLlZBUl9GR19UUkFOU0xBVEVfU1RBUlQsIFZBUl9GR19UUkFOU0xBVEVfRU5EID0gX2EuVkFSX0ZHX1RSQU5TTEFURV9FTkQ7XG4gICAgICAgIHZhciBfYiA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3NlcywgRkdfREVBQ1RJVkFUSU9OID0gX2IuRkdfREVBQ1RJVkFUSU9OLCBGR19BQ1RJVkFUSU9OID0gX2IuRkdfQUNUSVZBVElPTjtcbiAgICAgICAgdmFyIERFQUNUSVZBVElPTl9USU1FT1VUX01TID0gTURDUmlwcGxlRm91bmRhdGlvbi5udW1iZXJzLkRFQUNUSVZBVElPTl9USU1FT1VUX01TO1xuICAgICAgICB0aGlzLmxheW91dEludGVybmFsKCk7XG4gICAgICAgIHZhciB0cmFuc2xhdGVTdGFydCA9ICcnO1xuICAgICAgICB2YXIgdHJhbnNsYXRlRW5kID0gJyc7XG4gICAgICAgIGlmICghdGhpcy5hZGFwdGVyLmlzVW5ib3VuZGVkKCkpIHtcbiAgICAgICAgICAgIHZhciBfYyA9IHRoaXMuZ2V0RmdUcmFuc2xhdGlvbkNvb3JkaW5hdGVzKCksIHN0YXJ0UG9pbnQgPSBfYy5zdGFydFBvaW50LCBlbmRQb2ludCA9IF9jLmVuZFBvaW50O1xuICAgICAgICAgICAgdHJhbnNsYXRlU3RhcnQgPSBzdGFydFBvaW50LnggKyBcInB4LCBcIiArIHN0YXJ0UG9pbnQueSArIFwicHhcIjtcbiAgICAgICAgICAgIHRyYW5zbGF0ZUVuZCA9IGVuZFBvaW50LnggKyBcInB4LCBcIiArIGVuZFBvaW50LnkgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9GR19UUkFOU0xBVEVfU1RBUlQsIHRyYW5zbGF0ZVN0YXJ0KTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9GR19UUkFOU0xBVEVfRU5ELCB0cmFuc2xhdGVFbmQpO1xuICAgICAgICAvLyBDYW5jZWwgYW55IG9uZ29pbmcgYWN0aXZhdGlvbi9kZWFjdGl2YXRpb24gYW5pbWF0aW9uc1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW9uVGltZXIpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcik7XG4gICAgICAgIHRoaXMucm1Cb3VuZGVkQWN0aXZhdGlvbkNsYXNzZXMoKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKEZHX0RFQUNUSVZBVElPTik7XG4gICAgICAgIC8vIEZvcmNlIGxheW91dCBpbiBvcmRlciB0byByZS10cmlnZ2VyIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHRoaXMuYWRhcHRlci5jb21wdXRlQm91bmRpbmdSZWN0KCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhGR19BQ1RJVkFUSU9OKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0aW9uVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRpb25UaW1lckNhbGxiYWNrKCk7XG4gICAgICAgIH0sIERFQUNUSVZBVElPTl9USU1FT1VUX01TKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldEZnVHJhbnNsYXRpb25Db29yZGluYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmF0aW9uU3RhdGUsIGFjdGl2YXRpb25FdmVudCA9IF9hLmFjdGl2YXRpb25FdmVudCwgd2FzQWN0aXZhdGVkQnlQb2ludGVyID0gX2Eud2FzQWN0aXZhdGVkQnlQb2ludGVyO1xuICAgICAgICB2YXIgc3RhcnRQb2ludDtcbiAgICAgICAgaWYgKHdhc0FjdGl2YXRlZEJ5UG9pbnRlcikge1xuICAgICAgICAgICAgc3RhcnRQb2ludCA9IGdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyhhY3RpdmF0aW9uRXZlbnQsIHRoaXMuYWRhcHRlci5nZXRXaW5kb3dQYWdlT2Zmc2V0KCksIHRoaXMuYWRhcHRlci5jb21wdXRlQm91bmRpbmdSZWN0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRQb2ludCA9IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmZyYW1lLndpZHRoIC8gMixcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmZyYW1lLmhlaWdodCAvIDIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIENlbnRlciB0aGUgZWxlbWVudCBhcm91bmQgdGhlIHN0YXJ0IHBvaW50LlxuICAgICAgICBzdGFydFBvaW50ID0ge1xuICAgICAgICAgICAgeDogc3RhcnRQb2ludC54IC0gKHRoaXMuaW5pdGlhbFNpemUgLyAyKSxcbiAgICAgICAgICAgIHk6IHN0YXJ0UG9pbnQueSAtICh0aGlzLmluaXRpYWxTaXplIC8gMiksXG4gICAgICAgIH07XG4gICAgICAgIHZhciBlbmRQb2ludCA9IHtcbiAgICAgICAgICAgIHg6ICh0aGlzLmZyYW1lLndpZHRoIC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZSAvIDIpLFxuICAgICAgICAgICAgeTogKHRoaXMuZnJhbWUuaGVpZ2h0IC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZSAvIDIpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyBzdGFydFBvaW50OiBzdGFydFBvaW50LCBlbmRQb2ludDogZW5kUG9pbnQgfTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnJ1bkRlYWN0aXZhdGlvblVYTG9naWNJZlJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYm90aCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlIGlzIHJlbGVhc2VkLCBhbmQgd2hlbiB0aGUgYWN0aXZhdGlvbiBhbmltYXRpb24gZW5kcy5cbiAgICAgICAgLy8gVGhlIGRlYWN0aXZhdGlvbiBhbmltYXRpb24gc2hvdWxkIG9ubHkgcnVuIGFmdGVyIGJvdGggb2YgdGhvc2Ugb2NjdXIuXG4gICAgICAgIHZhciBGR19ERUFDVElWQVRJT04gPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuRkdfREVBQ1RJVkFUSU9OO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmFjdGl2YXRpb25TdGF0ZSwgaGFzRGVhY3RpdmF0aW9uVVhSdW4gPSBfYS5oYXNEZWFjdGl2YXRpb25VWFJ1biwgaXNBY3RpdmF0ZWQgPSBfYS5pc0FjdGl2YXRlZDtcbiAgICAgICAgdmFyIGFjdGl2YXRpb25IYXNFbmRlZCA9IGhhc0RlYWN0aXZhdGlvblVYUnVuIHx8ICFpc0FjdGl2YXRlZDtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25IYXNFbmRlZCAmJiB0aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5ybUJvdW5kZWRBY3RpdmF0aW9uQ2xhc3NlcygpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKEZHX0RFQUNUSVZBVElPTik7XG4gICAgICAgICAgICB0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhGR19ERUFDVElWQVRJT04pO1xuICAgICAgICAgICAgfSwgbnVtYmVycy5GR19ERUFDVElWQVRJT05fTVMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5ybUJvdW5kZWRBY3RpdmF0aW9uQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIEZHX0FDVElWQVRJT04gPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuRkdfQUNUSVZBVElPTjtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKEZHX0FDVElWQVRJT04pO1xuICAgICAgICB0aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuY29tcHV0ZUJvdW5kaW5nUmVjdCgpO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUucmVzZXRBY3RpdmF0aW9uU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucHJldmlvdXNBY3RpdmF0aW9uRXZlbnQgPSB0aGlzLmFjdGl2YXRpb25TdGF0ZS5hY3RpdmF0aW9uRXZlbnQ7XG4gICAgICAgIHRoaXMuYWN0aXZhdGlvblN0YXRlID0gdGhpcy5kZWZhdWx0QWN0aXZhdGlvblN0YXRlKCk7XG4gICAgICAgIC8vIFRvdWNoIGRldmljZXMgbWF5IGZpcmUgYWRkaXRpb25hbCBldmVudHMgZm9yIHRoZSBzYW1lIGludGVyYWN0aW9uIHdpdGhpbiBhIHNob3J0IHRpbWUuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBwcmV2aW91cyBldmVudCB1bnRpbCBpdCdzIHNhZmUgdG8gYXNzdW1lIHRoYXQgc3Vic2VxdWVudCBldmVudHMgYXJlIGZvciBuZXcgaW50ZXJhY3Rpb25zLlxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnByZXZpb3VzQWN0aXZhdGlvbkV2ZW50ID0gdW5kZWZpbmVkOyB9LCBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuVEFQX0RFTEFZX01TKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmRlYWN0aXZhdGVJbXBsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYWN0aXZhdGlvblN0YXRlID0gdGhpcy5hY3RpdmF0aW9uU3RhdGU7XG4gICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpbiBzY2VuYXJpb3Mgc3VjaCBhcyB3aGVuIHlvdSBoYXZlIGEga2V5dXAgZXZlbnQgdGhhdCBibHVycyB0aGUgZWxlbWVudC5cbiAgICAgICAgaWYgKCFhY3RpdmF0aW9uU3RhdGUuaXNBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGUgPSBfX2Fzc2lnbih7fSwgYWN0aXZhdGlvblN0YXRlKTtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYykge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlRGVhY3RpdmF0aW9uKHN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXNldEFjdGl2YXRpb25TdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnMoKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGlvblN0YXRlLmhhc0RlYWN0aXZhdGlvblVYUnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlRGVhY3RpdmF0aW9uKHN0YXRlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNldEFjdGl2YXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmFuaW1hdGVEZWFjdGl2YXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHdhc0FjdGl2YXRlZEJ5UG9pbnRlciA9IF9hLndhc0FjdGl2YXRlZEJ5UG9pbnRlciwgd2FzRWxlbWVudE1hZGVBY3RpdmUgPSBfYS53YXNFbGVtZW50TWFkZUFjdGl2ZTtcbiAgICAgICAgaWYgKHdhc0FjdGl2YXRlZEJ5UG9pbnRlciB8fCB3YXNFbGVtZW50TWFkZUFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5ydW5EZWFjdGl2YXRpb25VWExvZ2ljSWZSZWFkeSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5sYXlvdXRJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuYWRhcHRlci5jb21wdXRlQm91bmRpbmdSZWN0KCk7XG4gICAgICAgIHZhciBtYXhEaW0gPSBNYXRoLm1heCh0aGlzLmZyYW1lLmhlaWdodCwgdGhpcy5mcmFtZS53aWR0aCk7XG4gICAgICAgIC8vIFN1cmZhY2UgZGlhbWV0ZXIgaXMgdHJlYXRlZCBkaWZmZXJlbnRseSBmb3IgdW5ib3VuZGVkIHZzLiBib3VuZGVkIHJpcHBsZXMuXG4gICAgICAgIC8vIFVuYm91bmRlZCByaXBwbGUgZGlhbWV0ZXIgaXMgY2FsY3VsYXRlZCBzbWFsbGVyIHNpbmNlIHRoZSBzdXJmYWNlIGlzIGV4cGVjdGVkIHRvIGFscmVhZHkgYmUgcGFkZGVkIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgLy8gdG8gZXh0ZW5kIHRoZSBoaXRib3gsIGFuZCB0aGUgcmlwcGxlIGlzIGV4cGVjdGVkIHRvIG1lZXQgdGhlIGVkZ2VzIG9mIHRoZSBwYWRkZWQgaGl0Ym94ICh3aGljaCBpcyB0eXBpY2FsbHlcbiAgICAgICAgLy8gc3F1YXJlKS4gQm91bmRlZCByaXBwbGVzLCBvbiB0aGUgb3RoZXIgaGFuZCwgYXJlIGZ1bGx5IGV4cGVjdGVkIHRvIGV4cGFuZCBiZXlvbmQgdGhlIHN1cmZhY2UncyBsb25nZXN0IGRpYW1ldGVyXG4gICAgICAgIC8vIChjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBkaWFnb25hbCBwbHVzIGEgY29uc3RhbnQgcGFkZGluZyksIGFuZCBhcmUgY2xpcHBlZCBhdCB0aGUgc3VyZmFjZSdzIGJvcmRlciB2aWFcbiAgICAgICAgLy8gYG92ZXJmbG93OiBoaWRkZW5gLlxuICAgICAgICB2YXIgZ2V0Qm91bmRlZFJhZGl1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBoeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KF90aGlzLmZyYW1lLndpZHRoLCAyKSArIE1hdGgucG93KF90aGlzLmZyYW1lLmhlaWdodCwgMikpO1xuICAgICAgICAgICAgcmV0dXJuIGh5cG90ZW51c2UgKyBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuUEFERElORztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYXhSYWRpdXMgPSB0aGlzLmFkYXB0ZXIuaXNVbmJvdW5kZWQoKSA/IG1heERpbSA6IGdldEJvdW5kZWRSYWRpdXMoKTtcbiAgICAgICAgLy8gUmlwcGxlIGlzIHNpemVkIGFzIGEgZnJhY3Rpb24gb2YgdGhlIGxhcmdlc3QgZGltZW5zaW9uIG9mIHRoZSBzdXJmYWNlLCB0aGVuIHNjYWxlcyB1cCB1c2luZyBhIENTUyBzY2FsZSB0cmFuc2Zvcm1cbiAgICAgICAgdmFyIGluaXRpYWxTaXplID0gTWF0aC5mbG9vcihtYXhEaW0gKiBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuSU5JVElBTF9PUklHSU5fU0NBTEUpO1xuICAgICAgICAvLyBVbmJvdW5kZWQgcmlwcGxlIHNpemUgc2hvdWxkIGFsd2F5cyBiZSBldmVuIG51bWJlciB0byBlcXVhbGx5IGNlbnRlciBhbGlnbi5cbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5pc1VuYm91bmRlZCgpICYmIGluaXRpYWxTaXplICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsU2l6ZSA9IGluaXRpYWxTaXplIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFNpemUgPSBpbml0aWFsU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZnU2NhbGUgPSBcIlwiICsgdGhpcy5tYXhSYWRpdXMgLyB0aGlzLmluaXRpYWxTaXplO1xuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dENzc1ZhcnMoKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnVwZGF0ZUxheW91dENzc1ZhcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uc3RyaW5ncywgVkFSX0ZHX1NJWkUgPSBfYS5WQVJfRkdfU0laRSwgVkFSX0xFRlQgPSBfYS5WQVJfTEVGVCwgVkFSX1RPUCA9IF9hLlZBUl9UT1AsIFZBUl9GR19TQ0FMRSA9IF9hLlZBUl9GR19TQ0FMRTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9GR19TSVpFLCB0aGlzLmluaXRpYWxTaXplICsgXCJweFwiKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9GR19TQ0FMRSwgdGhpcy5mZ1NjYWxlKTtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5pc1VuYm91bmRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnVuYm91bmRlZENvb3JkcyA9IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKCh0aGlzLmZyYW1lLndpZHRoIC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZSAvIDIpKSxcbiAgICAgICAgICAgICAgICB0b3A6IE1hdGgucm91bmQoKHRoaXMuZnJhbWUuaGVpZ2h0IC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZSAvIDIpKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIudXBkYXRlQ3NzVmFyaWFibGUoVkFSX0xFRlQsIHRoaXMudW5ib3VuZGVkQ29vcmRzLmxlZnQgKyBcInB4XCIpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9UT1AsIHRoaXMudW5ib3VuZGVkQ29vcmRzLnRvcCArIFwicHhcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNRENSaXBwbGVGb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENSaXBwbGVGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDUmlwcGxlRm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0NvbXBvbmVudCB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBhcHBseVBhc3NpdmUgfSBmcm9tICdAbWF0ZXJpYWwvZG9tL2V2ZW50cyc7XG5pbXBvcnQgeyBtYXRjaGVzIH0gZnJvbSAnQG1hdGVyaWFsL2RvbS9wb255ZmlsbCc7XG5pbXBvcnQgeyBNRENSaXBwbGVGb3VuZGF0aW9uIH0gZnJvbSAnLi9mb3VuZGF0aW9uJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcbnZhciBNRENSaXBwbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ1JpcHBsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENSaXBwbGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1EQ1JpcHBsZS5hdHRhY2hUbyA9IGZ1bmN0aW9uIChyb290LCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHtcbiAgICAgICAgICAgIGlzVW5ib3VuZGVkOiB1bmRlZmluZWRcbiAgICAgICAgfTsgfVxuICAgICAgICB2YXIgcmlwcGxlID0gbmV3IE1EQ1JpcHBsZShyb290KTtcbiAgICAgICAgLy8gT25seSBvdmVycmlkZSB1bmJvdW5kZWQgYmVoYXZpb3IgaWYgb3B0aW9uIGlzIGV4cGxpY2l0bHkgc3BlY2lmaWVkXG4gICAgICAgIGlmIChvcHRzLmlzVW5ib3VuZGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJpcHBsZS51bmJvdW5kZWQgPSBvcHRzLmlzVW5ib3VuZGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByaXBwbGU7XG4gICAgfTtcbiAgICBNRENSaXBwbGUuY3JlYXRlQWRhcHRlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIGluc3RhbmNlLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgYnJvd3NlclN1cHBvcnRzQ3NzVmFyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbC5zdXBwb3J0c0Nzc1ZhcmlhYmxlcyh3aW5kb3cpOyB9LFxuICAgICAgICAgICAgY29tcHV0ZUJvdW5kaW5nUmVjdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2Uucm9vdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgfSxcbiAgICAgICAgICAgIGNvbnRhaW5zRXZlbnRUYXJnZXQ6IGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIGluc3RhbmNlLnJvb3QuY29udGFpbnModGFyZ2V0KTsgfSxcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKGV2dFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgYXBwbHlQYXNzaXZlKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJvb3RcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgYXBwbHlQYXNzaXZlKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJSZXNpemVIYW5kbGVyOiBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0V2luZG93UGFnZU9mZnNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoeyB4OiB3aW5kb3cucGFnZVhPZmZzZXQsIHk6IHdpbmRvdy5wYWdlWU9mZnNldCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1N1cmZhY2VBY3RpdmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGNoZXMoaW5zdGFuY2Uucm9vdCwgJzphY3RpdmUnKTsgfSxcbiAgICAgICAgICAgIGlzU3VyZmFjZURpc2FibGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBCb29sZWFuKGluc3RhbmNlLmRpc2FibGVkKTsgfSxcbiAgICAgICAgICAgIGlzVW5ib3VuZGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBCb29sZWFuKGluc3RhbmNlLnVuYm91bmRlZCk7IH0sXG4gICAgICAgICAgICByZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBoYW5kbGVyLCBhcHBseVBhc3NpdmUoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJvb3RcbiAgICAgICAgICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgYXBwbHlQYXNzaXZlKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyUmVzaXplSGFuZGxlcjogZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBpbnN0YW5jZS5yb290LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTsgfSxcbiAgICAgICAgICAgIHVwZGF0ZUNzc1ZhcmlhYmxlOiBmdW5jdGlvbiAodmFyTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2Uucm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1JpcHBsZS5wcm90b3R5cGUsIFwidW5ib3VuZGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmlzVW5ib3VuZGVkKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodW5ib3VuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzVW5ib3VuZGVkID0gQm9vbGVhbih1bmJvdW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5zZXRVbmJvdW5kZWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1JpcHBsZS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5hY3RpdmF0ZSgpO1xuICAgIH07XG4gICAgTURDUmlwcGxlLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uZGVhY3RpdmF0ZSgpO1xuICAgIH07XG4gICAgTURDUmlwcGxlLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5sYXlvdXQoKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTURDUmlwcGxlRm91bmRhdGlvbihNRENSaXBwbGUuY3JlYXRlQWRhcHRlcih0aGlzKSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGUucHJvdG90eXBlLmluaXRpYWxTeW5jV2l0aERPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHRoaXMuaXNVbmJvdW5kZWQgPSAnbWRjUmlwcGxlSXNVbmJvdW5kZWQnIGluIHJvb3QuZGF0YXNldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsb3N1cmUgQ29tcGlsZXIgdGhyb3dzIGFuIGFjY2VzcyBjb250cm9sIGVycm9yIHdoZW4gZGlyZWN0bHkgYWNjZXNzaW5nIGFcbiAgICAgKiBwcm90ZWN0ZWQgb3IgcHJpdmF0ZSBwcm9wZXJ0eSBpbnNpZGUgYSBnZXR0ZXIvc2V0dGVyLCBsaWtlIHVuYm91bmRlZCBhYm92ZS5cbiAgICAgKiBCeSBhY2Nlc3NpbmcgdGhlIHByb3RlY3RlZCBwcm9wZXJ0eSBpbnNpZGUgYSBtZXRob2QsIHdlIHNvbHZlIHRoYXQgcHJvYmxlbS5cbiAgICAgKiBUaGF0J3Mgd2h5IHRoaXMgZnVuY3Rpb24gZXhpc3RzLlxuICAgICAqL1xuICAgIE1EQ1JpcHBsZS5wcm90b3R5cGUuc2V0VW5ib3VuZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VW5ib3VuZGVkKEJvb2xlYW4odGhpcy5pc1VuYm91bmRlZCkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ1JpcHBsZTtcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENSaXBwbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBjc3NDbGFzc2VzID0ge1xuICAgIFJPT1Q6ICdtZGMtdGV4dC1maWVsZC1jaGFyYWN0ZXItY291bnRlcicsXG59O1xudmFyIHN0cmluZ3MgPSB7XG4gICAgUk9PVF9TRUxFQ1RPUjogXCIuXCIgKyBjc3NDbGFzc2VzLlJPT1QsXG59O1xuZXhwb3J0IHsgc3RyaW5ncywgY3NzQ2xhc3NlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3Nlcywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlckZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlckZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIE1EQ1RleHRGaWVsZENoYXJhY3RlckNvdW50ZXJGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ1RleHRGaWVsZENoYXJhY3RlckNvdW50ZXJBZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzZXRDb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlckZvdW5kYXRpb24ucHJvdG90eXBlLnNldENvdW50ZXJWYWx1ZSA9IGZ1bmN0aW9uIChjdXJyZW50TGVuZ3RoLCBtYXhMZW5ndGgpIHtcbiAgICAgICAgY3VycmVudExlbmd0aCA9IE1hdGgubWluKGN1cnJlbnRMZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRDb250ZW50KGN1cnJlbnRMZW5ndGggKyBcIiAvIFwiICsgbWF4TGVuZ3RoKTtcbiAgICB9O1xuICAgIHJldHVybiBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbjtcbn0oTURDRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlckZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0NvbXBvbmVudCB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbic7XG52YXIgTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1EQ1RleHRGaWVsZENoYXJhY3RlckNvdW50ZXIuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ1RleHRGaWVsZENoYXJhY3RlckNvdW50ZXIocm9vdCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlci5wcm90b3R5cGUsIFwiZm91bmRhdGlvbkZvclRleHRGaWVsZFwiLCB7XG4gICAgICAgIC8vIFByb3ZpZGVkIGZvciBhY2Nlc3MgYnkgTURDVGV4dEZpZWxkIGNvbXBvbmVudFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyLnByb3RvdHlwZS5nZXREZWZhdWx0Rm91bmRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gRE8gTk9UIElOTElORSB0aGlzIHZhcmlhYmxlLiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgZm91bmRhdGlvbnMgdGFrZSBhIFBhcnRpYWw8TURDRm9vQWRhcHRlcj4uXG4gICAgICAgIC8vIFRvIGVuc3VyZSB3ZSBkb24ndCBhY2NpZGVudGFsbHkgb21pdCBhbnkgbWV0aG9kcywgd2UgbmVlZCBhIHNlcGFyYXRlLCBzdHJvbmdseSB0eXBlZCBhZGFwdGVyIHZhcmlhYmxlLlxuICAgICAgICB2YXIgYWRhcHRlciA9IHtcbiAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucm9vdC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE1EQ1RleHRGaWVsZENoYXJhY3RlckNvdW50ZXJGb3VuZGF0aW9uKGFkYXB0ZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ1RleHRGaWVsZENoYXJhY3RlckNvdW50ZXI7XG59KE1EQ0NvbXBvbmVudCkpO1xuZXhwb3J0IHsgTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIHN0cmluZ3MgPSB7XG4gICAgQVJJQV9DT05UUk9MUzogJ2FyaWEtY29udHJvbHMnLFxuICAgIEFSSUFfREVTQ1JJQkVEQlk6ICdhcmlhLWRlc2NyaWJlZGJ5JyxcbiAgICBJTlBVVF9TRUxFQ1RPUjogJy5tZGMtdGV4dC1maWVsZF9faW5wdXQnLFxuICAgIExBQkVMX1NFTEVDVE9SOiAnLm1kYy1mbG9hdGluZy1sYWJlbCcsXG4gICAgTEVBRElOR19JQ09OX1NFTEVDVE9SOiAnLm1kYy10ZXh0LWZpZWxkX19pY29uLS1sZWFkaW5nJyxcbiAgICBMSU5FX1JJUFBMRV9TRUxFQ1RPUjogJy5tZGMtbGluZS1yaXBwbGUnLFxuICAgIE9VVExJTkVfU0VMRUNUT1I6ICcubWRjLW5vdGNoZWQtb3V0bGluZScsXG4gICAgUFJFRklYX1NFTEVDVE9SOiAnLm1kYy10ZXh0LWZpZWxkX19hZmZpeC0tcHJlZml4JyxcbiAgICBTVUZGSVhfU0VMRUNUT1I6ICcubWRjLXRleHQtZmllbGRfX2FmZml4LS1zdWZmaXgnLFxuICAgIFRSQUlMSU5HX0lDT05fU0VMRUNUT1I6ICcubWRjLXRleHQtZmllbGRfX2ljb24tLXRyYWlsaW5nJ1xufTtcbnZhciBjc3NDbGFzc2VzID0ge1xuICAgIERJU0FCTEVEOiAnbWRjLXRleHQtZmllbGQtLWRpc2FibGVkJyxcbiAgICBGT0NVU0VEOiAnbWRjLXRleHQtZmllbGQtLWZvY3VzZWQnLFxuICAgIEhFTFBFUl9MSU5FOiAnbWRjLXRleHQtZmllbGQtaGVscGVyLWxpbmUnLFxuICAgIElOVkFMSUQ6ICdtZGMtdGV4dC1maWVsZC0taW52YWxpZCcsXG4gICAgTEFCRUxfRkxPQVRJTkc6ICdtZGMtdGV4dC1maWVsZC0tbGFiZWwtZmxvYXRpbmcnLFxuICAgIE5PX0xBQkVMOiAnbWRjLXRleHQtZmllbGQtLW5vLWxhYmVsJyxcbiAgICBPVVRMSU5FRDogJ21kYy10ZXh0LWZpZWxkLS1vdXRsaW5lZCcsXG4gICAgUk9PVDogJ21kYy10ZXh0LWZpZWxkJyxcbiAgICBURVhUQVJFQTogJ21kYy10ZXh0LWZpZWxkLS10ZXh0YXJlYScsXG4gICAgV0lUSF9MRUFESU5HX0lDT046ICdtZGMtdGV4dC1maWVsZC0td2l0aC1sZWFkaW5nLWljb24nLFxuICAgIFdJVEhfVFJBSUxJTkdfSUNPTjogJ21kYy10ZXh0LWZpZWxkLS13aXRoLXRyYWlsaW5nLWljb24nLFxuICAgIFdJVEhfSU5URVJOQUxfQ09VTlRFUjogJ21kYy10ZXh0LWZpZWxkLS13aXRoLWludGVybmFsLWNvdW50ZXInLFxufTtcbnZhciBudW1iZXJzID0ge1xuICAgIExBQkVMX1NDQUxFOiAwLjc1LFxufTtcbi8qKlxuICogV2hpdGVsaXN0IGJhc2VkIG9mZiBvZlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvSFRNTC9IVE1MNS9Db25zdHJhaW50X3ZhbGlkYXRpb25cbiAqIHVuZGVyIHRoZSBcIlZhbGlkYXRpb24tcmVsYXRlZCBhdHRyaWJ1dGVzXCIgc2VjdGlvbi5cbiAqL1xudmFyIFZBTElEQVRJT05fQVRUUl9XSElURUxJU1QgPSBbXG4gICAgJ3BhdHRlcm4nLFxuICAgICdtaW4nLFxuICAgICdtYXgnLFxuICAgICdyZXF1aXJlZCcsXG4gICAgJ3N0ZXAnLFxuICAgICdtaW5sZW5ndGgnLFxuICAgICdtYXhsZW5ndGgnLFxuXTtcbi8qKlxuICogTGFiZWwgc2hvdWxkIGFsd2F5cyBmbG9hdCBmb3IgdGhlc2UgdHlwZXMgYXMgdGhleSBzaG93IHNvbWUgVUkgZXZlbiBpZiB2YWx1ZVxuICogaXMgZW1wdHkuXG4gKi9cbnZhciBBTFdBWVNfRkxPQVRfVFlQRVMgPSBbXG4gICAgJ2NvbG9yJyxcbiAgICAnZGF0ZScsXG4gICAgJ2RhdGV0aW1lLWxvY2FsJyxcbiAgICAnbW9udGgnLFxuICAgICdyYW5nZScsXG4gICAgJ3RpbWUnLFxuICAgICd3ZWVrJyxcbl07XG5leHBvcnQgeyBjc3NDbGFzc2VzLCBzdHJpbmdzLCBudW1iZXJzLCBWQUxJREFUSU9OX0FUVFJfV0hJVEVMSVNULCBBTFdBWVNfRkxPQVRfVFlQRVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBBTFdBWVNfRkxPQVRfVFlQRVMsIGNzc0NsYXNzZXMsIG51bWJlcnMsIHN0cmluZ3MsIFZBTElEQVRJT05fQVRUUl9XSElURUxJU1QgfSBmcm9tICcuL2NvbnN0YW50cyc7XG52YXIgUE9JTlRFUkRPV05fRVZFTlRTID0gWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddO1xudmFyIElOVEVSQUNUSU9OX0VWRU5UUyA9IFsnY2xpY2snLCAna2V5ZG93biddO1xudmFyIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ1RleHRGaWVsZEZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGFkYXB0ZXJcbiAgICAgKiBAcGFyYW0gZm91bmRhdGlvbk1hcCBNYXAgZnJvbSBzdWJjb21wb25lbnQgbmFtZXMgdG8gdGhlaXIgc3ViZm91bmRhdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTURDVGV4dEZpZWxkRm91bmRhdGlvbihhZGFwdGVyLCBmb3VuZGF0aW9uTWFwKSB7XG4gICAgICAgIGlmIChmb3VuZGF0aW9uTWFwID09PSB2b2lkIDApIHsgZm91bmRhdGlvbk1hcCA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBNRENUZXh0RmllbGRGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5yZWNlaXZlZFVzZXJJbnB1dCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIF90aGlzLnVzZU5hdGl2ZVZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICBfdGhpcy52YWxpZGF0ZU9uVmFsdWVDaGFuZ2UgPSB0cnVlO1xuICAgICAgICBfdGhpcy5oZWxwZXJUZXh0ID0gZm91bmRhdGlvbk1hcC5oZWxwZXJUZXh0O1xuICAgICAgICBfdGhpcy5jaGFyYWN0ZXJDb3VudGVyID0gZm91bmRhdGlvbk1hcC5jaGFyYWN0ZXJDb3VudGVyO1xuICAgICAgICBfdGhpcy5sZWFkaW5nSWNvbiA9IGZvdW5kYXRpb25NYXAubGVhZGluZ0ljb247XG4gICAgICAgIF90aGlzLnRyYWlsaW5nSWNvbiA9IGZvdW5kYXRpb25NYXAudHJhaWxpbmdJY29uO1xuICAgICAgICBfdGhpcy5pbnB1dEZvY3VzSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlRm9jdXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaW5wdXRCbHVySGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRlYWN0aXZhdGVGb2N1cygpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5pbnB1dElucHV0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUlucHV0KCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNldFBvaW50ZXJYT2Zmc2V0ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0VHJhbnNmb3JtT3JpZ2luKGV2dCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnRleHRGaWVsZEludGVyYWN0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZVRleHRGaWVsZEludGVyYWN0aW9uKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnZhbGlkYXRpb25BdHRyaWJ1dGVDaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXNMaXN0KSB7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVWYWxpZGF0aW9uQXR0cmlidXRlQ2hhbmdlKGF0dHJpYnV0ZXNMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkRm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZEZvdW5kYXRpb24sIFwibnVtYmVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUsIFwic2hvdWxkQWx3YXlzRmxvYXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy5nZXROYXRpdmVJbnB1dCgpLnR5cGU7XG4gICAgICAgICAgICByZXR1cm4gQUxXQVlTX0ZMT0FUX1RZUEVTLmluZGV4T2YodHlwZSkgPj0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZSwgXCJzaG91bGRGbG9hdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvdWxkQWx3YXlzRmxvYXQgfHwgdGhpcy5pc0ZvY3VzZWQgfHwgISF0aGlzLmdldFZhbHVlKCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmlzQmFkSW5wdXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZSwgXCJzaG91bGRTaGFrZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzRm9jdXNlZCAmJiAhdGhpcy5pc1ZhbGlkKCkgJiYgISF0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ1RleHRGaWVsZEFkYXB0ZXJ9IGZvciB0eXBpbmcgaW5mb3JtYXRpb24gb24gcGFyYW1ldGVycyBhbmRcbiAgICAgICAgICogcmV0dXJuIHR5cGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgTWV0aG9kcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGFkYXB0ZXIgaW50ZXJmYWNlLlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0sXG4gICAgICAgICAgICAgICAgc2V0SW5wdXRBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlSW5wdXRBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJUZXh0RmllbGRJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBkZXJlZ2lzdGVyVGV4dEZpZWxkSW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJJbnB1dEludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJJbnB1dEludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyVmFsaWRhdGlvbkF0dHJpYnV0ZUNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZXJlZ2lzdGVyVmFsaWRhdGlvbkF0dHJpYnV0ZUNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXROYXRpdmVJbnB1dDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGFjdGl2YXRlTGluZVJpcHBsZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVMaW5lUmlwcGxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0TGluZVJpcHBsZVRyYW5zZm9ybU9yaWdpbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNoYWtlTGFiZWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBmbG9hdExhYmVsOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0TGFiZWxSZXF1aXJlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGhhc0xhYmVsOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBnZXRMYWJlbFdpZHRoOiBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9LFxuICAgICAgICAgICAgICAgIGhhc091dGxpbmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIG5vdGNoT3V0bGluZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGNsb3NlT3V0bGluZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5oYXNMYWJlbCgpICYmIHRoaXMuZ2V0TmF0aXZlSW5wdXQoKS5yZXF1aXJlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldExhYmVsUmVxdWlyZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5pc0ZvY3VzZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dEZvY3VzSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWRhcHRlci5oYXNMYWJlbCgpICYmIHRoaXMuc2hvdWxkRmxvYXQpIHtcbiAgICAgICAgICAgIHRoaXMubm90Y2hPdXRsaW5lKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmZsb2F0TGFiZWwodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlRmxvYXRpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVySW5wdXRJbnRlcmFjdGlvbkhhbmRsZXIoJ2ZvY3VzJywgdGhpcy5pbnB1dEZvY3VzSGFuZGxlcik7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZWdpc3RlcklucHV0SW50ZXJhY3Rpb25IYW5kbGVyKCdibHVyJywgdGhpcy5pbnB1dEJsdXJIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVySW5wdXRJbnRlcmFjdGlvbkhhbmRsZXIoJ2lucHV0JywgdGhpcy5pbnB1dElucHV0SGFuZGxlcik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBQT0lOVEVSRE9XTl9FVkVOVFNfMSA9IF9fdmFsdWVzKFBPSU5URVJET1dOX0VWRU5UUyksIFBPSU5URVJET1dOX0VWRU5UU18xXzEgPSBQT0lOVEVSRE9XTl9FVkVOVFNfMS5uZXh0KCk7ICFQT0lOVEVSRE9XTl9FVkVOVFNfMV8xLmRvbmU7IFBPSU5URVJET1dOX0VWRU5UU18xXzEgPSBQT0lOVEVSRE9XTl9FVkVOVFNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZ0VHlwZSA9IFBPSU5URVJET1dOX0VWRU5UU18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVySW5wdXRJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgdGhpcy5zZXRQb2ludGVyWE9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChQT0lOVEVSRE9XTl9FVkVOVFNfMV8xICYmICFQT0lOVEVSRE9XTl9FVkVOVFNfMV8xLmRvbmUgJiYgKF9hID0gUE9JTlRFUkRPV05fRVZFTlRTXzEucmV0dXJuKSkgX2EuY2FsbChQT0lOVEVSRE9XTl9FVkVOVFNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIElOVEVSQUNUSU9OX0VWRU5UU18xID0gX192YWx1ZXMoSU5URVJBQ1RJT05fRVZFTlRTKSwgSU5URVJBQ1RJT05fRVZFTlRTXzFfMSA9IElOVEVSQUNUSU9OX0VWRU5UU18xLm5leHQoKTsgIUlOVEVSQUNUSU9OX0VWRU5UU18xXzEuZG9uZTsgSU5URVJBQ1RJT05fRVZFTlRTXzFfMSA9IElOVEVSQUNUSU9OX0VWRU5UU18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBldnRUeXBlID0gSU5URVJBQ1RJT05fRVZFTlRTXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVnaXN0ZXJUZXh0RmllbGRJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgdGhpcy50ZXh0RmllbGRJbnRlcmFjdGlvbkhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoSU5URVJBQ1RJT05fRVZFTlRTXzFfMSAmJiAhSU5URVJBQ1RJT05fRVZFTlRTXzFfMS5kb25lICYmIChfYiA9IElOVEVSQUNUSU9OX0VWRU5UU18xLnJldHVybikpIF9iLmNhbGwoSU5URVJBQ1RJT05fRVZFTlRTXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbk9ic2VydmVyID1cbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZWdpc3RlclZhbGlkYXRpb25BdHRyaWJ1dGVDaGFuZ2VIYW5kbGVyKHRoaXMudmFsaWRhdGlvbkF0dHJpYnV0ZUNoYW5nZUhhbmRsZXIpO1xuICAgICAgICB0aGlzLnNldGNoYXJhY3RlckNvdW50ZXIodGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgfTtcbiAgICBNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8zLCBfYSwgZV80LCBfYjtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmRlcmVnaXN0ZXJJbnB1dEludGVyYWN0aW9uSGFuZGxlcignZm9jdXMnLCB0aGlzLmlucHV0Rm9jdXNIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmRlcmVnaXN0ZXJJbnB1dEludGVyYWN0aW9uSGFuZGxlcignYmx1cicsIHRoaXMuaW5wdXRCbHVySGFuZGxlcik7XG4gICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVySW5wdXRJbnRlcmFjdGlvbkhhbmRsZXIoJ2lucHV0JywgdGhpcy5pbnB1dElucHV0SGFuZGxlcik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBQT0lOVEVSRE9XTl9FVkVOVFNfMiA9IF9fdmFsdWVzKFBPSU5URVJET1dOX0VWRU5UUyksIFBPSU5URVJET1dOX0VWRU5UU18yXzEgPSBQT0lOVEVSRE9XTl9FVkVOVFNfMi5uZXh0KCk7ICFQT0lOVEVSRE9XTl9FVkVOVFNfMl8xLmRvbmU7IFBPSU5URVJET1dOX0VWRU5UU18yXzEgPSBQT0lOVEVSRE9XTl9FVkVOVFNfMi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZ0VHlwZSA9IFBPSU5URVJET1dOX0VWRU5UU18yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmRlcmVnaXN0ZXJJbnB1dEludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCB0aGlzLnNldFBvaW50ZXJYT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKFBPSU5URVJET1dOX0VWRU5UU18yXzEgJiYgIVBPSU5URVJET1dOX0VWRU5UU18yXzEuZG9uZSAmJiAoX2EgPSBQT0lOVEVSRE9XTl9FVkVOVFNfMi5yZXR1cm4pKSBfYS5jYWxsKFBPSU5URVJET1dOX0VWRU5UU18yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgSU5URVJBQ1RJT05fRVZFTlRTXzIgPSBfX3ZhbHVlcyhJTlRFUkFDVElPTl9FVkVOVFMpLCBJTlRFUkFDVElPTl9FVkVOVFNfMl8xID0gSU5URVJBQ1RJT05fRVZFTlRTXzIubmV4dCgpOyAhSU5URVJBQ1RJT05fRVZFTlRTXzJfMS5kb25lOyBJTlRFUkFDVElPTl9FVkVOVFNfMl8xID0gSU5URVJBQ1RJT05fRVZFTlRTXzIubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2dFR5cGUgPSBJTlRFUkFDVElPTl9FVkVOVFNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVyVGV4dEZpZWxkSW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIHRoaXMudGV4dEZpZWxkSW50ZXJhY3Rpb25IYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV80XzEpIHsgZV80ID0geyBlcnJvcjogZV80XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKElOVEVSQUNUSU9OX0VWRU5UU18yXzEgJiYgIUlOVEVSQUNUSU9OX0VWRU5UU18yXzEuZG9uZSAmJiAoX2IgPSBJTlRFUkFDVElPTl9FVkVOVFNfMi5yZXR1cm4pKSBfYi5jYWxsKElOVEVSQUNUSU9OX0VWRU5UU18yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuZGVyZWdpc3RlclZhbGlkYXRpb25BdHRyaWJ1dGVDaGFuZ2VIYW5kbGVyKHRoaXMudmFsaWRhdGlvbk9ic2VydmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdXNlciBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgVGV4dCBGaWVsZC5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVUZXh0RmllbGRJbnRlcmFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5hdGl2ZUlucHV0ID0gdGhpcy5hZGFwdGVyLmdldE5hdGl2ZUlucHV0KCk7XG4gICAgICAgIGlmIChuYXRpdmVJbnB1dCAmJiBuYXRpdmVJbnB1dC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjZWl2ZWRVc2VySW5wdXQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB2YWxpZGF0aW9uIGF0dHJpYnV0ZSBjaGFuZ2VzXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlVmFsaWRhdGlvbkF0dHJpYnV0ZUNoYW5nZSA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVzTGlzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBhdHRyaWJ1dGVzTGlzdC5zb21lKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoVkFMSURBVElPTl9BVFRSX1dISVRFTElTVC5pbmRleE9mKGF0dHJpYnV0ZU5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZVZhbGlkaXR5KHRydWUpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIuc2V0TGFiZWxSZXF1aXJlZChfdGhpcy5nZXROYXRpdmVJbnB1dCgpLnJlcXVpcmVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzTGlzdC5pbmRleE9mKCdtYXhsZW5ndGgnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNldGNoYXJhY3RlckNvdW50ZXIodGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9wZW5zL2Nsb3NlcyB0aGUgbm90Y2hlZCBvdXRsaW5lLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLm5vdGNoT3V0bGluZSA9IGZ1bmN0aW9uIChvcGVuTm90Y2gpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0ZXIuaGFzT3V0bGluZSgpIHx8ICF0aGlzLmFkYXB0ZXIuaGFzTGFiZWwoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVuTm90Y2gpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbFdpZHRoID0gdGhpcy5hZGFwdGVyLmdldExhYmVsV2lkdGgoKSAqIG51bWJlcnMuTEFCRUxfU0NBTEU7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90Y2hPdXRsaW5lKGxhYmVsV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmNsb3NlT3V0bGluZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgdGhlIHRleHQgZmllbGQgZm9jdXMgc3RhdGUuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuYWN0aXZhdGVGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0eWxlRm9jdXNlZCh0aGlzLmlzRm9jdXNlZCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5hY3RpdmF0ZUxpbmVSaXBwbGUoKTtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5oYXNMYWJlbCgpKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGNoT3V0bGluZSh0aGlzLnNob3VsZEZsb2F0KTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5mbG9hdExhYmVsKHRoaXMuc2hvdWxkRmxvYXQpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUZsb2F0aW5nKHRoaXMuc2hvdWxkRmxvYXQpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNoYWtlTGFiZWwodGhpcy5zaG91bGRTaGFrZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGVscGVyVGV4dCAmJlxuICAgICAgICAgICAgKHRoaXMuaGVscGVyVGV4dC5pc1BlcnNpc3RlbnQoKSB8fCAhdGhpcy5oZWxwZXJUZXh0LmlzVmFsaWRhdGlvbigpIHx8XG4gICAgICAgICAgICAgICAgIXRoaXMudmFsaWQpKSB7XG4gICAgICAgICAgICB0aGlzLmhlbHBlclRleHQuc2hvd1RvU2NyZWVuUmVhZGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpbmUgcmlwcGxlJ3MgdHJhbnNmb3JtIG9yaWdpbiwgc28gdGhhdCB0aGUgbGluZSByaXBwbGUgYWN0aXZhdGVcbiAgICAgKiBhbmltYXRpb24gd2lsbCBhbmltYXRlIG91dCBmcm9tIHRoZSB1c2VyJ3MgY2xpY2sgbG9jYXRpb24uXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VHJhbnNmb3JtT3JpZ2luID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc2FibGVkKCkgfHwgdGhpcy5hZGFwdGVyLmhhc091dGxpbmUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3VjaGVzID0gZXZ0LnRvdWNoZXM7XG4gICAgICAgIHZhciB0YXJnZXRFdmVudCA9IHRvdWNoZXMgPyB0b3VjaGVzWzBdIDogZXZ0O1xuICAgICAgICB2YXIgdGFyZ2V0Q2xpZW50UmVjdCA9IHRhcmdldEV2ZW50LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRYID0gdGFyZ2V0RXZlbnQuY2xpZW50WCAtIHRhcmdldENsaWVudFJlY3QubGVmdDtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldExpbmVSaXBwbGVUcmFuc2Zvcm1PcmlnaW4obm9ybWFsaXplZFgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBpbnB1dCBjaGFuZ2Ugb2YgdGV4dCBpbnB1dCBhbmQgdGV4dCBhcmVhLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmF1dG9Db21wbGV0ZUZvY3VzKCk7XG4gICAgICAgIHRoaXMuc2V0Y2hhcmFjdGVyQ291bnRlcih0aGlzLmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyB0aGUgVGV4dCBGaWVsZCdzIGZvY3VzIHN0YXRlIGluIGNhc2VzIHdoZW4gdGhlIGlucHV0IHZhbHVlXG4gICAgICogY2hhbmdlcyB3aXRob3V0IHVzZXIgaW5wdXQgKGUuZy4gcHJvZ3JhbW1hdGljYWxseSkuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuYXV0b0NvbXBsZXRlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWNlaXZlZFVzZXJJbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGVzIHRoZSBUZXh0IEZpZWxkJ3MgZm9jdXMgc3RhdGUuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuZGVhY3RpdmF0ZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuZGVhY3RpdmF0ZUxpbmVSaXBwbGUoKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmlzVmFsaWQoKTtcbiAgICAgICAgdGhpcy5zdHlsZVZhbGlkaXR5KGlzVmFsaWQpO1xuICAgICAgICB0aGlzLnN0eWxlRm9jdXNlZCh0aGlzLmlzRm9jdXNlZCk7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaGFzTGFiZWwoKSkge1xuICAgICAgICAgICAgdGhpcy5ub3RjaE91dGxpbmUodGhpcy5zaG91bGRGbG9hdCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZmxvYXRMYWJlbCh0aGlzLnNob3VsZEZsb2F0KTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVGbG9hdGluZyh0aGlzLnNob3VsZEZsb2F0KTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zaGFrZUxhYmVsKHRoaXMuc2hvdWxkU2hha2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRGbG9hdCkge1xuICAgICAgICAgICAgdGhpcy5yZWNlaXZlZFVzZXJJbnB1dCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmF0aXZlSW5wdXQoKS52YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IG9uIHRoZSBpbnB1dCBFbGVtZW50LlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIFByZXZlbnQgU2FmYXJpIGZyb20gbW92aW5nIHRoZSBjYXJldCB0byB0aGUgZW5kIG9mIHRoZSBpbnB1dCB3aGVuIHRoZVxuICAgICAgICAvLyB2YWx1ZSBoYXMgbm90IGNoYW5nZWQuXG4gICAgICAgIGlmICh0aGlzLmdldFZhbHVlKCkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdldE5hdGl2ZUlucHV0KCkudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldGNoYXJhY3RlckNvdW50ZXIodmFsdWUubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVPblZhbHVlQ2hhbmdlKSB7XG4gICAgICAgICAgICB2YXIgaXNWYWxpZCA9IHRoaXMuaXNWYWxpZCgpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZVZhbGlkaXR5KGlzVmFsaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaGFzTGFiZWwoKSkge1xuICAgICAgICAgICAgdGhpcy5ub3RjaE91dGxpbmUodGhpcy5zaG91bGRGbG9hdCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZmxvYXRMYWJlbCh0aGlzLnNob3VsZEZsb2F0KTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVGbG9hdGluZyh0aGlzLnNob3VsZEZsb2F0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkYXRlT25WYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zaGFrZUxhYmVsKHRoaXMuc2hvdWxkU2hha2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFRoZSBjdXN0b20gdmFsaWRpdHkgc3RhdGUsIGlmIHNldDsgb3RoZXJ3aXNlLCB0aGUgcmVzdWx0IG9mIGFcbiAgICAgKiAgICAgbmF0aXZlIHZhbGlkaXR5IGNoZWNrLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZU5hdGl2ZVZhbGlkYXRpb24gPyB0aGlzLmlzTmF0aXZlSW5wdXRWYWxpZCgpIDogdGhpcy52YWxpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpc1ZhbGlkIFNldHMgdGhlIGN1c3RvbSB2YWxpZGl0eSBzdGF0ZSBvZiB0aGUgVGV4dCBGaWVsZC5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRWYWxpZCA9IGZ1bmN0aW9uIChpc1ZhbGlkKSB7XG4gICAgICAgIHRoaXMudmFsaWQgPSBpc1ZhbGlkO1xuICAgICAgICB0aGlzLnN0eWxlVmFsaWRpdHkoaXNWYWxpZCk7XG4gICAgICAgIHZhciBzaG91bGRTaGFrZSA9ICFpc1ZhbGlkICYmICF0aGlzLmlzRm9jdXNlZCAmJiAhIXRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5oYXNMYWJlbCgpKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2hha2VMYWJlbChzaG91bGRTaGFrZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzaG91bGRWYWxpZGF0ZSBXaGV0aGVyIG9yIG5vdCB2YWxpZGl0eSBzaG91bGQgYmUgdXBkYXRlZCBvblxuICAgICAqICAgICB2YWx1ZSBjaGFuZ2UuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VmFsaWRhdGVPblZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKHNob3VsZFZhbGlkYXRlKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVPblZhbHVlQ2hhbmdlID0gc2hvdWxkVmFsaWRhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgb3Igbm90IHZhbGlkaXR5IHNob3VsZCBiZSB1cGRhdGVkIG9uIHZhbHVlIGNoYW5nZS4gYHRydWVgXG4gICAgICogICAgIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0VmFsaWRhdGVPblZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZU9uVmFsdWVDaGFuZ2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSB1c2Ugb2YgbmF0aXZlIHZhbGlkYXRpb24uIFVzZSB0aGlzIGZvciBjdXN0b21cbiAgICAgKiB2YWxpZGF0aW9uLlxuICAgICAqIEBwYXJhbSB1c2VOYXRpdmVWYWxpZGF0aW9uIFNldCB0aGlzIHRvIGZhbHNlIHRvIGlnbm9yZSBuYXRpdmUgaW5wdXRcbiAgICAgKiAgICAgdmFsaWRhdGlvbi5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRVc2VOYXRpdmVWYWxpZGF0aW9uID0gZnVuY3Rpb24gKHVzZU5hdGl2ZVZhbGlkYXRpb24pIHtcbiAgICAgICAgdGhpcy51c2VOYXRpdmVWYWxpZGF0aW9uID0gdXNlTmF0aXZlVmFsaWRhdGlvbjtcbiAgICB9O1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5hdGl2ZUlucHV0KCkuZGlzYWJsZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGlzYWJsZWQgU2V0cyB0aGUgdGV4dC1maWVsZCBkaXNhYmxlZCBvciBlbmFibGVkLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24gKGRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZ2V0TmF0aXZlSW5wdXQoKS5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICB0aGlzLnN0eWxlRGlzYWJsZWQoZGlzYWJsZWQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnRlbnQgU2V0cyB0aGUgY29udGVudCBvZiB0aGUgaGVscGVyIHRleHQuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0SGVscGVyVGV4dENvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICBpZiAodGhpcy5oZWxwZXJUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmhlbHBlclRleHQuc2V0Q29udGVudChjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYXJpYSBsYWJlbCBvZiB0aGUgbGVhZGluZyBpY29uLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLnNldExlYWRpbmdJY29uQXJpYUxhYmVsID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIGlmICh0aGlzLmxlYWRpbmdJY29uKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRpbmdJY29uLnNldEFyaWFMYWJlbChsYWJlbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgbGVhZGluZyBpY29uLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLnNldExlYWRpbmdJY29uQ29udGVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmxlYWRpbmdJY29uKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRpbmdJY29uLnNldENvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFyaWEgbGFiZWwgb2YgdGhlIHRyYWlsaW5nIGljb24uXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VHJhaWxpbmdJY29uQXJpYUxhYmVsID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYWlsaW5nSWNvbikge1xuICAgICAgICAgICAgdGhpcy50cmFpbGluZ0ljb24uc2V0QXJpYUxhYmVsKGxhYmVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSB0cmFpbGluZyBpY29uLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFRyYWlsaW5nSWNvbkNvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICBpZiAodGhpcy50cmFpbGluZ0ljb24pIHtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdJY29uLnNldENvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgY2hhcmFjdGVyIGNvdW50ZXIgdmFsdWVzIHRoYXQgc2hvd3MgY2hhcmFjdGVycyB1c2VkIGFuZCB0aGUgdG90YWxcbiAgICAgKiBjaGFyYWN0ZXIgbGltaXQuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0Y2hhcmFjdGVyQ291bnRlciA9IGZ1bmN0aW9uIChjdXJyZW50TGVuZ3RoKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGFyYWN0ZXJDb3VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heExlbmd0aCA9IHRoaXMuZ2V0TmF0aXZlSW5wdXQoKS5tYXhMZW5ndGg7XG4gICAgICAgIGlmIChtYXhMZW5ndGggPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01EQ1RleHRGaWVsZEZvdW5kYXRpb246IEV4cGVjdGVkIG1heGxlbmd0aCBodG1sIHByb3BlcnR5IG9uIHRleHQgaW5wdXQgb3IgdGV4dGFyZWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudGVyLnNldENvdW50ZXJWYWx1ZShjdXJyZW50TGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBUZXh0IEZpZWxkIGlucHV0IGZhaWxzIGluIGNvbnZlcnRpbmcgdGhlIHVzZXItc3VwcGxpZWRcbiAgICAgKiAgICAgdmFsdWUuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuaXNCYWRJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhlIGJhZElucHV0IHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTEg8J+SqS5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmF0aXZlSW5wdXQoKS52YWxpZGl0eS5iYWRJbnB1dCB8fCBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gVGhlIHJlc3VsdCBvZiBuYXRpdmUgdmFsaWRpdHkgY2hlY2tpbmcgKFZhbGlkaXR5U3RhdGUudmFsaWQpLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLmlzTmF0aXZlSW5wdXRWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmF0aXZlSW5wdXQoKS52YWxpZGl0eS52YWxpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0eWxlcyB0aGUgY29tcG9uZW50IGJhc2VkIG9uIHRoZSB2YWxpZGl0eSBzdGF0ZS5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGRGb3VuZGF0aW9uLnByb3RvdHlwZS5zdHlsZVZhbGlkaXR5ID0gZnVuY3Rpb24gKGlzVmFsaWQpIHtcbiAgICAgICAgdmFyIElOVkFMSUQgPSBNRENUZXh0RmllbGRGb3VuZGF0aW9uLmNzc0NsYXNzZXMuSU5WQUxJRDtcbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhJTlZBTElEKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhJTlZBTElEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oZWxwZXJUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmhlbHBlclRleHQuc2V0VmFsaWRpdHkoaXNWYWxpZCk7XG4gICAgICAgICAgICAvLyBXZSBkeW5hbWljYWxseSBzZXQgb3IgdW5zZXQgYXJpYS1kZXNjcmliZWRieSBmb3IgdmFsaWRhdGlvbiBoZWxwZXIgdGV4dFxuICAgICAgICAgICAgLy8gb25seSwgYmFzZWQgb24gd2hldGhlciB0aGUgZmllbGQgaXMgdmFsaWRcbiAgICAgICAgICAgIHZhciBoZWxwZXJUZXh0VmFsaWRhdGlvbiA9IHRoaXMuaGVscGVyVGV4dC5pc1ZhbGlkYXRpb24oKTtcbiAgICAgICAgICAgIGlmICghaGVscGVyVGV4dFZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGVscGVyVGV4dFZpc2libGUgPSB0aGlzLmhlbHBlclRleHQuaXNWaXNpYmxlKCk7XG4gICAgICAgICAgICB2YXIgaGVscGVyVGV4dElkID0gdGhpcy5oZWxwZXJUZXh0LmdldElkKCk7XG4gICAgICAgICAgICBpZiAoaGVscGVyVGV4dFZpc2libGUgJiYgaGVscGVyVGV4dElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldElucHV0QXR0cihzdHJpbmdzLkFSSUFfREVTQ1JJQkVEQlksIGhlbHBlclRleHRJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlSW5wdXRBdHRyKHN0cmluZ3MuQVJJQV9ERVNDUklCRURCWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0eWxlcyB0aGUgY29tcG9uZW50IGJhc2VkIG9uIHRoZSBmb2N1c2VkIHN0YXRlLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLnN0eWxlRm9jdXNlZCA9IGZ1bmN0aW9uIChpc0ZvY3VzZWQpIHtcbiAgICAgICAgdmFyIEZPQ1VTRUQgPSBNRENUZXh0RmllbGRGb3VuZGF0aW9uLmNzc0NsYXNzZXMuRk9DVVNFRDtcbiAgICAgICAgaWYgKGlzRm9jdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKEZPQ1VTRUQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKEZPQ1VTRUQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHlsZXMgdGhlIGNvbXBvbmVudCBiYXNlZCBvbiB0aGUgZGlzYWJsZWQgc3RhdGUuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuc3R5bGVEaXNhYmxlZCA9IGZ1bmN0aW9uIChpc0Rpc2FibGVkKSB7XG4gICAgICAgIHZhciBfYSA9IE1EQ1RleHRGaWVsZEZvdW5kYXRpb24uY3NzQ2xhc3NlcywgRElTQUJMRUQgPSBfYS5ESVNBQkxFRCwgSU5WQUxJRCA9IF9hLklOVkFMSUQ7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoRElTQUJMRUQpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKElOVkFMSUQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKERJU0FCTEVEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZWFkaW5nSWNvbikge1xuICAgICAgICAgICAgdGhpcy5sZWFkaW5nSWNvbi5zZXREaXNhYmxlZChpc0Rpc2FibGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFpbGluZ0ljb24pIHtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdJY29uLnNldERpc2FibGVkKGlzRGlzYWJsZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHlsZXMgdGhlIGNvbXBvbmVudCBiYXNlZCBvbiB0aGUgbGFiZWwgZmxvYXRpbmcgc3RhdGUuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkRm91bmRhdGlvbi5wcm90b3R5cGUuc3R5bGVGbG9hdGluZyA9IGZ1bmN0aW9uIChpc0Zsb2F0aW5nKSB7XG4gICAgICAgIHZhciBMQUJFTF9GTE9BVElORyA9IE1EQ1RleHRGaWVsZEZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5MQUJFTF9GTE9BVElORztcbiAgICAgICAgaWYgKGlzRmxvYXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhMQUJFTF9GTE9BVElORyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTEFCRUxfRkxPQVRJTkcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFRoZSBuYXRpdmUgdGV4dCBpbnB1dCBlbGVtZW50IGZyb20gdGhlIGhvc3QgZW52aXJvbm1lbnQsIG9yIGFuXG4gICAgICogICAgIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGZvciB1bml0IHRlc3RzLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEZvdW5kYXRpb24ucHJvdG90eXBlLmdldE5hdGl2ZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0aGlzLmFkYXB0ZXIgbWF5IGJlIHVuZGVmaW5lZCBpbiBmb3VuZGF0aW9uIHVuaXQgdGVzdHMuIFRoaXMgaGFwcGVucyB3aGVuXG4gICAgICAgIC8vIHRlc3Rkb3VibGUgaXMgY3JlYXRpbmcgYSBtb2NrIG9iamVjdCBhbmQgaW52b2tlcyB0aGVcbiAgICAgICAgLy8gc2hvdWxkU2hha2Uvc2hvdWxkRmxvYXQgZ2V0dGVycyAod2hpY2ggaW4gdHVybiBjYWxsIGdldFZhbHVlKCksIHdoaWNoXG4gICAgICAgIC8vIGNhbGxzIHRoaXMgbWV0aG9kKSBiZWZvcmUgaW5pdCgpIGhhcyBiZWVuIGNhbGxlZCBmcm9tIHRoZSBNRENUZXh0RmllbGRcbiAgICAgICAgLy8gY29uc3RydWN0b3IuIFRvIHdvcmsgYXJvdW5kIHRoYXQgaXNzdWUsIHdlIHJldHVybiBhIGR1bW15IG9iamVjdC5cbiAgICAgICAgdmFyIG5hdGl2ZUlucHV0ID0gdGhpcy5hZGFwdGVyID8gdGhpcy5hZGFwdGVyLmdldE5hdGl2ZUlucHV0KCkgOiBudWxsO1xuICAgICAgICByZXR1cm4gbmF0aXZlSW5wdXQgfHwge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiAtMSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgICAgICB2YWxpZGl0eToge1xuICAgICAgICAgICAgICAgIGJhZElucHV0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gTURDVGV4dEZpZWxkRm91bmRhdGlvbjtcbn0oTURDRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDVGV4dEZpZWxkRm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ1RleHRGaWVsZEZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgSEVMUEVSX1RFWFRfUEVSU0lTVEVOVDogJ21kYy10ZXh0LWZpZWxkLWhlbHBlci10ZXh0LS1wZXJzaXN0ZW50JyxcbiAgICBIRUxQRVJfVEVYVF9WQUxJREFUSU9OX01TRzogJ21kYy10ZXh0LWZpZWxkLWhlbHBlci10ZXh0LS12YWxpZGF0aW9uLW1zZycsXG4gICAgUk9PVDogJ21kYy10ZXh0LWZpZWxkLWhlbHBlci10ZXh0Jyxcbn07XG52YXIgc3RyaW5ncyA9IHtcbiAgICBBUklBX0hJRERFTjogJ2FyaWEtaGlkZGVuJyxcbiAgICBST0xFOiAncm9sZScsXG4gICAgUk9PVF9TRUxFQ1RPUjogXCIuXCIgKyBjc3NDbGFzc2VzLlJPT1QsXG59O1xuZXhwb3J0IHsgc3RyaW5ncywgY3NzQ2xhc3NlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3Nlcywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDVGV4dEZpZWxkSGVscGVyVGV4dEZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDVGV4dEZpZWxkSGVscGVyVGV4dEZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ1RleHRGaWVsZEhlbHBlclRleHRBZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBnZXRBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICAgICAgICAgIHNldEF0dHI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0Q29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZ2V0QXR0cignaWQnKTtcbiAgICB9O1xuICAgIE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZ2V0QXR0cihzdHJpbmdzLkFSSUFfSElEREVOKSAhPT0gJ3RydWUnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY29udGVudCBvZiB0aGUgaGVscGVyIHRleHQgZmllbGQuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkSGVscGVyVGV4dEZvdW5kYXRpb24ucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0Q29udGVudChjb250ZW50KTtcbiAgICB9O1xuICAgIE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5pc1BlcnNpc3RlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9QRVJTSVNURU5UKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpc1BlcnNpc3RlbnQgU2V0cyB0aGUgcGVyc2lzdGVuY3kgb2YgdGhlIGhlbHBlciB0ZXh0LlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRQZXJzaXN0ZW50ID0gZnVuY3Rpb24gKGlzUGVyc2lzdGVudCkge1xuICAgICAgICBpZiAoaXNQZXJzaXN0ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9QRVJTSVNURU5UKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLkhFTFBFUl9URVhUX1BFUlNJU1RFTlQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHdoZXRoZXIgdGhlIGhlbHBlciB0ZXh0IGFjdHMgYXMgYW4gZXJyb3IgdmFsaWRhdGlvbiBtZXNzYWdlLlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5pc1ZhbGlkYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9WQUxJREFUSU9OX01TRyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaXNWYWxpZGF0aW9uIFRydWUgdG8gbWFrZSB0aGUgaGVscGVyIHRleHQgYWN0IGFzIGFuIGVycm9yIHZhbGlkYXRpb24gbWVzc2FnZS5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VmFsaWRhdGlvbiA9IGZ1bmN0aW9uIChpc1ZhbGlkYXRpb24pIHtcbiAgICAgICAgaWYgKGlzVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKGNzc0NsYXNzZXMuSEVMUEVSX1RFWFRfVkFMSURBVElPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuSEVMUEVSX1RFWFRfVkFMSURBVElPTl9NU0cpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlcyB0aGUgaGVscGVyIHRleHQgdmlzaWJsZSB0byB0aGUgc2NyZWVuIHJlYWRlci5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2hvd1RvU2NyZWVuUmVhZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQXR0cihzdHJpbmdzLkFSSUFfSElEREVOKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbGlkaXR5IG9mIHRoZSBoZWxwZXIgdGV4dCBiYXNlZCBvbiB0aGUgaW5wdXQgdmFsaWRpdHkuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkSGVscGVyVGV4dEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFZhbGlkaXR5ID0gZnVuY3Rpb24gKGlucHV0SXNWYWxpZCkge1xuICAgICAgICB2YXIgaGVscGVyVGV4dElzUGVyc2lzdGVudCA9IHRoaXMuYWRhcHRlci5oYXNDbGFzcyhjc3NDbGFzc2VzLkhFTFBFUl9URVhUX1BFUlNJU1RFTlQpO1xuICAgICAgICB2YXIgaGVscGVyVGV4dElzVmFsaWRhdGlvbk1zZyA9IHRoaXMuYWRhcHRlci5oYXNDbGFzcyhjc3NDbGFzc2VzLkhFTFBFUl9URVhUX1ZBTElEQVRJT05fTVNHKTtcbiAgICAgICAgdmFyIHZhbGlkYXRpb25Nc2dOZWVkc0Rpc3BsYXkgPSBoZWxwZXJUZXh0SXNWYWxpZGF0aW9uTXNnICYmICFpbnB1dElzVmFsaWQ7XG4gICAgICAgIGlmICh2YWxpZGF0aW9uTXNnTmVlZHNEaXNwbGF5KSB7XG4gICAgICAgICAgICB0aGlzLnNob3dUb1NjcmVlblJlYWRlcigpO1xuICAgICAgICAgICAgLy8gSWYgcm9sZSBpcyBhbHJlYWR5IGFsZXJ0LCByZWZyZXNoIGl0IHRvIHRyaWdnZXIgYW5vdGhlciBhbm5vdW5jZW1lbnRcbiAgICAgICAgICAgIC8vIGZyb20gc2NyZWVucmVhZGVyLlxuICAgICAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5nZXRBdHRyKHN0cmluZ3MuUk9MRSkgPT09ICdhbGVydCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hBbGVydFJvbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyKHN0cmluZ3MuUk9MRSwgJ2FsZXJ0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQXR0cihzdHJpbmdzLlJPTEUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGVscGVyVGV4dElzUGVyc2lzdGVudCAmJiAhdmFsaWRhdGlvbk1zZ05lZWRzRGlzcGxheSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBoZWxwIHRleHQgZnJvbSBzY3JlZW4gcmVhZGVycy5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbi5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHIoc3RyaW5ncy5BUklBX0hJRERFTiwgJ3RydWUnKTtcbiAgICB9O1xuICAgIE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5yZWZyZXNoQWxlcnRSb2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQXR0cihzdHJpbmdzLlJPTEUpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5zZXRBdHRyKHN0cmluZ3MuUk9MRSwgJ2FsZXJ0Jyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm91bmRhdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDQ29tcG9uZW50IH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uIH0gZnJvbSAnLi9mb3VuZGF0aW9uJztcbnZhciBNRENUZXh0RmllbGRIZWxwZXJUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENUZXh0RmllbGRIZWxwZXJUZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ1RleHRGaWVsZEhlbHBlclRleHQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTURDVGV4dEZpZWxkSGVscGVyVGV4dC5hdHRhY2hUbyA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgICAgIHJldHVybiBuZXcgTURDVGV4dEZpZWxkSGVscGVyVGV4dChyb290KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRIZWxwZXJUZXh0LnByb3RvdHlwZSwgXCJmb3VuZGF0aW9uRm9yVGV4dEZpZWxkXCIsIHtcbiAgICAgICAgLy8gUHJvdmlkZWQgZm9yIGFjY2VzcyBieSBNRENUZXh0RmllbGQgY29tcG9uZW50XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1RleHRGaWVsZEhlbHBlclRleHQucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHZhciBhZGFwdGVyID0ge1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBnZXRBdHRyOiBmdW5jdGlvbiAoYXR0cikgeyByZXR1cm4gX3RoaXMucm9vdC5nZXRBdHRyaWJ1dGUoYXR0cik7IH0sXG4gICAgICAgICAgICBzZXRBdHRyOiBmdW5jdGlvbiAoYXR0ciwgdmFsdWUpIHsgcmV0dXJuIF90aGlzLnJvb3Quc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTsgfSxcbiAgICAgICAgICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uIChhdHRyKSB7IHJldHVybiBfdGhpcy5yb290LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTsgfSxcbiAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucm9vdC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICByZXR1cm4gbmV3IE1EQ1RleHRGaWVsZEhlbHBlclRleHRGb3VuZGF0aW9uKGFkYXB0ZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ1RleHRGaWVsZEhlbHBlclRleHQ7XG59KE1EQ0NvbXBvbmVudCkpO1xuZXhwb3J0IHsgTURDVGV4dEZpZWxkSGVscGVyVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIHN0cmluZ3MgPSB7XG4gICAgSUNPTl9FVkVOVDogJ01EQ1RleHRGaWVsZDppY29uJyxcbiAgICBJQ09OX1JPTEU6ICdidXR0b24nLFxufTtcbnZhciBjc3NDbGFzc2VzID0ge1xuICAgIFJPT1Q6ICdtZGMtdGV4dC1maWVsZF9faWNvbicsXG59O1xuZXhwb3J0IHsgc3RyaW5ncywgY3NzQ2xhc3NlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcywgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IGNzc0NsYXNzZXMsIHN0cmluZ3MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG52YXIgSU5URVJBQ1RJT05fRVZFTlRTID0gWydjbGljaycsICdrZXlkb3duJ107XG52YXIgTURDVGV4dEZpZWxkSWNvbkZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNhdmVkVGFiSW5kZXggPSBudWxsO1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVJbnRlcmFjdGlvbihldnQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRJY29uRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRJY29uRm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGRJY29uRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ1RleHRGaWVsZEljb25BZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ2V0QXR0cjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBzZXRBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlJY29uQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdGhpcy5zYXZlZFRhYkluZGV4ID0gdGhpcy5hZGFwdGVyLmdldEF0dHIoJ3RhYmluZGV4Jyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBJTlRFUkFDVElPTl9FVkVOVFNfMSA9IF9fdmFsdWVzKElOVEVSQUNUSU9OX0VWRU5UUyksIElOVEVSQUNUSU9OX0VWRU5UU18xXzEgPSBJTlRFUkFDVElPTl9FVkVOVFNfMS5uZXh0KCk7ICFJTlRFUkFDVElPTl9FVkVOVFNfMV8xLmRvbmU7IElOVEVSQUNUSU9OX0VWRU5UU18xXzEgPSBJTlRFUkFDVElPTl9FVkVOVFNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZ0VHlwZSA9IElOVEVSQUNUSU9OX0VWRU5UU18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKElOVEVSQUNUSU9OX0VWRU5UU18xXzEgJiYgIUlOVEVSQUNUSU9OX0VWRU5UU18xXzEuZG9uZSAmJiAoX2EgPSBJTlRFUkFDVElPTl9FVkVOVFNfMS5yZXR1cm4pKSBfYS5jYWxsKElOVEVSQUNUSU9OX0VWRU5UU18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDVGV4dEZpZWxkSWNvbkZvdW5kYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzIsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgSU5URVJBQ1RJT05fRVZFTlRTXzIgPSBfX3ZhbHVlcyhJTlRFUkFDVElPTl9FVkVOVFMpLCBJTlRFUkFDVElPTl9FVkVOVFNfMl8xID0gSU5URVJBQ1RJT05fRVZFTlRTXzIubmV4dCgpOyAhSU5URVJBQ1RJT05fRVZFTlRTXzJfMS5kb25lOyBJTlRFUkFDVElPTl9FVkVOVFNfMl8xID0gSU5URVJBQ1RJT05fRVZFTlRTXzIubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2dFR5cGUgPSBJTlRFUkFDVElPTl9FVkVOVFNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKElOVEVSQUNUSU9OX0VWRU5UU18yXzEgJiYgIUlOVEVSQUNUSU9OX0VWRU5UU18yXzEuZG9uZSAmJiAoX2EgPSBJTlRFUkFDVElPTl9FVkVOVFNfMi5yZXR1cm4pKSBfYS5jYWxsKElOVEVSQUNUSU9OX0VWRU5UU18yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDVGV4dEZpZWxkSWNvbkZvdW5kYXRpb24ucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24gKGRpc2FibGVkKSB7XG4gICAgICAgIGlmICghdGhpcy5zYXZlZFRhYkluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVBdHRyKCdyb2xlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXR0cigndGFiaW5kZXgnLCB0aGlzLnNhdmVkVGFiSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHIoJ3JvbGUnLCBzdHJpbmdzLklDT05fUk9MRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRBcmlhTGFiZWwgPSBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHIoJ2FyaWEtbGFiZWwnLCBsYWJlbCk7XG4gICAgfTtcbiAgICBNRENUZXh0RmllbGRJY29uRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgIH07XG4gICAgTURDVGV4dEZpZWxkSWNvbkZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUludGVyYWN0aW9uID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgaXNFbnRlcktleSA9IGV2dC5rZXkgPT09ICdFbnRlcicgfHwgZXZ0LmtleUNvZGUgPT09IDEzO1xuICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICdjbGljaycgfHwgaXNFbnRlcktleSkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIHN0b3AgY2xpY2sgZnJvbSBjYXVzaW5nIGhvc3QgbGFiZWwgdG8gZm9jdXNcbiAgICAgICAgICAgIC8vIGlucHV0XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90aWZ5SWNvbkFjdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTURDVGV4dEZpZWxkSWNvbkZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDVGV4dEZpZWxkSWNvbkZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENDb21wb25lbnQgfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDVGV4dEZpZWxkSWNvbkZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xudmFyIE1EQ1RleHRGaWVsZEljb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ1RleHRGaWVsZEljb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDVGV4dEZpZWxkSWNvbigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBNRENUZXh0RmllbGRJY29uLmF0dGFjaFRvID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNRENUZXh0RmllbGRJY29uKHJvb3QpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZEljb24ucHJvdG90eXBlLCBcImZvdW5kYXRpb25Gb3JUZXh0RmllbGRcIiwge1xuICAgICAgICAvLyBQcm92aWRlZCBmb3IgYWNjZXNzIGJ5IE1EQ1RleHRGaWVsZCBjb21wb25lbnRcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDVGV4dEZpZWxkSWNvbi5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSB7XG4gICAgICAgICAgICBnZXRBdHRyOiBmdW5jdGlvbiAoYXR0cikgeyByZXR1cm4gX3RoaXMucm9vdC5nZXRBdHRyaWJ1dGUoYXR0cik7IH0sXG4gICAgICAgICAgICBzZXRBdHRyOiBmdW5jdGlvbiAoYXR0ciwgdmFsdWUpIHsgcmV0dXJuIF90aGlzLnJvb3Quc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTsgfSxcbiAgICAgICAgICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uIChhdHRyKSB7IHJldHVybiBfdGhpcy5yb290LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTsgfSxcbiAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucm9vdC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7IHJldHVybiBfdGhpcy5saXN0ZW4oZXZ0VHlwZSwgaGFuZGxlcik7IH0sXG4gICAgICAgICAgICBkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikgeyByZXR1cm4gX3RoaXMudW5saXN0ZW4oZXZ0VHlwZSwgaGFuZGxlcik7IH0sXG4gICAgICAgICAgICBub3RpZnlJY29uQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5lbWl0KE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uLnN0cmluZ3MuSUNPTl9FVkVOVCwge30gLyogZXZ0RGF0YSAqLywgdHJ1ZSAvKiBzaG91bGRCdWJibGUgKi8pOyB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICByZXR1cm4gbmV3IE1EQ1RleHRGaWVsZEljb25Gb3VuZGF0aW9uKGFkYXB0ZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ1RleHRGaWVsZEljb247XG59KE1EQ0NvbXBvbmVudCkpO1xuZXhwb3J0IHsgTURDVGV4dEZpZWxkSWNvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDQ29tcG9uZW50IH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IGFwcGx5UGFzc2l2ZSB9IGZyb20gJ0BtYXRlcmlhbC9kb20vZXZlbnRzJztcbmltcG9ydCAqIGFzIHBvbnlmaWxsIGZyb20gJ0BtYXRlcmlhbC9kb20vcG9ueWZpbGwnO1xuaW1wb3J0IHsgTURDRmxvYXRpbmdMYWJlbCB9IGZyb20gJ0BtYXRlcmlhbC9mbG9hdGluZy1sYWJlbC9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDTGluZVJpcHBsZSB9IGZyb20gJ0BtYXRlcmlhbC9saW5lLXJpcHBsZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDTm90Y2hlZE91dGxpbmUgfSBmcm9tICdAbWF0ZXJpYWwvbm90Y2hlZC1vdXRsaW5lL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENSaXBwbGUgfSBmcm9tICdAbWF0ZXJpYWwvcmlwcGxlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENSaXBwbGVGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL3JpcHBsZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IE1EQ1RleHRGaWVsZENoYXJhY3RlckNvdW50ZXIgfSBmcm9tICcuL2NoYXJhY3Rlci1jb3VudGVyL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbiB9IGZyb20gJy4vY2hhcmFjdGVyLWNvdW50ZXIvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTURDVGV4dEZpZWxkRm91bmRhdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbic7XG5pbXBvcnQgeyBNRENUZXh0RmllbGRIZWxwZXJUZXh0IH0gZnJvbSAnLi9oZWxwZXItdGV4dC9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDVGV4dEZpZWxkSGVscGVyVGV4dEZvdW5kYXRpb24gfSBmcm9tICcuL2hlbHBlci10ZXh0L2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgTURDVGV4dEZpZWxkSWNvbiB9IGZyb20gJy4vaWNvbi9jb21wb25lbnQnO1xudmFyIE1EQ1RleHRGaWVsZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDVGV4dEZpZWxkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ1RleHRGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBNRENUZXh0RmllbGQuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ1RleHRGaWVsZChyb290KTtcbiAgICB9O1xuICAgIE1EQ1RleHRGaWVsZC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChyaXBwbGVGYWN0b3J5LCBsaW5lUmlwcGxlRmFjdG9yeSwgaGVscGVyVGV4dEZhY3RvcnksIGNoYXJhY3RlckNvdW50ZXJGYWN0b3J5LCBpY29uRmFjdG9yeSwgbGFiZWxGYWN0b3J5LCBvdXRsaW5lRmFjdG9yeSkge1xuICAgICAgICBpZiAocmlwcGxlRmFjdG9yeSA9PT0gdm9pZCAwKSB7IHJpcHBsZUZhY3RvcnkgPSBmdW5jdGlvbiAoZWwsIGZvdW5kYXRpb24pIHsgcmV0dXJuIG5ldyBNRENSaXBwbGUoZWwsIGZvdW5kYXRpb24pOyB9OyB9XG4gICAgICAgIGlmIChsaW5lUmlwcGxlRmFjdG9yeSA9PT0gdm9pZCAwKSB7IGxpbmVSaXBwbGVGYWN0b3J5ID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBuZXcgTURDTGluZVJpcHBsZShlbCk7IH07IH1cbiAgICAgICAgaWYgKGhlbHBlclRleHRGYWN0b3J5ID09PSB2b2lkIDApIHsgaGVscGVyVGV4dEZhY3RvcnkgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTURDVGV4dEZpZWxkSGVscGVyVGV4dChlbCk7XG4gICAgICAgIH07IH1cbiAgICAgICAgaWYgKGNoYXJhY3RlckNvdW50ZXJGYWN0b3J5ID09PSB2b2lkIDApIHsgY2hhcmFjdGVyQ291bnRlckZhY3RvcnkgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTURDVGV4dEZpZWxkQ2hhcmFjdGVyQ291bnRlcihlbCk7XG4gICAgICAgIH07IH1cbiAgICAgICAgaWYgKGljb25GYWN0b3J5ID09PSB2b2lkIDApIHsgaWNvbkZhY3RvcnkgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIG5ldyBNRENUZXh0RmllbGRJY29uKGVsKTsgfTsgfVxuICAgICAgICBpZiAobGFiZWxGYWN0b3J5ID09PSB2b2lkIDApIHsgbGFiZWxGYWN0b3J5ID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBuZXcgTURDRmxvYXRpbmdMYWJlbChlbCk7IH07IH1cbiAgICAgICAgaWYgKG91dGxpbmVGYWN0b3J5ID09PSB2b2lkIDApIHsgb3V0bGluZUZhY3RvcnkgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIG5ldyBNRENOb3RjaGVkT3V0bGluZShlbCk7IH07IH1cbiAgICAgICAgdGhpcy5pbnB1dCA9XG4gICAgICAgICAgICB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLklOUFVUX1NFTEVDVE9SKTtcbiAgICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKHN0cmluZ3MuTEFCRUxfU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWxFbGVtZW50ID8gbGFiZWxGYWN0b3J5KGxhYmVsRWxlbWVudCkgOiBudWxsO1xuICAgICAgICB2YXIgbGluZVJpcHBsZUVsZW1lbnQgPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLkxJTkVfUklQUExFX1NFTEVDVE9SKTtcbiAgICAgICAgdGhpcy5saW5lUmlwcGxlID1cbiAgICAgICAgICAgIGxpbmVSaXBwbGVFbGVtZW50ID8gbGluZVJpcHBsZUZhY3RvcnkobGluZVJpcHBsZUVsZW1lbnQpIDogbnVsbDtcbiAgICAgICAgdmFyIG91dGxpbmVFbGVtZW50ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5PVVRMSU5FX1NFTEVDVE9SKTtcbiAgICAgICAgdGhpcy5vdXRsaW5lID0gb3V0bGluZUVsZW1lbnQgPyBvdXRsaW5lRmFjdG9yeShvdXRsaW5lRWxlbWVudCkgOiBudWxsO1xuICAgICAgICAvLyBIZWxwZXIgdGV4dFxuICAgICAgICB2YXIgaGVscGVyVGV4dFN0cmluZ3MgPSBNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbi5zdHJpbmdzO1xuICAgICAgICB2YXIgbmV4dEVsZW1lbnRTaWJsaW5nID0gdGhpcy5yb290Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgdmFyIGhhc0hlbHBlckxpbmUgPSAobmV4dEVsZW1lbnRTaWJsaW5nICYmIG5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoY3NzQ2xhc3Nlcy5IRUxQRVJfTElORSkpO1xuICAgICAgICB2YXIgaGVscGVyVGV4dEVsID0gaGFzSGVscGVyTGluZSAmJiBuZXh0RWxlbWVudFNpYmxpbmcgJiYgbmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoaGVscGVyVGV4dFN0cmluZ3MuUk9PVF9TRUxFQ1RPUik7XG4gICAgICAgIHRoaXMuaGVscGVyVGV4dCA9IGhlbHBlclRleHRFbCA/IGhlbHBlclRleHRGYWN0b3J5KGhlbHBlclRleHRFbCkgOiBudWxsO1xuICAgICAgICAvLyBDaGFyYWN0ZXIgY291bnRlclxuICAgICAgICB2YXIgY2hhcmFjdGVyQ291bnRlclN0cmluZ3MgPSBNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbi5zdHJpbmdzO1xuICAgICAgICB2YXIgY2hhcmFjdGVyQ291bnRlckVsID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoY2hhcmFjdGVyQ291bnRlclN0cmluZ3MuUk9PVF9TRUxFQ1RPUik7XG4gICAgICAgIC8vIElmIGNoYXJhY3RlciBjb3VudGVyIGlzIG5vdCBmb3VuZCBpbiByb290IGVsZW1lbnQgc2VhcmNoIGluIHNpYmxpbmcgZWxlbWVudC5cbiAgICAgICAgaWYgKCFjaGFyYWN0ZXJDb3VudGVyRWwgJiYgaGFzSGVscGVyTGluZSAmJiBuZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGNoYXJhY3RlckNvdW50ZXJFbCA9IG5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKGNoYXJhY3RlckNvdW50ZXJTdHJpbmdzLlJPT1RfU0VMRUNUT1IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhcmFjdGVyQ291bnRlciA9XG4gICAgICAgICAgICBjaGFyYWN0ZXJDb3VudGVyRWwgPyBjaGFyYWN0ZXJDb3VudGVyRmFjdG9yeShjaGFyYWN0ZXJDb3VudGVyRWwpIDogbnVsbDtcbiAgICAgICAgLy8gTGVhZGluZyBpY29uXG4gICAgICAgIHZhciBsZWFkaW5nSWNvbkVsID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5MRUFESU5HX0lDT05fU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLmxlYWRpbmdJY29uID0gbGVhZGluZ0ljb25FbCA/IGljb25GYWN0b3J5KGxlYWRpbmdJY29uRWwpIDogbnVsbDtcbiAgICAgICAgLy8gVHJhaWxpbmcgaWNvblxuICAgICAgICB2YXIgdHJhaWxpbmdJY29uRWwgPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLlRSQUlMSU5HX0lDT05fU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLnRyYWlsaW5nSWNvbiA9IHRyYWlsaW5nSWNvbkVsID8gaWNvbkZhY3RvcnkodHJhaWxpbmdJY29uRWwpIDogbnVsbDtcbiAgICAgICAgLy8gUHJlZml4IGFuZCBTdWZmaXhcbiAgICAgICAgdGhpcy5wcmVmaXggPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLlBSRUZJWF9TRUxFQ1RPUik7XG4gICAgICAgIHRoaXMuc3VmZml4ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5TVUZGSVhfU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLnJpcHBsZSA9IHRoaXMuY3JlYXRlUmlwcGxlKHJpcHBsZUZhY3RvcnkpO1xuICAgIH07XG4gICAgTURDVGV4dEZpZWxkLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yaXBwbGUpIHtcbiAgICAgICAgICAgIHRoaXMucmlwcGxlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5saW5lUmlwcGxlKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVSaXBwbGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlbHBlclRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVscGVyVGV4dC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ291bnRlcikge1xuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZWFkaW5nSWNvbikge1xuICAgICAgICAgICAgdGhpcy5sZWFkaW5nSWNvbi5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhaWxpbmdJY29uKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWlsaW5nSWNvbi5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dGxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGluZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgVGV4dCBGaWVsZCdzIGludGVybmFsIHN0YXRlIGJhc2VkIG9uIHRoZSBlbnZpcm9ubWVudCdzXG4gICAgICogc3RhdGUuXG4gICAgICovXG4gICAgTURDVGV4dEZpZWxkLnByb3RvdHlwZS5pbml0aWFsU3luY1dpdGhET00gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLmlucHV0LmRpc2FibGVkO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24uZ2V0VmFsdWUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IG9uIHRoZSBpbnB1dC5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZC5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24uaXNEaXNhYmxlZCgpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIGRpc2FibGVkIFNldHMgdGhlIFRleHQgRmllbGQgZGlzYWJsZWQgb3IgZW5hYmxlZC5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0RGlzYWJsZWQoZGlzYWJsZWQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZC5wcm90b3R5cGUsIFwidmFsaWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24uaXNWYWxpZCgpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHZhbGlkIFNldHMgdGhlIFRleHQgRmllbGQgdmFsaWQgb3IgaW52YWxpZC5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VmFsaWQodmFsaWQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZC5wcm90b3R5cGUsIFwicmVxdWlyZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0LnJlcXVpcmVkO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHJlcXVpcmVkIFNldHMgdGhlIFRleHQgRmllbGQgdG8gcmVxdWlyZWQuXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyZXF1aXJlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5yZXF1aXJlZCA9IHJlcXVpcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZC5wcm90b3R5cGUsIFwicGF0dGVyblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQucGF0dGVybjtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBwYXR0ZXJuIFNldHMgdGhlIGlucHV0IGVsZW1lbnQncyB2YWxpZGF0aW9uIHBhdHRlcm4uXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZC5wcm90b3R5cGUsIFwibWluTGVuZ3RoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5taW5MZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gbWluTGVuZ3RoIFNldHMgdGhlIGlucHV0IGVsZW1lbnQncyBtaW5MZW5ndGguXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtaW5MZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQubWluTGVuZ3RoID0gbWluTGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RleHRGaWVsZC5wcm90b3R5cGUsIFwibWF4TGVuZ3RoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5tYXhMZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gbWF4TGVuZ3RoIFNldHMgdGhlIGlucHV0IGVsZW1lbnQncyBtYXhMZW5ndGguXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIENocm9tZSB0aHJvd3MgZXhjZXB0aW9uIGlmIG1heExlbmd0aCBpcyBzZXQgdG8gYSB2YWx1ZSBsZXNzIHRoYW4gemVyb1xuICAgICAgICAgICAgaWYgKG1heExlbmd0aCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnbWF4TGVuZ3RoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0Lm1heExlbmd0aCA9IG1heExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGQucHJvdG90eXBlLCBcIm1pblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQubWluO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIG1pbiBTZXRzIHRoZSBpbnB1dCBlbGVtZW50J3MgbWluLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobWluKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0Lm1pbiA9IG1pbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGQucHJvdG90eXBlLCBcIm1heFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQubWF4O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIG1heCBTZXRzIHRoZSBpbnB1dCBlbGVtZW50J3MgbWF4LlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobWF4KSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0Lm1heCA9IG1heDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGQucHJvdG90eXBlLCBcInN0ZXBcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0LnN0ZXA7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gc3RlcCBTZXRzIHRoZSBpbnB1dCBlbGVtZW50J3Mgc3RlcC5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0ZXApIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc3RlcCA9IHN0ZXA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkLnByb3RvdHlwZSwgXCJoZWxwZXJUZXh0Q29udGVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBoZWxwZXIgdGV4dCBlbGVtZW50IGNvbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0SGVscGVyVGV4dENvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkLnByb3RvdHlwZSwgXCJsZWFkaW5nSWNvbkFyaWFMYWJlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBhcmlhIGxhYmVsIG9mIHRoZSBsZWFkaW5nIGljb24uXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldExlYWRpbmdJY29uQXJpYUxhYmVsKGxhYmVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGQucHJvdG90eXBlLCBcImxlYWRpbmdJY29uQ29udGVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIGxlYWRpbmcgaWNvbi5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRMZWFkaW5nSWNvbkNvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkLnByb3RvdHlwZSwgXCJ0cmFpbGluZ0ljb25BcmlhTGFiZWxcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYXJpYSBsYWJlbCBvZiB0aGUgdHJhaWxpbmcgaWNvbi5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VHJhaWxpbmdJY29uQXJpYUxhYmVsKGxhYmVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGQucHJvdG90eXBlLCBcInRyYWlsaW5nSWNvbkNvbnRlbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSB0cmFpbGluZyBpY29uLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldFRyYWlsaW5nSWNvbkNvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkLnByb3RvdHlwZSwgXCJ1c2VOYXRpdmVWYWxpZGF0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHVzZSBvZiBuYXRpdmUgdmFsaWRhdGlvbi4gVXNlIHRoaXMgZm9yIGN1c3RvbSB2YWxpZGF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0gdXNlTmF0aXZlVmFsaWRhdGlvbiBTZXQgdGhpcyB0byBmYWxzZSB0byBpZ25vcmUgbmF0aXZlIGlucHV0IHZhbGlkYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VOYXRpdmVWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VXNlTmF0aXZlVmFsaWRhdGlvbih1c2VOYXRpdmVWYWxpZGF0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUZXh0RmllbGQucHJvdG90eXBlLCBcInByZWZpeFRleHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBwcmVmaXgsIG9yIG51bGwgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWZpeCA/IHRoaXMucHJlZml4LnRleHRDb250ZW50IDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgcHJlZml4LCBpZiBpdCBleGlzdHMuXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwcmVmaXhUZXh0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmVmaXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZWZpeC50ZXh0Q29udGVudCA9IHByZWZpeFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVGV4dEZpZWxkLnByb3RvdHlwZSwgXCJzdWZmaXhUZXh0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgc3VmZml4LCBvciBudWxsIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWZmaXggPyB0aGlzLnN1ZmZpeC50ZXh0Q29udGVudCA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHN1ZmZpeCwgaWYgaXQgZXhpc3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3VmZml4VGV4dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VmZml4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWZmaXgudGV4dENvbnRlbnQgPSBzdWZmaXhUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRm9jdXNlcyB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGQucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNvbXB1dGVzIHRoZSBvdXRsaW5lIFNWRyBwYXRoIGZvciB0aGUgb3V0bGluZSBlbGVtZW50LlxuICAgICAqL1xuICAgIE1EQ1RleHRGaWVsZC5wcm90b3R5cGUubGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3Blbk5vdGNoID0gdGhpcy5mb3VuZGF0aW9uLnNob3VsZEZsb2F0O1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24ubm90Y2hPdXRsaW5lKG9wZW5Ob3RjaCk7XG4gICAgfTtcbiAgICBNRENUZXh0RmllbGQucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHZhciBhZGFwdGVyID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuZ2V0Um9vdEFkYXB0ZXJNZXRob2RzKCkpLCB0aGlzLmdldElucHV0QWRhcHRlck1ldGhvZHMoKSksIHRoaXMuZ2V0TGFiZWxBZGFwdGVyTWV0aG9kcygpKSwgdGhpcy5nZXRMaW5lUmlwcGxlQWRhcHRlck1ldGhvZHMoKSksIHRoaXMuZ2V0T3V0bGluZUFkYXB0ZXJNZXRob2RzKCkpO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICByZXR1cm4gbmV3IE1EQ1RleHRGaWVsZEZvdW5kYXRpb24oYWRhcHRlciwgdGhpcy5nZXRGb3VuZGF0aW9uTWFwKCkpO1xuICAgIH07XG4gICAgTURDVGV4dEZpZWxkLnByb3RvdHlwZS5nZXRSb290QWRhcHRlck1ldGhvZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyVGV4dEZpZWxkSW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxpc3RlbihldnRUeXBlLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXJlZ2lzdGVyVGV4dEZpZWxkSW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnVubGlzdGVuKGV2dFR5cGUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyVmFsaWRhdGlvbkF0dHJpYnV0ZUNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldEF0dHJpYnV0ZXNMaXN0ID0gZnVuY3Rpb24gKG11dGF0aW9uc0xpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG11dGF0aW9uc0xpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG11dGF0aW9uKSB7IHJldHVybiBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkgeyByZXR1cm4gYXR0cmlidXRlTmFtZTsgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zTGlzdCkgeyByZXR1cm4gaGFuZGxlcihnZXRBdHRyaWJ1dGVzTGlzdChtdXRhdGlvbnNMaXN0KSk7IH0pO1xuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUgfTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKF90aGlzLmlucHV0LCBjb25maWcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXJlZ2lzdGVyVmFsaWRhdGlvbkF0dHJpYnV0ZUNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgfTtcbiAgICBNRENUZXh0RmllbGQucHJvdG90eXBlLmdldElucHV0QWRhcHRlck1ldGhvZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXROYXRpdmVJbnB1dDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuaW5wdXQ7IH0sXG4gICAgICAgICAgICBzZXRJbnB1dEF0dHI6IGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmlucHV0LnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlSW5wdXRBdHRyOiBmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgICAgIF90aGlzLmlucHV0LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0ZvY3VzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IF90aGlzLmlucHV0OyB9LFxuICAgICAgICAgICAgcmVnaXN0ZXJJbnB1dEludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKGV2dFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIsIGFwcGx5UGFzc2l2ZSgpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXJlZ2lzdGVySW5wdXRJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBoYW5kbGVyLCBhcHBseVBhc3NpdmUoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgIH07XG4gICAgTURDVGV4dEZpZWxkLnByb3RvdHlwZS5nZXRMYWJlbEFkYXB0ZXJNZXRob2RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmxvYXRMYWJlbDogZnVuY3Rpb24gKHNob3VsZEZsb2F0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubGFiZWwgJiYgX3RoaXMubGFiZWwuZmxvYXQoc2hvdWxkRmxvYXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldExhYmVsV2lkdGg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmxhYmVsID8gX3RoaXMubGFiZWwuZ2V0V2lkdGgoKSA6IDA7IH0sXG4gICAgICAgICAgICBoYXNMYWJlbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQm9vbGVhbihfdGhpcy5sYWJlbCk7IH0sXG4gICAgICAgICAgICBzaGFrZUxhYmVsOiBmdW5jdGlvbiAoc2hvdWxkU2hha2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sYWJlbCAmJiBfdGhpcy5sYWJlbC5zaGFrZShzaG91bGRTaGFrZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0TGFiZWxSZXF1aXJlZDogZnVuY3Rpb24gKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sYWJlbCAmJiBfdGhpcy5sYWJlbC5zZXRSZXF1aXJlZChpc1JlcXVpcmVkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNRENUZXh0RmllbGQucHJvdG90eXBlLmdldExpbmVSaXBwbGVBZGFwdGVyTWV0aG9kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGl2YXRlTGluZVJpcHBsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5saW5lUmlwcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxpbmVSaXBwbGUuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVhY3RpdmF0ZUxpbmVSaXBwbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMubGluZVJpcHBsZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5saW5lUmlwcGxlLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0TGluZVJpcHBsZVRyYW5zZm9ybU9yaWdpbjogZnVuY3Rpb24gKG5vcm1hbGl6ZWRYKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmxpbmVSaXBwbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGluZVJpcHBsZS5zZXRSaXBwbGVDZW50ZXIobm9ybWFsaXplZFgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNRENUZXh0RmllbGQucHJvdG90eXBlLmdldE91dGxpbmVBZGFwdGVyTWV0aG9kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsb3NlT3V0bGluZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm91dGxpbmUgJiYgX3RoaXMub3V0bGluZS5jbG9zZU5vdGNoKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzT3V0bGluZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gQm9vbGVhbihfdGhpcy5vdXRsaW5lKTsgfSxcbiAgICAgICAgICAgIG5vdGNoT3V0bGluZTogZnVuY3Rpb24gKGxhYmVsV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vdXRsaW5lICYmIF90aGlzLm91dGxpbmUubm90Y2gobGFiZWxXaWR0aCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBBIG1hcCBvZiBhbGwgc3ViY29tcG9uZW50cyB0byBzdWJmb3VuZGF0aW9ucy5cbiAgICAgKi9cbiAgICBNRENUZXh0RmllbGQucHJvdG90eXBlLmdldEZvdW5kYXRpb25NYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJDb3VudGVyOiB0aGlzLmNoYXJhY3RlckNvdW50ZXIgP1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ291bnRlci5mb3VuZGF0aW9uRm9yVGV4dEZpZWxkIDpcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBoZWxwZXJUZXh0OiB0aGlzLmhlbHBlclRleHQgPyB0aGlzLmhlbHBlclRleHQuZm91bmRhdGlvbkZvclRleHRGaWVsZCA6XG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGVhZGluZ0ljb246IHRoaXMubGVhZGluZ0ljb24gPyB0aGlzLmxlYWRpbmdJY29uLmZvdW5kYXRpb25Gb3JUZXh0RmllbGQgOlxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRyYWlsaW5nSWNvbjogdGhpcy50cmFpbGluZ0ljb24gP1xuICAgICAgICAgICAgICAgIHRoaXMudHJhaWxpbmdJY29uLmZvdW5kYXRpb25Gb3JUZXh0RmllbGQgOlxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIE1EQ1RleHRGaWVsZC5wcm90b3R5cGUuY3JlYXRlUmlwcGxlID0gZnVuY3Rpb24gKHJpcHBsZUZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGlzVGV4dEFyZWEgPSB0aGlzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNzc0NsYXNzZXMuVEVYVEFSRUEpO1xuICAgICAgICB2YXIgaXNPdXRsaW5lZCA9IHRoaXMucm9vdC5jbGFzc0xpc3QuY29udGFpbnMoY3NzQ2xhc3Nlcy5PVVRMSU5FRCk7XG4gICAgICAgIGlmIChpc1RleHRBcmVhIHx8IGlzT3V0bGluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgTURDUmlwcGxlLmNyZWF0ZUFkYXB0ZXIodGhpcykpLCB7IGlzU3VyZmFjZUFjdGl2ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcG9ueWZpbGwubWF0Y2hlcyhfdGhpcy5pbnB1dCwgJzphY3RpdmUnKTsgfSwgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBoYW5kbGVyLCBhcHBseVBhc3NpdmUoKSk7XG4gICAgICAgICAgICB9LCBkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgYXBwbHlQYXNzaXZlKCkpO1xuICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgcmV0dXJuIHJpcHBsZUZhY3RvcnkodGhpcy5yb290LCBuZXcgTURDUmlwcGxlRm91bmRhdGlvbihhZGFwdGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDVGV4dEZpZWxkO1xufShNRENDb21wb25lbnQpKTtcbmV4cG9ydCB7IE1EQ1RleHRGaWVsZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcCIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB7IE1EQ1RleHRGaWVsZCB9IGZyb20gXCJAbWF0ZXJpYWwvdGV4dGZpZWxkXCI7XG4gIGltcG9ydCB7IG9uTW91bnQsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCJzdmVsdGVcIjtcbiAgaW1wb3J0IFwiLi4vLi4vc3R5bGVzL2lucHV0LnNjc3NcIjtcblxuICBleHBvcnQgbGV0IGlkID0gXCJcIjtcbiAgZXhwb3J0IGxldCBsYWJlbCA9IFwiXCI7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuICBvbk1vdW50KCgpID0+IHtcbiAgICBjb25zdCB0ZXh0RmllbGQgPSBuZXcgTURDVGV4dEZpZWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfWApKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gdmFsdWVDaGFuZ2VkKGUpIHtcbiAgICBsZXQgbmV3VmFsdWUgPSBlLnNyY0VsZW1lbnQudmFsdWU7XG4gICAgZGlzcGF0Y2goXCJ2YWx1ZUNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IG5ld1ZhbHVlLFxuICAgIH0pO1xuICB9XG48L3NjcmlwdD5cblxuPGxhYmVsIHtpZH0gY2xhc3M9XCJtZGMtdGV4dC1maWVsZCBtZGMtdGV4dC1maWVsZC0tb3V0bGluZWRcIj5cbiAgPHNwYW4gY2xhc3M9XCJtZGMtbm90Y2hlZC1vdXRsaW5lXCI+XG4gICAgPHNwYW4gY2xhc3M9XCJtZGMtbm90Y2hlZC1vdXRsaW5lX19sZWFkaW5nXCIgLz5cbiAgICA8c3BhbiBjbGFzcz1cIm1kYy1ub3RjaGVkLW91dGxpbmVfX25vdGNoXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cIm1kYy1mbG9hdGluZy1sYWJlbFwiIGlkPXtgJHtpZH0tZmllbGQtbGFiZWxgfT57bGFiZWx9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz1cIm1kYy1ub3RjaGVkLW91dGxpbmVfX3RyYWlsaW5nXCIgLz5cbiAgPC9zcGFuPlxuICA8aW5wdXRcbiAgICB0eXBlPVwidGV4dFwiXG4gICAgY2xhc3M9XCJtZGMtdGV4dC1maWVsZF9faW5wdXRcIlxuICAgIGFyaWEtbGFiZWxsZWRieT17YCR7aWR9LWZpZWxkLWxhYmVsYH1cbiAgICBvbjppbnB1dD17dmFsdWVDaGFuZ2VkfVxuICAvPlxuPC9sYWJlbD5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB7IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgaW1wb3J0IHsgTURDUmlwcGxlIH0gZnJvbSBcIkBtYXRlcmlhbC9yaXBwbGVcIjtcbiAgaW1wb3J0IFwiLi4vLi4vc3R5bGVzL2J1dHRvbi5zY3NzXCI7XG5cbiAgZXhwb3J0IGxldCBsYWJlbCA9IFwiXCI7XG4gIGV4cG9ydCBsZXQgZGlzYWJsZWQgPSBmYWxzZTtcbiAgZXhwb3J0IGxldCB0aGVtZSA9IFwibWRjLWJ1dHRvbi0tcmFpc2VkXCI7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuICBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICBkaXNwYXRjaChcImNsaWNrXCIsIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQ6IGUuY3VycmVudFRhcmdldCxcbiAgICB9KTtcbiAgfVxuXG4gIG9uTW91bnQoKCkgPT4ge1xuICAgIGNvbnN0IGJ1dHRvblJpcHBsZSA9IG5ldyBNRENSaXBwbGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZGMtYnV0dG9uXCIpKTtcbiAgfSk7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cIm1kYy10b3VjaC10YXJnZXQtd3JhcHBlclwiPlxuICA8YnV0dG9uXG4gICAgY2xhc3M9e2BmYy1idXR0b24gbWRjLWJ1dHRvbiBtZGMtYnV0dG9uLS10b3VjaCAke3RoZW1lfWB9XG4gICAge2Rpc2FibGVkfVxuICAgIG9uOmNsaWNrPXtvbkNsaWNrfVxuICA+XG4gICAgPHNwYW4gY2xhc3M9XCJtZGMtYnV0dG9uX19yaXBwbGVcIiAvPlxuICAgIDxzcGFuIGNsYXNzPVwibWRjLWJ1dHRvbl9fdG91Y2hcIiAvPlxuICAgIDxzcGFuIGNsYXNzPVwibWRjLWJ1dHRvbl9fbGFiZWxcIj57bGFiZWx9PC9zcGFuPlxuICA8L2J1dHRvbj5cbjwvZGl2PlxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICBBTkNIT1I6ICdtZGMtbWVudS1zdXJmYWNlLS1hbmNob3InLFxuICAgIEFOSU1BVElOR19DTE9TRUQ6ICdtZGMtbWVudS1zdXJmYWNlLS1hbmltYXRpbmctY2xvc2VkJyxcbiAgICBBTklNQVRJTkdfT1BFTjogJ21kYy1tZW51LXN1cmZhY2UtLWFuaW1hdGluZy1vcGVuJyxcbiAgICBGSVhFRDogJ21kYy1tZW51LXN1cmZhY2UtLWZpeGVkJyxcbiAgICBJU19PUEVOX0JFTE9XOiAnbWRjLW1lbnUtc3VyZmFjZS0taXMtb3Blbi1iZWxvdycsXG4gICAgT1BFTjogJ21kYy1tZW51LXN1cmZhY2UtLW9wZW4nLFxuICAgIFJPT1Q6ICdtZGMtbWVudS1zdXJmYWNlJyxcbn07XG4vLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbnZhciBzdHJpbmdzID0ge1xuICAgIENMT1NFRF9FVkVOVDogJ01EQ01lbnVTdXJmYWNlOmNsb3NlZCcsXG4gICAgQ0xPU0lOR19FVkVOVDogJ01EQ01lbnVTdXJmYWNlOmNsb3NpbmcnLFxuICAgIE9QRU5FRF9FVkVOVDogJ01EQ01lbnVTdXJmYWNlOm9wZW5lZCcsXG4gICAgT1BFTklOR19FVkVOVDogJ01EQ01lbnVTdXJmYWNlOm9wZW5pbmcnLFxuICAgIEZPQ1VTQUJMRV9FTEVNRU5UUzogW1xuICAgICAgICAnYnV0dG9uOm5vdCg6ZGlzYWJsZWQpJyxcbiAgICAgICAgJ1tocmVmXTpub3QoW2FyaWEtZGlzYWJsZWQ9XCJ0cnVlXCJdKScsXG4gICAgICAgICdpbnB1dDpub3QoOmRpc2FibGVkKScsXG4gICAgICAgICdzZWxlY3Q6bm90KDpkaXNhYmxlZCknLFxuICAgICAgICAndGV4dGFyZWE6bm90KDpkaXNhYmxlZCknLFxuICAgICAgICAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pOm5vdChbYXJpYS1kaXNhYmxlZD1cInRydWVcIl0pJyxcbiAgICBdLmpvaW4oJywgJyksXG59O1xuLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbnZhciBudW1iZXJzID0ge1xuICAgIC8qKiBUb3RhbCBkdXJhdGlvbiBvZiBtZW51LXN1cmZhY2Ugb3BlbiBhbmltYXRpb24uICovXG4gICAgVFJBTlNJVElPTl9PUEVOX0RVUkFUSU9OOiAxMjAsXG4gICAgLyoqIFRvdGFsIGR1cmF0aW9uIG9mIG1lbnUtc3VyZmFjZSBjbG9zZSBhbmltYXRpb24uICovXG4gICAgVFJBTlNJVElPTl9DTE9TRV9EVVJBVElPTjogNzUsXG4gICAgLyoqXG4gICAgICogTWFyZ2luIGxlZnQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHZpZXdwb3J0IHdoZW4gbWVudS1zdXJmYWNlIGlzIGF0IG1heGltdW1cbiAgICAgKiBwb3NzaWJsZSBoZWlnaHQuIEFsc28gdXNlZCBhcyBhIHZpZXdwb3J0IG1hcmdpbi5cbiAgICAgKi9cbiAgICBNQVJHSU5fVE9fRURHRTogMzIsXG4gICAgLyoqXG4gICAgICogUmF0aW8gb2YgYW5jaG9yIHdpZHRoIHRvIG1lbnUtc3VyZmFjZSB3aWR0aCBmb3Igc3dpdGNoaW5nIGZyb20gY29ybmVyXG4gICAgICogcG9zaXRpb25pbmcgdG8gY2VudGVyIHBvc2l0aW9uaW5nLlxuICAgICAqL1xuICAgIEFOQ0hPUl9UT19NRU5VX1NVUkZBQ0VfV0lEVEhfUkFUSU86IDAuNjcsXG4gICAgLyoqXG4gICAgICogQW1vdW50IG9mIHRpbWUgdG8gd2FpdCBiZWZvcmUgcmVzdG9yaW5nIGZvY3VzIHdoZW4gY2xvc2luZyB0aGUgbWVudVxuICAgICAqIHN1cmZhY2UuIFRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgaWYgYSB0b3VjaCBldmVudCB0cmlnZ2VyZWQgdGhlIG1lbnVcbiAgICAgKiBjbG9zZSwgYW5kIHRoZSBzdWJzZXF1ZW50IG1vdXNlIGV2ZW50IG9jY3VycyBhZnRlciBmb2N1cyBpcyByZXN0b3JlZCwgdGhlblxuICAgICAqIHRoZSByZXN0b3JlZCBmb2N1cyB3b3VsZCBiZSBsb3N0LlxuICAgICAqL1xuICAgIFRPVUNIX0VWRU5UX1dBSVRfTVM6IDMwLFxufTtcbi8qKlxuICogRW51bSBmb3IgYml0cyBpbiB0aGUge0BzZWUgQ29ybmVyKSBiaXRtYXAuXG4gKi9cbnZhciBDb3JuZXJCaXQ7XG4oZnVuY3Rpb24gKENvcm5lckJpdCkge1xuICAgIENvcm5lckJpdFtDb3JuZXJCaXRbXCJCT1RUT01cIl0gPSAxXSA9IFwiQk9UVE9NXCI7XG4gICAgQ29ybmVyQml0W0Nvcm5lckJpdFtcIkNFTlRFUlwiXSA9IDJdID0gXCJDRU5URVJcIjtcbiAgICBDb3JuZXJCaXRbQ29ybmVyQml0W1wiUklHSFRcIl0gPSA0XSA9IFwiUklHSFRcIjtcbiAgICBDb3JuZXJCaXRbQ29ybmVyQml0W1wiRkxJUF9SVExcIl0gPSA4XSA9IFwiRkxJUF9SVExcIjtcbn0pKENvcm5lckJpdCB8fCAoQ29ybmVyQml0ID0ge30pKTtcbi8qKlxuICogRW51bSBmb3IgcmVwcmVzZW50aW5nIGFuIGVsZW1lbnQgY29ybmVyIGZvciBwb3NpdGlvbmluZyB0aGUgbWVudS1zdXJmYWNlLlxuICpcbiAqIFRoZSBTVEFSVCBjb25zdGFudHMgbWFwIHRvIExFRlQgaWYgZWxlbWVudCBkaXJlY3Rpb25hbGl0eSBpcyBsZWZ0XG4gKiB0byByaWdodCBhbmQgUklHSFQgaWYgdGhlIGRpcmVjdGlvbmFsaXR5IGlzIHJpZ2h0IHRvIGxlZnQuXG4gKiBMaWtld2lzZSBFTkQgbWFwcyB0byBSSUdIVCBvciBMRUZUIGRlcGVuZGluZyBvbiB0aGUgZGlyZWN0aW9uYWxpdHkuXG4gKi9cbnZhciBDb3JuZXI7XG4oZnVuY3Rpb24gKENvcm5lcikge1xuICAgIENvcm5lcltDb3JuZXJbXCJUT1BfTEVGVFwiXSA9IDBdID0gXCJUT1BfTEVGVFwiO1xuICAgIENvcm5lcltDb3JuZXJbXCJUT1BfUklHSFRcIl0gPSA0XSA9IFwiVE9QX1JJR0hUXCI7XG4gICAgQ29ybmVyW0Nvcm5lcltcIkJPVFRPTV9MRUZUXCJdID0gMV0gPSBcIkJPVFRPTV9MRUZUXCI7XG4gICAgQ29ybmVyW0Nvcm5lcltcIkJPVFRPTV9SSUdIVFwiXSA9IDVdID0gXCJCT1RUT01fUklHSFRcIjtcbiAgICBDb3JuZXJbQ29ybmVyW1wiVE9QX1NUQVJUXCJdID0gOF0gPSBcIlRPUF9TVEFSVFwiO1xuICAgIENvcm5lcltDb3JuZXJbXCJUT1BfRU5EXCJdID0gMTJdID0gXCJUT1BfRU5EXCI7XG4gICAgQ29ybmVyW0Nvcm5lcltcIkJPVFRPTV9TVEFSVFwiXSA9IDldID0gXCJCT1RUT01fU1RBUlRcIjtcbiAgICBDb3JuZXJbQ29ybmVyW1wiQk9UVE9NX0VORFwiXSA9IDEzXSA9IFwiQk9UVE9NX0VORFwiO1xufSkoQ29ybmVyIHx8IChDb3JuZXIgPSB7fSkpO1xuZXhwb3J0IHsgY3NzQ2xhc3Nlcywgc3RyaW5ncywgbnVtYmVycywgQ29ybmVyQml0LCBDb3JuZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBfYSwgX2I7XG52YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICBMSVNUX0lURU1fQUNUSVZBVEVEX0NMQVNTOiAnbWRjLWxpc3QtaXRlbS0tYWN0aXZhdGVkJyxcbiAgICBMSVNUX0lURU1fQ0xBU1M6ICdtZGMtbGlzdC1pdGVtJyxcbiAgICBMSVNUX0lURU1fRElTQUJMRURfQ0xBU1M6ICdtZGMtbGlzdC1pdGVtLS1kaXNhYmxlZCcsXG4gICAgTElTVF9JVEVNX1NFTEVDVEVEX0NMQVNTOiAnbWRjLWxpc3QtaXRlbS0tc2VsZWN0ZWQnLFxuICAgIExJU1RfSVRFTV9URVhUX0NMQVNTOiAnbWRjLWxpc3QtaXRlbV9fdGV4dCcsXG4gICAgTElTVF9JVEVNX1BSSU1BUllfVEVYVF9DTEFTUzogJ21kYy1saXN0LWl0ZW1fX3ByaW1hcnktdGV4dCcsXG4gICAgUk9PVDogJ21kYy1saXN0Jyxcbn07XG52YXIgZXZvbHV0aW9uQ2xhc3NOYW1lTWFwID0gKF9hID0ge30sXG4gICAgX2FbXCJcIiArIGNzc0NsYXNzZXMuTElTVF9JVEVNX0FDVElWQVRFRF9DTEFTU10gPSAnbWRjLWxpc3QtaXRlbS0tYWN0aXZhdGVkJyxcbiAgICBfYVtcIlwiICsgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1NdID0gJ21kYy1saXN0LWl0ZW0nLFxuICAgIF9hW1wiXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9ESVNBQkxFRF9DTEFTU10gPSAnbWRjLWxpc3QtaXRlbS0tZGlzYWJsZWQnLFxuICAgIF9hW1wiXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9TRUxFQ1RFRF9DTEFTU10gPSAnbWRjLWxpc3QtaXRlbS0tc2VsZWN0ZWQnLFxuICAgIF9hW1wiXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9QUklNQVJZX1RFWFRfQ0xBU1NdID0gJ21kYy1saXN0LWl0ZW1fX3ByaW1hcnktdGV4dCcsXG4gICAgX2FbXCJcIiArIGNzc0NsYXNzZXMuUk9PVF0gPSAnbWRjLWxpc3QnLFxuICAgIF9hKTtcbnZhciBkZXByZWNhdGVkQ2xhc3NOYW1lTWFwID0gKF9iID0ge30sXG4gICAgX2JbXCJcIiArIGNzc0NsYXNzZXMuTElTVF9JVEVNX0FDVElWQVRFRF9DTEFTU10gPSAnbWRjLWRlcHJlY2F0ZWQtbGlzdC1pdGVtLS1hY3RpdmF0ZWQnLFxuICAgIF9iW1wiXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTU10gPSAnbWRjLWRlcHJlY2F0ZWQtbGlzdC1pdGVtJyxcbiAgICBfYltcIlwiICsgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fRElTQUJMRURfQ0xBU1NdID0gJ21kYy1kZXByZWNhdGVkLWxpc3QtaXRlbS0tZGlzYWJsZWQnLFxuICAgIF9iW1wiXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9TRUxFQ1RFRF9DTEFTU10gPSAnbWRjLWRlcHJlY2F0ZWQtbGlzdC1pdGVtLS1zZWxlY3RlZCcsXG4gICAgX2JbXCJcIiArIGNzc0NsYXNzZXMuTElTVF9JVEVNX1RFWFRfQ0xBU1NdID0gJ21kYy1kZXByZWNhdGVkLWxpc3QtaXRlbV9fdGV4dCcsXG4gICAgX2JbXCJcIiArIGNzc0NsYXNzZXMuTElTVF9JVEVNX1BSSU1BUllfVEVYVF9DTEFTU10gPSAnbWRjLWRlcHJlY2F0ZWQtbGlzdC1pdGVtX19wcmltYXJ5LXRleHQnLFxuICAgIF9iW1wiXCIgKyBjc3NDbGFzc2VzLlJPT1RdID0gJ21kYy1kZXByZWNhdGVkLWxpc3QnLFxuICAgIF9iKTtcbnZhciBzdHJpbmdzID0ge1xuICAgIEFDVElPTl9FVkVOVDogJ01EQ0xpc3Q6YWN0aW9uJyxcbiAgICBTRUxFQ1RJT05fQ0hBTkdFX0VWRU5UOiAnTURDTGlzdDpzZWxlY3Rpb25DaGFuZ2UnLFxuICAgIEFSSUFfQ0hFQ0tFRDogJ2FyaWEtY2hlY2tlZCcsXG4gICAgQVJJQV9DSEVDS0VEX0NIRUNLQk9YX1NFTEVDVE9SOiAnW3JvbGU9XCJjaGVja2JveFwiXVthcmlhLWNoZWNrZWQ9XCJ0cnVlXCJdJyxcbiAgICBBUklBX0NIRUNLRURfUkFESU9fU0VMRUNUT1I6ICdbcm9sZT1cInJhZGlvXCJdW2FyaWEtY2hlY2tlZD1cInRydWVcIl0nLFxuICAgIEFSSUFfQ1VSUkVOVDogJ2FyaWEtY3VycmVudCcsXG4gICAgQVJJQV9ESVNBQkxFRDogJ2FyaWEtZGlzYWJsZWQnLFxuICAgIEFSSUFfT1JJRU5UQVRJT046ICdhcmlhLW9yaWVudGF0aW9uJyxcbiAgICBBUklBX09SSUVOVEFUSU9OX0hPUklaT05UQUw6ICdob3Jpem9udGFsJyxcbiAgICBBUklBX1JPTEVfQ0hFQ0tCT1hfU0VMRUNUT1I6ICdbcm9sZT1cImNoZWNrYm94XCJdJyxcbiAgICBBUklBX1NFTEVDVEVEOiAnYXJpYS1zZWxlY3RlZCcsXG4gICAgQVJJQV9JTlRFUkFDVElWRV9ST0xFU19TRUxFQ1RPUjogJ1tyb2xlPVwibGlzdGJveFwiXSwgW3JvbGU9XCJtZW51XCJdJyxcbiAgICBBUklBX01VTFRJX1NFTEVDVEFCTEVfU0VMRUNUT1I6ICdbYXJpYS1tdWx0aXNlbGVjdGFibGU9XCJ0cnVlXCJdJyxcbiAgICBDSEVDS0JPWF9SQURJT19TRUxFQ1RPUjogJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXSwgaW5wdXRbdHlwZT1cInJhZGlvXCJdJyxcbiAgICBDSEVDS0JPWF9TRUxFQ1RPUjogJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsXG4gICAgQ0hJTERfRUxFTUVOVFNfVE9fVE9HR0xFX1RBQklOREVYOiBcIlxcbiAgICAuXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTUyArIFwiIGJ1dHRvbjpub3QoOmRpc2FibGVkKSxcXG4gICAgLlwiICsgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1MgKyBcIiBhLFxcbiAgICAuXCIgKyBkZXByZWNhdGVkQ2xhc3NOYW1lTWFwW2Nzc0NsYXNzZXMuTElTVF9JVEVNX0NMQVNTXSArIFwiIGJ1dHRvbjpub3QoOmRpc2FibGVkKSxcXG4gICAgLlwiICsgZGVwcmVjYXRlZENsYXNzTmFtZU1hcFtjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTU10gKyBcIiBhXFxuICBcIixcbiAgICBERVBSRUNBVEVEX1NFTEVDVE9SOiAnLm1kYy1kZXByZWNhdGVkLWxpc3QnLFxuICAgIEZPQ1VTQUJMRV9DSElMRF9FTEVNRU5UUzogXCJcXG4gICAgLlwiICsgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1MgKyBcIiBidXR0b246bm90KDpkaXNhYmxlZCksXFxuICAgIC5cIiArIGNzc0NsYXNzZXMuTElTVF9JVEVNX0NMQVNTICsgXCIgYSxcXG4gICAgLlwiICsgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1MgKyBcIiBpbnB1dFt0eXBlPVxcXCJyYWRpb1xcXCJdOm5vdCg6ZGlzYWJsZWQpLFxcbiAgICAuXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTUyArIFwiIGlucHV0W3R5cGU9XFxcImNoZWNrYm94XFxcIl06bm90KDpkaXNhYmxlZCksXFxuICAgIC5cIiArIGRlcHJlY2F0ZWRDbGFzc05hbWVNYXBbY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1NdICsgXCIgYnV0dG9uOm5vdCg6ZGlzYWJsZWQpLFxcbiAgICAuXCIgKyBkZXByZWNhdGVkQ2xhc3NOYW1lTWFwW2Nzc0NsYXNzZXMuTElTVF9JVEVNX0NMQVNTXSArIFwiIGEsXFxuICAgIC5cIiArIGRlcHJlY2F0ZWRDbGFzc05hbWVNYXBbY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1NdICsgXCIgaW5wdXRbdHlwZT1cXFwicmFkaW9cXFwiXTpub3QoOmRpc2FibGVkKSxcXG4gICAgLlwiICsgZGVwcmVjYXRlZENsYXNzTmFtZU1hcFtjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTU10gKyBcIiBpbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdOm5vdCg6ZGlzYWJsZWQpXFxuICBcIixcbiAgICBSQURJT19TRUxFQ1RPUjogJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScsXG4gICAgU0VMRUNURURfSVRFTV9TRUxFQ1RPUjogJ1thcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSwgW2FyaWEtY3VycmVudD1cInRydWVcIl0nLFxufTtcbnZhciBudW1iZXJzID0ge1xuICAgIFVOU0VUX0lOREVYOiAtMSxcbiAgICBUWVBFQUhFQURfQlVGRkVSX0NMRUFSX1RJTUVPVVRfTVM6IDMwMFxufTtcbnZhciBldm9sdXRpb25BdHRyaWJ1dGUgPSAnZXZvbHV0aW9uJztcbmV4cG9ydCB7IHN0cmluZ3MsIGNzc0NsYXNzZXMsIG51bWJlcnMsIGRlcHJlY2F0ZWRDbGFzc05hbWVNYXAsIGV2b2x1dGlvbkF0dHJpYnV0ZSwgZXZvbHV0aW9uQ2xhc3NOYW1lTWFwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG4vKipcbiAqIEtFWSBwcm92aWRlcyBub3JtYWxpemVkIHN0cmluZyB2YWx1ZXMgZm9yIGtleXMuXG4gKi9cbmV4cG9ydCB2YXIgS0VZID0ge1xuICAgIFVOS05PV046ICdVbmtub3duJyxcbiAgICBCQUNLU1BBQ0U6ICdCYWNrc3BhY2UnLFxuICAgIEVOVEVSOiAnRW50ZXInLFxuICAgIFNQQUNFQkFSOiAnU3BhY2ViYXInLFxuICAgIFBBR0VfVVA6ICdQYWdlVXAnLFxuICAgIFBBR0VfRE9XTjogJ1BhZ2VEb3duJyxcbiAgICBFTkQ6ICdFbmQnLFxuICAgIEhPTUU6ICdIb21lJyxcbiAgICBBUlJPV19MRUZUOiAnQXJyb3dMZWZ0JyxcbiAgICBBUlJPV19VUDogJ0Fycm93VXAnLFxuICAgIEFSUk9XX1JJR0hUOiAnQXJyb3dSaWdodCcsXG4gICAgQVJST1dfRE9XTjogJ0Fycm93RG93bicsXG4gICAgREVMRVRFOiAnRGVsZXRlJyxcbiAgICBFU0NBUEU6ICdFc2NhcGUnLFxuICAgIFRBQjogJ1RhYicsXG59O1xudmFyIG5vcm1hbGl6ZWRLZXlzID0gbmV3IFNldCgpO1xuLy8gSUUxMSBoYXMgbm8gc3VwcG9ydCBmb3IgbmV3IE1hcCB3aXRoIGl0ZXJhYmxlIHNvIHdlIG5lZWQgdG8gaW5pdGlhbGl6ZSB0aGlzXG4vLyBieSBoYW5kLlxubm9ybWFsaXplZEtleXMuYWRkKEtFWS5CQUNLU1BBQ0UpO1xubm9ybWFsaXplZEtleXMuYWRkKEtFWS5FTlRFUik7XG5ub3JtYWxpemVkS2V5cy5hZGQoS0VZLlNQQUNFQkFSKTtcbm5vcm1hbGl6ZWRLZXlzLmFkZChLRVkuUEFHRV9VUCk7XG5ub3JtYWxpemVkS2V5cy5hZGQoS0VZLlBBR0VfRE9XTik7XG5ub3JtYWxpemVkS2V5cy5hZGQoS0VZLkVORCk7XG5ub3JtYWxpemVkS2V5cy5hZGQoS0VZLkhPTUUpO1xubm9ybWFsaXplZEtleXMuYWRkKEtFWS5BUlJPV19MRUZUKTtcbm5vcm1hbGl6ZWRLZXlzLmFkZChLRVkuQVJST1dfVVApO1xubm9ybWFsaXplZEtleXMuYWRkKEtFWS5BUlJPV19SSUdIVCk7XG5ub3JtYWxpemVkS2V5cy5hZGQoS0VZLkFSUk9XX0RPV04pO1xubm9ybWFsaXplZEtleXMuYWRkKEtFWS5ERUxFVEUpO1xubm9ybWFsaXplZEtleXMuYWRkKEtFWS5FU0NBUEUpO1xubm9ybWFsaXplZEtleXMuYWRkKEtFWS5UQUIpO1xudmFyIEtFWV9DT0RFID0ge1xuICAgIEJBQ0tTUEFDRTogOCxcbiAgICBFTlRFUjogMTMsXG4gICAgU1BBQ0VCQVI6IDMyLFxuICAgIFBBR0VfVVA6IDMzLFxuICAgIFBBR0VfRE9XTjogMzQsXG4gICAgRU5EOiAzNSxcbiAgICBIT01FOiAzNixcbiAgICBBUlJPV19MRUZUOiAzNyxcbiAgICBBUlJPV19VUDogMzgsXG4gICAgQVJST1dfUklHSFQ6IDM5LFxuICAgIEFSUk9XX0RPV046IDQwLFxuICAgIERFTEVURTogNDYsXG4gICAgRVNDQVBFOiAyNyxcbiAgICBUQUI6IDksXG59O1xudmFyIG1hcHBlZEtleUNvZGVzID0gbmV3IE1hcCgpO1xuLy8gSUUxMSBoYXMgbm8gc3VwcG9ydCBmb3IgbmV3IE1hcCB3aXRoIGl0ZXJhYmxlIHNvIHdlIG5lZWQgdG8gaW5pdGlhbGl6ZSB0aGlzXG4vLyBieSBoYW5kLlxubWFwcGVkS2V5Q29kZXMuc2V0KEtFWV9DT0RFLkJBQ0tTUEFDRSwgS0VZLkJBQ0tTUEFDRSk7XG5tYXBwZWRLZXlDb2Rlcy5zZXQoS0VZX0NPREUuRU5URVIsIEtFWS5FTlRFUik7XG5tYXBwZWRLZXlDb2Rlcy5zZXQoS0VZX0NPREUuU1BBQ0VCQVIsIEtFWS5TUEFDRUJBUik7XG5tYXBwZWRLZXlDb2Rlcy5zZXQoS0VZX0NPREUuUEFHRV9VUCwgS0VZLlBBR0VfVVApO1xubWFwcGVkS2V5Q29kZXMuc2V0KEtFWV9DT0RFLlBBR0VfRE9XTiwgS0VZLlBBR0VfRE9XTik7XG5tYXBwZWRLZXlDb2Rlcy5zZXQoS0VZX0NPREUuRU5ELCBLRVkuRU5EKTtcbm1hcHBlZEtleUNvZGVzLnNldChLRVlfQ09ERS5IT01FLCBLRVkuSE9NRSk7XG5tYXBwZWRLZXlDb2Rlcy5zZXQoS0VZX0NPREUuQVJST1dfTEVGVCwgS0VZLkFSUk9XX0xFRlQpO1xubWFwcGVkS2V5Q29kZXMuc2V0KEtFWV9DT0RFLkFSUk9XX1VQLCBLRVkuQVJST1dfVVApO1xubWFwcGVkS2V5Q29kZXMuc2V0KEtFWV9DT0RFLkFSUk9XX1JJR0hULCBLRVkuQVJST1dfUklHSFQpO1xubWFwcGVkS2V5Q29kZXMuc2V0KEtFWV9DT0RFLkFSUk9XX0RPV04sIEtFWS5BUlJPV19ET1dOKTtcbm1hcHBlZEtleUNvZGVzLnNldChLRVlfQ09ERS5ERUxFVEUsIEtFWS5ERUxFVEUpO1xubWFwcGVkS2V5Q29kZXMuc2V0KEtFWV9DT0RFLkVTQ0FQRSwgS0VZLkVTQ0FQRSk7XG5tYXBwZWRLZXlDb2Rlcy5zZXQoS0VZX0NPREUuVEFCLCBLRVkuVEFCKTtcbnZhciBuYXZpZ2F0aW9uS2V5cyA9IG5ldyBTZXQoKTtcbi8vIElFMTEgaGFzIG5vIHN1cHBvcnQgZm9yIG5ldyBTZXQgd2l0aCBpdGVyYWJsZSBzbyB3ZSBuZWVkIHRvIGluaXRpYWxpemUgdGhpc1xuLy8gYnkgaGFuZC5cbm5hdmlnYXRpb25LZXlzLmFkZChLRVkuUEFHRV9VUCk7XG5uYXZpZ2F0aW9uS2V5cy5hZGQoS0VZLlBBR0VfRE9XTik7XG5uYXZpZ2F0aW9uS2V5cy5hZGQoS0VZLkVORCk7XG5uYXZpZ2F0aW9uS2V5cy5hZGQoS0VZLkhPTUUpO1xubmF2aWdhdGlvbktleXMuYWRkKEtFWS5BUlJPV19MRUZUKTtcbm5hdmlnYXRpb25LZXlzLmFkZChLRVkuQVJST1dfVVApO1xubmF2aWdhdGlvbktleXMuYWRkKEtFWS5BUlJPV19SSUdIVCk7XG5uYXZpZ2F0aW9uS2V5cy5hZGQoS0VZLkFSUk9XX0RPV04pO1xuLyoqXG4gKiBub3JtYWxpemVLZXkgcmV0dXJucyB0aGUgbm9ybWFsaXplZCBzdHJpbmcgZm9yIGEgbmF2aWdhdGlvbmFsIGFjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUtleShldnQpIHtcbiAgICB2YXIga2V5ID0gZXZ0LmtleTtcbiAgICAvLyBJZiB0aGUgZXZlbnQgYWxyZWFkeSBoYXMgYSBub3JtYWxpemVkIGtleSwgcmV0dXJuIGl0XG4gICAgaWYgKG5vcm1hbGl6ZWRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkZXByZWNhdGlvblxuICAgIHZhciBtYXBwZWRLZXkgPSBtYXBwZWRLZXlDb2Rlcy5nZXQoZXZ0LmtleUNvZGUpO1xuICAgIGlmIChtYXBwZWRLZXkpIHtcbiAgICAgICAgcmV0dXJuIG1hcHBlZEtleTtcbiAgICB9XG4gICAgcmV0dXJuIEtFWS5VTktOT1dOO1xufVxuLyoqXG4gKiBpc05hdmlnYXRpb25FdmVudCByZXR1cm5zIHdoZXRoZXIgdGhlIGV2ZW50IGlzIGEgbmF2aWdhdGlvbiBldmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOYXZpZ2F0aW9uRXZlbnQoZXZ0KSB7XG4gICAgcmV0dXJuIG5hdmlnYXRpb25LZXlzLmhhcyhub3JtYWxpemVLZXkoZXZ0KSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXlib2FyZC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBFTEVNRU5UU19LRVlfQUxMT1dFRF9JTiA9IFsnaW5wdXQnLCAnYnV0dG9uJywgJ3RleHRhcmVhJywgJ3NlbGVjdCddO1xuLyoqXG4gKiBFbnN1cmVzIHRoYXQgcHJldmVudERlZmF1bHQgaXMgb25seSBjYWxsZWQgaWYgdGhlIGNvbnRhaW5pbmcgZWxlbWVudFxuICogZG9lc24ndCBjb25zdW1lIHRoZSBldmVudCwgYW5kIGl0IHdpbGwgY2F1c2UgYW4gdW5pbnRlbmRlZCBzY3JvbGwuXG4gKlxuICogQHBhcmFtIGV2dCBrZXlib2FyZCBldmVudCB0byBiZSBwcmV2ZW50ZWQuXG4gKi9cbmV4cG9ydCB2YXIgcHJldmVudERlZmF1bHRFdmVudCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0YWdOYW1lID0gKFwiXCIgKyB0YXJnZXQudGFnTmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoRUxFTUVOVFNfS0VZX0FMTE9XRURfSU4uaW5kZXhPZih0YWdOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IG5vcm1hbGl6ZUtleSB9IGZyb20gJ0BtYXRlcmlhbC9kb20va2V5Ym9hcmQnO1xuaW1wb3J0IHsgbnVtYmVycyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IHByZXZlbnREZWZhdWx0RXZlbnQgfSBmcm9tICcuL2V2ZW50cyc7XG4vKipcbiAqIEluaXRpYWxpemVzIGEgc3RhdGUgb2JqZWN0IGZvciB0eXBlYWhlYWQuIFVzZSB0aGUgc2FtZSByZWZlcmVuY2UgZm9yIGNhbGxzIHRvXG4gKiB0eXBlYWhlYWQgZnVuY3Rpb25zLlxuICpcbiAqIEByZXR1cm4gVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHR5cGVhaGVhZCBwcm9jZXNzLiBFYWNoIHN0YXRlIHJlZmVyZW5jZVxuICogICAgIHJlcHJlc2VudHMgYSB0eXBlYWhlYWQgaW5zdGFuY2UgYXMgdGhlIHJlZmVyZW5jZSBpcyB0eXBpY2FsbHkgbXV0YXRlZFxuICogICAgIGluLXBsYWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRlKCkge1xuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgYnVmZmVyQ2xlYXJUaW1lb3V0OiAwLFxuICAgICAgICBjdXJyZW50Rmlyc3RDaGFyOiAnJyxcbiAgICAgICAgc29ydGVkSW5kZXhDdXJzb3I6IDAsXG4gICAgICAgIHR5cGVhaGVhZEJ1ZmZlcjogJycsXG4gICAgfTtcbiAgICByZXR1cm4gc3RhdGU7XG59XG4vKipcbiAqIEluaXRpYWxpemVzIHR5cGVhaGVhZCBzdGF0ZSBieSBpbmRleGluZyB0aGUgY3VycmVudCBsaXN0IGl0ZW1zIGJ5IHByaW1hcnlcbiAqIHRleHQgaW50byB0aGUgc29ydGVkSW5kZXhCeUZpcnN0Q2hhciBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0gbGlzdEl0ZW1Db3VudCBudW1lciBvZiBpdGVtcyBpbiB0aGUgbGlzdFxuICogQHBhcmFtIGdldFByaW1hcnlUZXh0QnlJdGVtSW5kZXggZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBwcmltYXJ5IHRleHQgYXQgYVxuICogICAgIGdpdmVuIGluZGV4XG4gKlxuICogQHJldHVybiBNYXAgdGhhdCBtYXBzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgdGhlIHByaW1hcnkgdGV4dCB0byB0aGUgZnVsbFxuICogICAgIGxpc3QgdGV4dCBhbmQgaXQncyBpbmRleFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNvcnRlZEluZGV4KGxpc3RJdGVtQ291bnQsIGdldFByaW1hcnlUZXh0QnlJdGVtSW5kZXgpIHtcbiAgICB2YXIgc29ydGVkSW5kZXhCeUZpcnN0Q2hhciA9IG5ldyBNYXAoKTtcbiAgICAvLyBBZ2dyZWdhdGUgaXRlbSB0ZXh0IHRvIGluZGV4IG1hcHBpbmdcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RJdGVtQ291bnQ7IGkrKykge1xuICAgICAgICB2YXIgcHJpbWFyeVRleHQgPSBnZXRQcmltYXJ5VGV4dEJ5SXRlbUluZGV4KGkpLnRyaW0oKTtcbiAgICAgICAgaWYgKCFwcmltYXJ5VGV4dCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0Q2hhciA9IHByaW1hcnlUZXh0WzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghc29ydGVkSW5kZXhCeUZpcnN0Q2hhci5oYXMoZmlyc3RDaGFyKSkge1xuICAgICAgICAgICAgc29ydGVkSW5kZXhCeUZpcnN0Q2hhci5zZXQoZmlyc3RDaGFyLCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgc29ydGVkSW5kZXhCeUZpcnN0Q2hhci5nZXQoZmlyc3RDaGFyKS5wdXNoKHsgdGV4dDogcHJpbWFyeVRleHQudG9Mb3dlckNhc2UoKSwgaW5kZXg6IGkgfSk7XG4gICAgfVxuICAgIC8vIFNvcnQgdGhlIG1hcHBpbmdcbiAgICAvLyBUT0RPKGIvMTU3MTYyNjk0KTogSW52ZXN0aWdhdGUgcmVwbGFjaW5nIGZvckVhY2ggd2l0aCBNYXAudmFsdWVzKClcbiAgICBzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMuc29ydChmdW5jdGlvbiAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0LmluZGV4IC0gc2Vjb25kLmluZGV4O1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gc29ydGVkSW5kZXhCeUZpcnN0Q2hhcjtcbn1cbi8qKlxuICogR2l2ZW4gdGhlIG5leHQgZGVzaXJlZCBjaGFyYWN0ZXIgZnJvbSB0aGUgdXNlciwgaXQgYXR0ZW1wdHMgdG8gZmluZCB0aGUgbmV4dFxuICogbGlzdCBvcHRpb24gbWF0Y2hpbmcgdGhlIGJ1ZmZlci4gV3JhcHMgYXJvdW5kIGlmIGF0IHRoZSBlbmQgb2Ygb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zIGFuZCBhY2Nlc3NvcnNcbiAqICAgLSBuZXh0Q2hhciAtIHRoZSBuZXh0IGNoYXJhY3RlciB0byBtYXRjaCBhZ2FpbnN0IGl0ZW1zXG4gKiAgIC0gc29ydGVkSW5kZXhCeUZpcnN0Q2hhciAtIG91dHB1dCBvZiBgaW5pdFNvcnRlZEluZGV4KC4uLilgXG4gKiAgIC0gZm9jdXNlZEl0ZW1JbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgY3VycmVudGx5IGZvY3VzZWQgaXRlbVxuICogICAtIGZvY3VzSXRlbUF0SW5kZXggLSBmdW5jdGlvbiB0aGF0IGZvY3VzZXMgYSBsaXN0IGl0ZW0gYXQgZ2l2ZW4gaW5kZXhcbiAqICAgLSBza2lwRm9jdXMgLSB3aGV0aGVyIG9yIG5vdCB0byBmb2N1cyB0aGUgbWF0Y2hlZCBpdGVtXG4gKiAgIC0gaXNJdGVtQXRJbmRleERpc2FibGVkIC0gZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgYW4gaXRlbSBhdCBhXG4gKiAgICAgICAgZ2l2ZW4gaW5kZXggaXMgZGlzYWJsZWRcbiAqIEBwYXJhbSBzdGF0ZSBUaGUgdHlwZWFoZWFkIHN0YXRlIGluc3RhbmNlLiBTZWUgYGluaXRTdGF0ZWAuXG4gKlxuICogQHJldHVybiBUaGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgaXRlbSwgb3IgLTEgaWYgbm8gbWF0Y2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaEl0ZW0ob3B0cywgc3RhdGUpIHtcbiAgICB2YXIgbmV4dENoYXIgPSBvcHRzLm5leHRDaGFyLCBmb2N1c0l0ZW1BdEluZGV4ID0gb3B0cy5mb2N1c0l0ZW1BdEluZGV4LCBzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyID0gb3B0cy5zb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyLCBmb2N1c2VkSXRlbUluZGV4ID0gb3B0cy5mb2N1c2VkSXRlbUluZGV4LCBza2lwRm9jdXMgPSBvcHRzLnNraXBGb2N1cywgaXNJdGVtQXRJbmRleERpc2FibGVkID0gb3B0cy5pc0l0ZW1BdEluZGV4RGlzYWJsZWQ7XG4gICAgY2xlYXJUaW1lb3V0KHN0YXRlLmJ1ZmZlckNsZWFyVGltZW91dCk7XG4gICAgc3RhdGUuYnVmZmVyQ2xlYXJUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyQnVmZmVyKHN0YXRlKTtcbiAgICB9LCBudW1iZXJzLlRZUEVBSEVBRF9CVUZGRVJfQ0xFQVJfVElNRU9VVF9NUyk7XG4gICAgc3RhdGUudHlwZWFoZWFkQnVmZmVyID0gc3RhdGUudHlwZWFoZWFkQnVmZmVyICsgbmV4dENoYXI7XG4gICAgdmFyIGluZGV4O1xuICAgIGlmIChzdGF0ZS50eXBlYWhlYWRCdWZmZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGluZGV4ID0gbWF0Y2hGaXJzdENoYXIoc29ydGVkSW5kZXhCeUZpcnN0Q2hhciwgZm9jdXNlZEl0ZW1JbmRleCwgaXNJdGVtQXRJbmRleERpc2FibGVkLCBzdGF0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRleCA9IG1hdGNoQWxsQ2hhcnMoc29ydGVkSW5kZXhCeUZpcnN0Q2hhciwgaXNJdGVtQXRJbmRleERpc2FibGVkLCBzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChpbmRleCAhPT0gLTEgJiYgIXNraXBGb2N1cykge1xuICAgICAgICBmb2N1c0l0ZW1BdEluZGV4KGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBNYXRjaGVzIHRoZSB1c2VyJ3Mgc2luZ2xlIGlucHV0IGNoYXJhY3RlciBpbiB0aGUgYnVmZmVyIHRvIHRoZVxuICogbmV4dCBvcHRpb24gdGhhdCBiZWdpbnMgd2l0aCBzdWNoIGNoYXJhY3Rlci4gV3JhcHMgYXJvdW5kIGlmIGF0XG4gKiBlbmQgb2Ygb3B0aW9ucy4gUmV0dXJucyAtMSBpZiBubyBtYXRjaCBpcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hGaXJzdENoYXIoc29ydGVkSW5kZXhCeUZpcnN0Q2hhciwgZm9jdXNlZEl0ZW1JbmRleCwgaXNJdGVtQXRJbmRleERpc2FibGVkLCBzdGF0ZSkge1xuICAgIHZhciBmaXJzdENoYXIgPSBzdGF0ZS50eXBlYWhlYWRCdWZmZXJbMF07XG4gICAgdmFyIGl0ZW1zTWF0Y2hpbmdGaXJzdENoYXIgPSBzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyLmdldChmaXJzdENoYXIpO1xuICAgIGlmICghaXRlbXNNYXRjaGluZ0ZpcnN0Q2hhcikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8vIEhhcyB0aGUgc2FtZSBmaXJzdENoYXIgYmVlbiByZWNlbnRseSBtYXRjaGVkP1xuICAgIC8vIEFsc28sIGRpZCBzdGFydGluZyBpbmRleCByZW1haW4gdGhlIHNhbWUgYmV0d2VlbiBrZXkgcHJlc3Nlcz9cbiAgICAvLyBJZiBib3RoIGhvbGQgdHJ1ZSwgc2ltcGx5IGluY3JlbWVudCBpbmRleC5cbiAgICBpZiAoZmlyc3RDaGFyID09PSBzdGF0ZS5jdXJyZW50Rmlyc3RDaGFyICYmXG4gICAgICAgIGl0ZW1zTWF0Y2hpbmdGaXJzdENoYXJbc3RhdGUuc29ydGVkSW5kZXhDdXJzb3JdLmluZGV4ID09PVxuICAgICAgICAgICAgZm9jdXNlZEl0ZW1JbmRleCkge1xuICAgICAgICBzdGF0ZS5zb3J0ZWRJbmRleEN1cnNvciA9XG4gICAgICAgICAgICAoc3RhdGUuc29ydGVkSW5kZXhDdXJzb3IgKyAxKSAlIGl0ZW1zTWF0Y2hpbmdGaXJzdENoYXIubGVuZ3RoO1xuICAgICAgICB2YXIgbmV3SW5kZXggPSBpdGVtc01hdGNoaW5nRmlyc3RDaGFyW3N0YXRlLnNvcnRlZEluZGV4Q3Vyc29yXS5pbmRleDtcbiAgICAgICAgaWYgKCFpc0l0ZW1BdEluZGV4RGlzYWJsZWQobmV3SW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3SW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgd2UncmUgaGVyZSwgaXQgbWVhbnMgb25lIG9mIHRoZSBmb2xsb3dpbmcgaGFwcGVuZWQ6XG4gICAgLy8gLSBlaXRoZXIgZmlyc3RDaGFyIG9yIHN0YXJ0aW5nSW5kZXggaGFzIGNoYW5nZWQsIGludmFsaWRhdGluZyB0aGVcbiAgICAvLyBjdXJzb3IuXG4gICAgLy8gLSBUaGUgbmV4dCBpdGVtIG9mIHR5cGVhaGVhZCBpcyBkaXNhYmxlZCwgc28gd2UgaGF2ZSB0byBsb29rIGZ1cnRoZXIuXG4gICAgc3RhdGUuY3VycmVudEZpcnN0Q2hhciA9IGZpcnN0Q2hhcjtcbiAgICB2YXIgbmV3Q3Vyc29yUG9zaXRpb24gPSAtMTtcbiAgICB2YXIgY3Vyc29yUG9zaXRpb247XG4gICAgLy8gRmluZCB0aGUgZmlyc3Qgbm9uLWRpc2FibGVkIGl0ZW0gYXMgYSBmYWxsYmFjay5cbiAgICBmb3IgKGN1cnNvclBvc2l0aW9uID0gMDsgY3Vyc29yUG9zaXRpb24gPCBpdGVtc01hdGNoaW5nRmlyc3RDaGFyLmxlbmd0aDsgY3Vyc29yUG9zaXRpb24rKykge1xuICAgICAgICBpZiAoIWlzSXRlbUF0SW5kZXhEaXNhYmxlZChpdGVtc01hdGNoaW5nRmlyc3RDaGFyW2N1cnNvclBvc2l0aW9uXS5pbmRleCkpIHtcbiAgICAgICAgICAgIG5ld0N1cnNvclBvc2l0aW9uID0gY3Vyc29yUG9zaXRpb247XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBZHZhbmNlIGN1cnNvciB0byBmaXJzdCBpdGVtIG1hdGNoaW5nIHRoZSBmaXJzdENoYXIgdGhhdCBpcyBwb3NpdGlvbmVkXG4gICAgLy8gYWZ0ZXIgc3RhcnRpbmcgaXRlbS4gQ3Vyc29yIGlzIHVuY2hhbmdlZCBmcm9tIGZhbGxiYWNrIGlmIHRoZXJlJ3Mgbm9cbiAgICAvLyBzdWNoIGl0ZW0uXG4gICAgZm9yICg7IGN1cnNvclBvc2l0aW9uIDwgaXRlbXNNYXRjaGluZ0ZpcnN0Q2hhci5sZW5ndGg7IGN1cnNvclBvc2l0aW9uKyspIHtcbiAgICAgICAgaWYgKGl0ZW1zTWF0Y2hpbmdGaXJzdENoYXJbY3Vyc29yUG9zaXRpb25dLmluZGV4ID4gZm9jdXNlZEl0ZW1JbmRleCAmJlxuICAgICAgICAgICAgIWlzSXRlbUF0SW5kZXhEaXNhYmxlZChpdGVtc01hdGNoaW5nRmlyc3RDaGFyW2N1cnNvclBvc2l0aW9uXS5pbmRleCkpIHtcbiAgICAgICAgICAgIG5ld0N1cnNvclBvc2l0aW9uID0gY3Vyc29yUG9zaXRpb247XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3Q3Vyc29yUG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgIHN0YXRlLnNvcnRlZEluZGV4Q3Vyc29yID0gbmV3Q3Vyc29yUG9zaXRpb247XG4gICAgICAgIHJldHVybiBpdGVtc01hdGNoaW5nRmlyc3RDaGFyW3N0YXRlLnNvcnRlZEluZGV4Q3Vyc29yXS5pbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBBdHRlbXB0cyB0byBmaW5kIHRoZSBuZXh0IGl0ZW0gdGhhdCBtYXRjaGVzIGFsbCBvZiB0aGUgdHlwZWFoZWFkIGJ1ZmZlci5cbiAqIFdyYXBzIGFyb3VuZCBpZiBhdCBlbmQgb2Ygb3B0aW9ucy4gUmV0dXJucyAtMSBpZiBubyBtYXRjaCBpcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hBbGxDaGFycyhzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyLCBpc0l0ZW1BdEluZGV4RGlzYWJsZWQsIHN0YXRlKSB7XG4gICAgdmFyIGZpcnN0Q2hhciA9IHN0YXRlLnR5cGVhaGVhZEJ1ZmZlclswXTtcbiAgICB2YXIgaXRlbXNNYXRjaGluZ0ZpcnN0Q2hhciA9IHNvcnRlZEluZGV4QnlGaXJzdENoYXIuZ2V0KGZpcnN0Q2hhcik7XG4gICAgaWYgKCFpdGVtc01hdGNoaW5nRmlyc3RDaGFyKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgLy8gRG8gbm90aGluZyBpZiB0ZXh0IGFscmVhZHkgbWF0Y2hlc1xuICAgIHZhciBzdGFydGluZ0l0ZW0gPSBpdGVtc01hdGNoaW5nRmlyc3RDaGFyW3N0YXRlLnNvcnRlZEluZGV4Q3Vyc29yXTtcbiAgICBpZiAoc3RhcnRpbmdJdGVtLnRleHQubGFzdEluZGV4T2Yoc3RhdGUudHlwZWFoZWFkQnVmZmVyLCAwKSA9PT0gMCAmJlxuICAgICAgICAhaXNJdGVtQXRJbmRleERpc2FibGVkKHN0YXJ0aW5nSXRlbS5pbmRleCkpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0aW5nSXRlbS5pbmRleDtcbiAgICB9XG4gICAgLy8gRmluZCBuZXh0IGl0ZW0gdGhhdCBtYXRjaGVzIGNvbXBsZXRlbHk7IGlmIG5vIG1hdGNoLCB3ZSdsbCBldmVudHVhbGx5XG4gICAgLy8gbG9vcCBhcm91bmQgdG8gc2FtZSBwb3NpdGlvblxuICAgIHZhciBjdXJzb3JQb3NpdGlvbiA9IChzdGF0ZS5zb3J0ZWRJbmRleEN1cnNvciArIDEpICUgaXRlbXNNYXRjaGluZ0ZpcnN0Q2hhci5sZW5ndGg7XG4gICAgdmFyIG5leHRDdXJzb3JQb3NpdGlvbiA9IC0xO1xuICAgIHdoaWxlIChjdXJzb3JQb3NpdGlvbiAhPT0gc3RhdGUuc29ydGVkSW5kZXhDdXJzb3IpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gaXRlbXNNYXRjaGluZ0ZpcnN0Q2hhcltjdXJzb3JQb3NpdGlvbl07XG4gICAgICAgIHZhciBtYXRjaGVzID0gY3VycmVudEl0ZW0udGV4dC5sYXN0SW5kZXhPZihzdGF0ZS50eXBlYWhlYWRCdWZmZXIsIDApID09PSAwO1xuICAgICAgICB2YXIgaXNFbmFibGVkID0gIWlzSXRlbUF0SW5kZXhEaXNhYmxlZChjdXJyZW50SXRlbS5pbmRleCk7XG4gICAgICAgIGlmIChtYXRjaGVzICYmIGlzRW5hYmxlZCkge1xuICAgICAgICAgICAgbmV4dEN1cnNvclBvc2l0aW9uID0gY3Vyc29yUG9zaXRpb247XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjdXJzb3JQb3NpdGlvbiA9IChjdXJzb3JQb3NpdGlvbiArIDEpICUgaXRlbXNNYXRjaGluZ0ZpcnN0Q2hhci5sZW5ndGg7XG4gICAgfVxuICAgIGlmIChuZXh0Q3Vyc29yUG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgIHN0YXRlLnNvcnRlZEluZGV4Q3Vyc29yID0gbmV4dEN1cnNvclBvc2l0aW9uO1xuICAgICAgICByZXR1cm4gaXRlbXNNYXRjaGluZ0ZpcnN0Q2hhcltzdGF0ZS5zb3J0ZWRJbmRleEN1cnNvcl0uaW5kZXg7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogV2hldGhlciBvciBub3QgdGhlIGdpdmVuIHR5cGVhaGVhZCBpbnN0YWFuY2Ugc3RhdGUgaXMgY3VycmVudGx5IHR5cGluZy5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgVGhlIHR5cGVhaGVhZCBzdGF0ZSBpbnN0YW5jZS4gU2VlIGBpbml0U3RhdGVgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUeXBpbmdJblByb2dyZXNzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLnR5cGVhaGVhZEJ1ZmZlci5sZW5ndGggPiAwO1xufVxuLyoqXG4gKiBDbGVhcnMgdGhlIHR5cGVhaGFlZCBidWZmZXIgc28gdGhhdCBpdCByZXNldHMgaXRlbSBtYXRjaGluZyB0byB0aGUgZmlyc3RcbiAqIGNoYXJhY3Rlci5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgVGhlIHR5cGVhaGVhZCBzdGF0ZSBpbnN0YW5jZS4gU2VlIGBpbml0U3RhdGVgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RhdGUpIHtcbiAgICBzdGF0ZS50eXBlYWhlYWRCdWZmZXIgPSAnJztcbn1cbi8qKlxuICogR2l2ZW4gYSBrZXlkb3duIGV2ZW50LCBpdCBjYWxjdWxhdGVzIHdoZXRoZXIgb3Igbm90IHRvIGF1dG9tYXRpY2FsbHkgZm9jdXMgYVxuICogbGlzdCBpdGVtIGRlcGVuZGluZyBvbiB3aGF0IHdhcyB0eXBlZCBtaW1pY2luZyB0aGUgdHlwZWFoZWFkIGZ1bmN0aW9uYWxpdHkgb2ZcbiAqIGEgc3RhbmRhcmQgPHNlbGVjdD4gZWxlbWVudCB0aGF0IGlzIG9wZW4uXG4gKlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucyBhbmQgYWNjZXNzb3JzXG4gKiAgIC0gZXZlbnQgLSB0aGUgS2V5Ym9hcmRFdmVudCB0byBoYW5kbGUgYW5kIHBhcnNlXG4gKiAgIC0gc29ydGVkSW5kZXhCeUZpcnN0Q2hhciAtIG91dHB1dCBvZiBgaW5pdFNvcnRlZEluZGV4KC4uLilgXG4gKiAgIC0gZm9jdXNlZEl0ZW1JbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgY3VycmVudGx5IGZvY3VzZWQgaXRlbVxuICogICAtIGZvY3VzSXRlbUF0SW5kZXggLSBmdW5jdGlvbiB0aGF0IGZvY3VzZXMgYSBsaXN0IGl0ZW0gYXQgZ2l2ZW4gaW5kZXhcbiAqICAgLSBpc0l0ZW1BdEZvY3VzZWRJbmRleERpc2FibGVkIC0gd2hldGhlciBvciBub3QgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGl0ZW1cbiAqICAgICAgaXMgZGlzYWJsZWRcbiAqICAgLSBpc1RhcmdldExpc3RJdGVtIC0gd2hldGhlciBvciBub3QgdGhlIGV2ZW50IHRhcmdldCBpcyBhIGxpc3QgaXRlbVxuICogQHBhcmFtIHN0YXRlIFRoZSB0eXBlYWhlYWQgc3RhdGUgaW5zdGFuY2UuIFNlZSBgaW5pdFN0YXRlYC5cbiAqXG4gKiBAcmV0dXJucyBpbmRleCBvZiB0aGUgaXRlbSBtYXRjaGVkIGJ5IHRoZSBrZXlkb3duLiAtMSBpZiBub3QgbWF0Y2hlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUtleWRvd24ob3B0cywgc3RhdGUpIHtcbiAgICB2YXIgZXZlbnQgPSBvcHRzLmV2ZW50LCBpc1RhcmdldExpc3RJdGVtID0gb3B0cy5pc1RhcmdldExpc3RJdGVtLCBmb2N1c2VkSXRlbUluZGV4ID0gb3B0cy5mb2N1c2VkSXRlbUluZGV4LCBmb2N1c0l0ZW1BdEluZGV4ID0gb3B0cy5mb2N1c0l0ZW1BdEluZGV4LCBzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyID0gb3B0cy5zb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyLCBpc0l0ZW1BdEluZGV4RGlzYWJsZWQgPSBvcHRzLmlzSXRlbUF0SW5kZXhEaXNhYmxlZDtcbiAgICB2YXIgaXNBcnJvd0xlZnQgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnQXJyb3dMZWZ0JztcbiAgICB2YXIgaXNBcnJvd1VwID0gbm9ybWFsaXplS2V5KGV2ZW50KSA9PT0gJ0Fycm93VXAnO1xuICAgIHZhciBpc0Fycm93UmlnaHQgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnQXJyb3dSaWdodCc7XG4gICAgdmFyIGlzQXJyb3dEb3duID0gbm9ybWFsaXplS2V5KGV2ZW50KSA9PT0gJ0Fycm93RG93bic7XG4gICAgdmFyIGlzSG9tZSA9IG5vcm1hbGl6ZUtleShldmVudCkgPT09ICdIb21lJztcbiAgICB2YXIgaXNFbmQgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnRW5kJztcbiAgICB2YXIgaXNFbnRlciA9IG5vcm1hbGl6ZUtleShldmVudCkgPT09ICdFbnRlcic7XG4gICAgdmFyIGlzU3BhY2UgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnU3BhY2ViYXInO1xuICAgIGlmIChldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGlzQXJyb3dMZWZ0IHx8XG4gICAgICAgIGlzQXJyb3dVcCB8fCBpc0Fycm93UmlnaHQgfHwgaXNBcnJvd0Rvd24gfHwgaXNIb21lIHx8IGlzRW5kIHx8IGlzRW50ZXIpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICB2YXIgaXNDaGFyYWN0ZXJLZXkgPSAhaXNTcGFjZSAmJiBldmVudC5rZXkubGVuZ3RoID09PSAxO1xuICAgIGlmIChpc0NoYXJhY3RlcktleSkge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdEV2ZW50KGV2ZW50KTtcbiAgICAgICAgdmFyIG1hdGNoSXRlbU9wdHMgPSB7XG4gICAgICAgICAgICBmb2N1c0l0ZW1BdEluZGV4OiBmb2N1c0l0ZW1BdEluZGV4LFxuICAgICAgICAgICAgZm9jdXNlZEl0ZW1JbmRleDogZm9jdXNlZEl0ZW1JbmRleCxcbiAgICAgICAgICAgIG5leHRDaGFyOiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHNvcnRlZEluZGV4QnlGaXJzdENoYXI6IHNvcnRlZEluZGV4QnlGaXJzdENoYXIsXG4gICAgICAgICAgICBza2lwRm9jdXM6IGZhbHNlLFxuICAgICAgICAgICAgaXNJdGVtQXRJbmRleERpc2FibGVkOiBpc0l0ZW1BdEluZGV4RGlzYWJsZWQsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBtYXRjaEl0ZW0obWF0Y2hJdGVtT3B0cywgc3RhdGUpO1xuICAgIH1cbiAgICBpZiAoIWlzU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoaXNUYXJnZXRMaXN0SXRlbSkge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgdmFyIHR5cGVhaGVhZE9uTGlzdEl0ZW0gPSBpc1RhcmdldExpc3RJdGVtICYmIGlzVHlwaW5nSW5Qcm9ncmVzcyhzdGF0ZSk7XG4gICAgaWYgKHR5cGVhaGVhZE9uTGlzdEl0ZW0pIHtcbiAgICAgICAgdmFyIG1hdGNoSXRlbU9wdHMgPSB7XG4gICAgICAgICAgICBmb2N1c0l0ZW1BdEluZGV4OiBmb2N1c0l0ZW1BdEluZGV4LFxuICAgICAgICAgICAgZm9jdXNlZEl0ZW1JbmRleDogZm9jdXNlZEl0ZW1JbmRleCxcbiAgICAgICAgICAgIG5leHRDaGFyOiAnICcsXG4gICAgICAgICAgICBzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyOiBzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyLFxuICAgICAgICAgICAgc2tpcEZvY3VzOiBmYWxzZSxcbiAgICAgICAgICAgIGlzSXRlbUF0SW5kZXhEaXNhYmxlZDogaXNJdGVtQXRJbmRleERpc2FibGVkLFxuICAgICAgICB9O1xuICAgICAgICAvLyBzcGFjZSBwYXJ0aWNpcGF0ZXMgaW4gdHlwZWFoZWFkIG1hdGNoaW5nIGlmIGluIHJhcGlkIHR5cGluZyBtb2RlXG4gICAgICAgIHJldHVybiBtYXRjaEl0ZW0obWF0Y2hJdGVtT3B0cywgc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlYWhlYWQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2Fzc2lnbiwgX19leHRlbmRzLCBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IG5vcm1hbGl6ZUtleSB9IGZyb20gJ0BtYXRlcmlhbC9kb20va2V5Ym9hcmQnO1xuaW1wb3J0IHsgY3NzQ2xhc3NlcywgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IHByZXZlbnREZWZhdWx0RXZlbnQgfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgKiBhcyB0eXBlYWhlYWQgZnJvbSAnLi90eXBlYWhlYWQnO1xuZnVuY3Rpb24gaXNOdW1iZXJBcnJheShzZWxlY3RlZEluZGV4KSB7XG4gICAgcmV0dXJuIHNlbGVjdGVkSW5kZXggaW5zdGFuY2VvZiBBcnJheTtcbn1cbi8qKiBMaXN0IG9mIG1vZGlmaWVyIGtleXMgdG8gY29uc2lkZXIgd2hpbGUgaGFuZGxpbmcga2V5Ym9hcmQgZXZlbnRzLiAqL1xudmFyIGhhbmRsZWRNb2RpZmllcktleXMgPSBbJ0FsdCcsICdDb250cm9sJywgJ01ldGEnLCAnU2hpZnQnXTtcbi8qKiBDaGVja3MgaWYgdGhlIGV2ZW50IGhhcyB0aGUgZ2l2ZW4gbW9kaWZpZXIga2V5cy4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1vZGlmaWVyQ2hlY2tlcihldmVudCkge1xuICAgIHZhciBldmVudE1vZGlmaWVycyA9IG5ldyBTZXQoZXZlbnQgPyBoYW5kbGVkTW9kaWZpZXJLZXlzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShtKTsgfSkgOiBbXSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmV0dXJuIG1vZGlmaWVycy5ldmVyeShmdW5jdGlvbiAobSkgeyByZXR1cm4gZXZlbnRNb2RpZmllcnMuaGFzKG0pOyB9KSAmJlxuICAgICAgICAgICAgbW9kaWZpZXJzLmxlbmd0aCA9PT0gZXZlbnRNb2RpZmllcnMuc2l6ZTtcbiAgICB9O1xufVxudmFyIE1EQ0xpc3RGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENMaXN0Rm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENMaXN0Rm91bmRhdGlvbihhZGFwdGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBNRENMaXN0Rm91bmRhdGlvbi5kZWZhdWx0QWRhcHRlciksIGFkYXB0ZXIpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy53cmFwRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNWZXJ0aWNhbCA9IHRydWU7XG4gICAgICAgIF90aGlzLmlzU2luZ2xlU2VsZWN0aW9uTGlzdCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5hcmVEaXNhYmxlZEl0ZW1zRm9jdXNhYmxlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2VsZWN0ZWRJbmRleCA9IG51bWJlcnMuVU5TRVRfSU5ERVg7XG4gICAgICAgIF90aGlzLmZvY3VzZWRJdGVtSW5kZXggPSBudW1iZXJzLlVOU0VUX0lOREVYO1xuICAgICAgICBfdGhpcy51c2VBY3RpdmF0ZWRDbGFzcyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy51c2VTZWxlY3RlZEF0dHIgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYXJpYUN1cnJlbnRBdHRyVmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5pc0NoZWNrYm94TGlzdCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1JhZGlvTGlzdCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5sYXN0U2VsZWN0ZWRJbmRleCA9IG51bGw7XG4gICAgICAgIF90aGlzLmhhc1R5cGVhaGVhZCA9IGZhbHNlO1xuICAgICAgICAvLyBUcmFuc2llbnRseSBob2xkcyBjdXJyZW50IHR5cGVhaGVhZCBwcmVmaXggZnJvbSB1c2VyLlxuICAgICAgICBfdGhpcy50eXBlYWhlYWRTdGF0ZSA9IHR5cGVhaGVhZC5pbml0U3RhdGUoKTtcbiAgICAgICAgX3RoaXMuc29ydGVkSW5kZXhCeUZpcnN0Q2hhciA9IG5ldyBNYXAoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTGlzdEZvdW5kYXRpb24sIFwic3RyaW5nc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTGlzdEZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTGlzdEZvdW5kYXRpb24sIFwibnVtYmVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTGlzdEZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NGb3JFbGVtZW50SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBmb2N1c0l0ZW1BdEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICAgICAgICAgIGdldEZvY3VzZWRFbGVtZW50SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH0sXG4gICAgICAgICAgICAgICAgZ2V0TGlzdEl0ZW1Db3VudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gMDsgfSxcbiAgICAgICAgICAgICAgICBoYXNDaGVja2JveEF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGhhc1JhZGlvQXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgaXNDaGVja2JveENoZWNrZWRBdEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBpc0ZvY3VzSW5zaWRlTGlzdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgaXNSb290Rm9jdXNlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgbGlzdEl0ZW1BdEluZGV4SGFzQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeUFjdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzRm9yRWxlbWVudEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0Q2hlY2tlZENoZWNrYm94T3JSYWRpb0F0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBzZXRUYWJJbmRleEZvckxpc3RJdGVtQ2hpbGRyZW46IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRQcmltYXJ5VGV4dEF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuZ2V0TGlzdEl0ZW1Db3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyhiLzE3MjI3NDE0Mik6IGNvbnNpZGVyIGFsbCBpdGVtcyB3aGVuIGRldGVybWluaW5nIHRoZSBsaXN0J3MgdHlwZS5cbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5oYXNDaGVja2JveEF0SW5kZXgoMCkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2JveExpc3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWRhcHRlci5oYXNSYWRpb0F0SW5kZXgoMCkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNSYWRpb0xpc3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXliZUluaXRpYWxpemVTaW5nbGVTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNUeXBlYWhlYWQpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydGVkSW5kZXhCeUZpcnN0Q2hhciA9IHRoaXMudHlwZWFoZWFkSW5pdFNvcnRlZEluZGV4KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgaXRlbSB0aGF0IHdhcyBsYXN0IGZvY3VzZWQuICovXG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLmdldEZvY3VzZWRJdGVtSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvY3VzZWRJdGVtSW5kZXg7XG4gICAgfTtcbiAgICAvKiogVG9nZ2xlcyBmb2N1cyB3cmFwcGluZyB3aXRoIGtleWJvYXJkIG5hdmlnYXRpb24uICovXG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFdyYXBGb2N1cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLndyYXBGb2N1cyA9IHZhbHVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBvcmllbnRhdGlvbiBkaXJlY3Rpb24gZm9yIGtleWJvYXJkIG5hdmlnYXRpb24gKHRydWUgZm9yIHZlcnRpY2FsLFxuICAgICAqIGZhbHNlIGZvciBob3Jpem9udGFsKS5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VmVydGljYWxPcmllbnRhdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmlzVmVydGljYWwgPSB2YWx1ZTtcbiAgICB9O1xuICAgIC8qKiBUb2dnbGVzIHNpbmdsZS1zZWxlY3Rpb24gYmVoYXZpb3IuICovXG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFNpbmdsZVNlbGVjdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmlzU2luZ2xlU2VsZWN0aW9uTGlzdCA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubWF5YmVJbml0aWFsaXplU2luZ2xlU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLmdldFNlbGVjdGVkSW5kZXhGcm9tRE9NKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXREaXNhYmxlZEl0ZW1zRm9jdXNhYmxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYXJlRGlzYWJsZWRJdGVtc0ZvY3VzYWJsZSA9IHZhbHVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXV0b21hdGljYWxseSBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGxpc3QgaXMgc2luZ2xlIHNlbGVjdGlvbiBsaXN0LiBJZiBzbyxcbiAgICAgKiBpbml0aWFsaXplcyB0aGUgaW50ZXJuYWwgc3RhdGUgdG8gbWF0Y2ggdGhlIHNlbGVjdGVkIGl0ZW0uXG4gICAgICovXG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLm1heWJlSW5pdGlhbGl6ZVNpbmdsZVNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkSXRlbUluZGV4ID0gdGhpcy5nZXRTZWxlY3RlZEluZGV4RnJvbURPTSgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtSW5kZXggPT09IG51bWJlcnMuVU5TRVRfSU5ERVgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBoYXNBY3RpdmF0ZWRDbGFzcyA9IHRoaXMuYWRhcHRlci5saXN0SXRlbUF0SW5kZXhIYXNDbGFzcyhzZWxlY3RlZEl0ZW1JbmRleCwgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQUNUSVZBVEVEX0NMQVNTKTtcbiAgICAgICAgaWYgKGhhc0FjdGl2YXRlZENsYXNzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFVzZUFjdGl2YXRlZENsYXNzKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTaW5nbGVTZWxlY3Rpb25MaXN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJdGVtSW5kZXg7XG4gICAgfTtcbiAgICAvKiogQHJldHVybiBJbmRleCBvZiB0aGUgZmlyc3Qgc2VsZWN0ZWQgaXRlbSBiYXNlZCBvbiB0aGUgRE9NIHN0YXRlLiAqL1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRTZWxlY3RlZEluZGV4RnJvbURPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSBudW1iZXJzLlVOU0VUX0lOREVYO1xuICAgICAgICB2YXIgbGlzdEl0ZW1zQ291bnQgPSB0aGlzLmFkYXB0ZXIuZ2V0TGlzdEl0ZW1Db3VudCgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RJdGVtc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBoYXNTZWxlY3RlZENsYXNzID0gdGhpcy5hZGFwdGVyLmxpc3RJdGVtQXRJbmRleEhhc0NsYXNzKGksIGNzc0NsYXNzZXMuTElTVF9JVEVNX1NFTEVDVEVEX0NMQVNTKTtcbiAgICAgICAgICAgIHZhciBoYXNBY3RpdmF0ZWRDbGFzcyA9IHRoaXMuYWRhcHRlci5saXN0SXRlbUF0SW5kZXhIYXNDbGFzcyhpLCBjc3NDbGFzc2VzLkxJU1RfSVRFTV9BQ1RJVkFURURfQ0xBU1MpO1xuICAgICAgICAgICAgaWYgKCEoaGFzU2VsZWN0ZWRDbGFzcyB8fCBoYXNBY3RpdmF0ZWRDbGFzcykpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdHlwZWFoZWFkIGlzIGVuYWJsZWQgb24gdGhlIGxpc3QuXG4gICAgICogQHBhcmFtIGhhc1R5cGVhaGVhZCBXaGV0aGVyIHR5cGVhaGVhZCBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRIYXNUeXBlYWhlYWQgPSBmdW5jdGlvbiAoaGFzVHlwZWFoZWFkKSB7XG4gICAgICAgIHRoaXMuaGFzVHlwZWFoZWFkID0gaGFzVHlwZWFoZWFkO1xuICAgICAgICBpZiAoaGFzVHlwZWFoZWFkKSB7XG4gICAgICAgICAgICB0aGlzLnNvcnRlZEluZGV4QnlGaXJzdENoYXIgPSB0aGlzLnR5cGVhaGVhZEluaXRTb3J0ZWRJbmRleCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdHlwZWFoZWFkIGlzIGN1cnJlbnRseSBtYXRjaGluZyBhIHVzZXItc3BlY2lmaWVkIHByZWZpeC5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuaXNUeXBlYWhlYWRJblByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNUeXBlYWhlYWQgJiZcbiAgICAgICAgICAgIHR5cGVhaGVhZC5pc1R5cGluZ0luUHJvZ3Jlc3ModGhpcy50eXBlYWhlYWRTdGF0ZSk7XG4gICAgfTtcbiAgICAvKiogVG9nZ2xlIHVzZSBvZiB0aGUgXCJhY3RpdmF0ZWRcIiBDU1MgY2xhc3MuICovXG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFVzZUFjdGl2YXRlZENsYXNzID0gZnVuY3Rpb24gKHVzZUFjdGl2YXRlZCkge1xuICAgICAgICB0aGlzLnVzZUFjdGl2YXRlZENsYXNzID0gdXNlQWN0aXZhdGVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyB1c2Ugb2YgdGhlIHNlbGVjdGVkIGF0dHJpYnV0ZSAodHJ1ZSBmb3IgYXJpYS1zZWxlY3RlZCwgZmFsc2UgZm9yXG4gICAgICogYXJpYS1jaGVja2VkKS5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VXNlU2VsZWN0ZWRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAodXNlU2VsZWN0ZWQpIHtcbiAgICAgICAgdGhpcy51c2VTZWxlY3RlZEF0dHIgPSB1c2VTZWxlY3RlZDtcbiAgICB9O1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRTZWxlY3RlZEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgIH07XG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKCF0aGlzLmlzSW5kZXhWYWxpZChpbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0NoZWNrYm94TGlzdCkge1xuICAgICAgICAgICAgdGhpcy5zZXRDaGVja2JveEF0SW5kZXgoaW5kZXgsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNSYWRpb0xpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmFkaW9BdEluZGV4KGluZGV4LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2luZ2xlU2VsZWN0aW9uQXRJbmRleChpbmRleCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvY3VzIGluIGhhbmRsZXIgZm9yIHRoZSBsaXN0IGl0ZW1zLlxuICAgICAqL1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVGb2N1c0luID0gZnVuY3Rpb24gKGxpc3RJdGVtSW5kZXgpIHtcbiAgICAgICAgaWYgKGxpc3RJdGVtSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbUluZGV4ID0gbGlzdEl0ZW1JbmRleDtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgobGlzdEl0ZW1JbmRleCwgJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRUYWJJbmRleEZvckxpc3RJdGVtQ2hpbGRyZW4obGlzdEl0ZW1JbmRleCwgJzAnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9jdXMgb3V0IGhhbmRsZXIgZm9yIHRoZSBsaXN0IGl0ZW1zLlxuICAgICAqL1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVGb2N1c091dCA9IGZ1bmN0aW9uIChsaXN0SXRlbUluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChsaXN0SXRlbUluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgobGlzdEl0ZW1JbmRleCwgJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0VGFiSW5kZXhGb3JMaXN0SXRlbUNoaWxkcmVuKGxpc3RJdGVtSW5kZXgsICctMScpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCZXR3ZWVuIEZvY3Vzb3V0ICYgRm9jdXNpbiBzb21lIGJyb3dzZXJzIGRvIG5vdCBoYXZlIGZvY3VzIG9uIGFueVxuICAgICAgICAgKiBlbGVtZW50LiBTZXR0aW5nIGEgZGVsYXkgdG8gd2FpdCB0aWxsIHRoZSBmb2N1cyBpcyBtb3ZlZCB0byBuZXh0IGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuYWRhcHRlci5pc0ZvY3VzSW5zaWRlTGlzdCgpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGFiaW5kZXhUb0ZpcnN0U2VsZWN0ZWRPckZvY3VzZWRJdGVtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLmlzSW5kZXhEaXNhYmxlZCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmxpc3RJdGVtQXRJbmRleEhhc0NsYXNzKGluZGV4LCBjc3NDbGFzc2VzLkxJU1RfSVRFTV9ESVNBQkxFRF9DTEFTUyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBLZXkgaGFuZGxlciBmb3IgdGhlIGxpc3QuXG4gICAgICovXG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQsIGlzUm9vdExpc3RJdGVtLCBsaXN0SXRlbUluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGlzQXJyb3dMZWZ0ID0gbm9ybWFsaXplS2V5KGV2ZW50KSA9PT0gJ0Fycm93TGVmdCc7XG4gICAgICAgIHZhciBpc0Fycm93VXAgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnQXJyb3dVcCc7XG4gICAgICAgIHZhciBpc0Fycm93UmlnaHQgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnQXJyb3dSaWdodCc7XG4gICAgICAgIHZhciBpc0Fycm93RG93biA9IG5vcm1hbGl6ZUtleShldmVudCkgPT09ICdBcnJvd0Rvd24nO1xuICAgICAgICB2YXIgaXNIb21lID0gbm9ybWFsaXplS2V5KGV2ZW50KSA9PT0gJ0hvbWUnO1xuICAgICAgICB2YXIgaXNFbmQgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnRW5kJztcbiAgICAgICAgdmFyIGlzRW50ZXIgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSAnRW50ZXInO1xuICAgICAgICB2YXIgaXNTcGFjZSA9IG5vcm1hbGl6ZUtleShldmVudCkgPT09ICdTcGFjZWJhcic7XG4gICAgICAgIC8vIFRoZSBrZXlzIGZvciBmb3J3YXJkIGFuZCBiYWNrIGRpZmZlciBiYXNlZCBvbiBsaXN0IG9yaWVudGF0aW9uLlxuICAgICAgICB2YXIgaXNGb3J3YXJkID0gKHRoaXMuaXNWZXJ0aWNhbCAmJiBpc0Fycm93RG93bikgfHwgKCF0aGlzLmlzVmVydGljYWwgJiYgaXNBcnJvd1JpZ2h0KTtcbiAgICAgICAgdmFyIGlzQmFjayA9ICh0aGlzLmlzVmVydGljYWwgJiYgaXNBcnJvd1VwKSB8fCAoIXRoaXMuaXNWZXJ0aWNhbCAmJiBpc0Fycm93TGVmdCk7XG4gICAgICAgIC8vIEhhdmUgdG8gY2hlY2sgYm90aCB1cHBlciBhbmQgbG93ZXIgY2FzZSwgYmVjYXVzZSBoYXZpbmcgY2FwcyBsb2NrIG9uXG4gICAgICAgIC8vIGFmZmVjdHMgdGhlIHZhbHVlLlxuICAgICAgICB2YXIgaXNMZXR0ZXJBID0gZXZlbnQua2V5ID09PSAnQScgfHwgZXZlbnQua2V5ID09PSAnYSc7XG4gICAgICAgIHZhciBldmVudEhhc01vZGlmaWVycyA9IGNyZWF0ZU1vZGlmaWVyQ2hlY2tlcihldmVudCk7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaXNSb290Rm9jdXNlZCgpKSB7XG4gICAgICAgICAgICBpZiAoKGlzQmFjayB8fCBpc0VuZCkgJiYgZXZlbnRIYXNNb2RpZmllcnMoW10pKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzTGFzdEVsZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChpc0ZvcndhcmQgfHwgaXNIb21lKSAmJiBldmVudEhhc01vZGlmaWVycyhbXSkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNGaXJzdEVsZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQmFjayAmJiBldmVudEhhc01vZGlmaWVycyhbJ1NoaWZ0J10pICYmIHRoaXMuaXNDaGVja2JveExpc3QpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZhciBmb2N1c2VkSW5kZXggPSB0aGlzLmZvY3VzTGFzdEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9jdXNlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkSW5kZXhPbkFjdGlvbihmb2N1c2VkSW5kZXgsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0ZvcndhcmQgJiYgZXZlbnRIYXNNb2RpZmllcnMoWydTaGlmdCddKSAmJiB0aGlzLmlzQ2hlY2tib3hMaXN0KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgZm9jdXNlZEluZGV4ID0gdGhpcy5mb2N1c0ZpcnN0RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJbmRleE9uQWN0aW9uKGZvY3VzZWRJbmRleCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1R5cGVhaGVhZCkge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVLZXlkb3duT3B0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBmb2N1c0l0ZW1BdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZvY3VzSXRlbUF0SW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmb2N1c2VkSXRlbUluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgaXNUYXJnZXRMaXN0SXRlbTogaXNSb290TGlzdEl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZEluZGV4QnlGaXJzdENoYXI6IHRoaXMuc29ydGVkSW5kZXhCeUZpcnN0Q2hhcixcbiAgICAgICAgICAgICAgICAgICAgaXNJdGVtQXRJbmRleERpc2FibGVkOiBmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIF90aGlzLmlzSW5kZXhEaXNhYmxlZChpbmRleCk7IH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0eXBlYWhlYWQuaGFuZGxlS2V5ZG93bihoYW5kbGVLZXlkb3duT3B0cywgdGhpcy50eXBlYWhlYWRTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuYWRhcHRlci5nZXRGb2N1c2VkRWxlbWVudEluZGV4KCk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggPSBsaXN0SXRlbUluZGV4O1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IGRvZXNuJ3QgaGF2ZSBhIG1kYy1saXN0LWl0ZW0gYW5jZXN0b3IgZnJvbSB0aGVcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGxpc3QgKG5vdCBmcm9tIGEgc3VibGlzdCksIHJldHVybiBlYXJseS5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRm9yd2FyZCAmJiBldmVudEhhc01vZGlmaWVycyhbXSkpIHtcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0RXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5mb2N1c05leHRFbGVtZW50KGN1cnJlbnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCYWNrICYmIGV2ZW50SGFzTW9kaWZpZXJzKFtdKSkge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHRFdmVudChldmVudCk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzUHJldkVsZW1lbnQoY3VycmVudEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ZvcndhcmQgJiYgZXZlbnRIYXNNb2RpZmllcnMoWydTaGlmdCddKSAmJiB0aGlzLmlzQ2hlY2tib3hMaXN0KSB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHZhciBmb2N1c2VkSW5kZXggPSB0aGlzLmZvY3VzTmV4dEVsZW1lbnQoY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIGlmIChmb2N1c2VkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEluZGV4T25BY3Rpb24oZm9jdXNlZEluZGV4LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCYWNrICYmIGV2ZW50SGFzTW9kaWZpZXJzKFsnU2hpZnQnXSkgJiYgdGhpcy5pc0NoZWNrYm94TGlzdCkge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHRFdmVudChldmVudCk7XG4gICAgICAgICAgICB2YXIgZm9jdXNlZEluZGV4ID0gdGhpcy5mb2N1c1ByZXZFbGVtZW50KGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICBpZiAoZm9jdXNlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJbmRleE9uQWN0aW9uKGZvY3VzZWRJbmRleCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSG9tZSAmJiBldmVudEhhc01vZGlmaWVycyhbXSkpIHtcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0RXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5mb2N1c0ZpcnN0RWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRW5kICYmIGV2ZW50SGFzTW9kaWZpZXJzKFtdKSkge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHRFdmVudChldmVudCk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzTGFzdEVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0hvbWUgJiYgZXZlbnRIYXNNb2RpZmllcnMoWydDb250cm9sJywgJ1NoaWZ0J10pICYmXG4gICAgICAgICAgICB0aGlzLmlzQ2hlY2tib3hMaXN0KSB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5kZXhEaXNhYmxlZChjdXJyZW50SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mb2N1c0ZpcnN0RWxlbWVudCgpO1xuICAgICAgICAgICAgdGhpcy50b2dnbGVDaGVja2JveFJhbmdlKDAsIGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0VuZCAmJiBldmVudEhhc01vZGlmaWVycyhbJ0NvbnRyb2wnLCAnU2hpZnQnXSkgJiZcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2JveExpc3QpIHtcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0RXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbmRleERpc2FibGVkKGN1cnJlbnRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZvY3VzTGFzdEVsZW1lbnQoKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2hlY2tib3hSYW5nZShjdXJyZW50SW5kZXgsIHRoaXMuYWRhcHRlci5nZXRMaXN0SXRlbUNvdW50KCkgLSAxLCBjdXJyZW50SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTGV0dGVyQSAmJiBldmVudEhhc01vZGlmaWVycyhbJ0NvbnRyb2wnXSkgJiYgdGhpcy5pc0NoZWNrYm94TGlzdCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tib3hMaXN0VG9nZ2xlQWxsKHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gbnVtYmVycy5VTlNFVF9JTkRFWCA/XG4gICAgICAgICAgICAgICAgW10gOlxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGlzRW50ZXIgfHwgaXNTcGFjZSkgJiYgZXZlbnRIYXNNb2RpZmllcnMoW10pKSB7XG4gICAgICAgICAgICBpZiAoaXNSb290TGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZWFybHkgaWYgZW50ZXIga2V5IGlzIHByZXNzZWQgb24gYW5jaG9yIGVsZW1lbnQgd2hpY2ggdHJpZ2dlcnNcbiAgICAgICAgICAgICAgICAvLyBzeW50aGV0aWMgTW91c2VFdmVudCBldmVudC5cbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LnRhZ05hbWUgPT09ICdBJyAmJiBpc0VudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNJbmRleERpc2FibGVkKGN1cnJlbnRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNUeXBlYWhlYWRJblByb2dyZXNzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTZWxlY3RhYmxlTGlzdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkSW5kZXhPbkFjdGlvbihjdXJyZW50SW5kZXgsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90aWZ5QWN0aW9uKGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChpc0VudGVyIHx8IGlzU3BhY2UpICYmIGV2ZW50SGFzTW9kaWZpZXJzKFsnU2hpZnQnXSkgJiZcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2JveExpc3QpIHtcbiAgICAgICAgICAgIC8vIFJldHVybiBlYXJseSBpZiBlbnRlciBrZXkgaXMgcHJlc3NlZCBvbiBhbmNob3IgZWxlbWVudCB3aGljaCB0cmlnZ2Vyc1xuICAgICAgICAgICAgLy8gc3ludGhldGljIE1vdXNlRXZlbnQgZXZlbnQuXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQudGFnTmFtZSA9PT0gJ0EnICYmIGlzRW50ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5kZXhEaXNhYmxlZChjdXJyZW50SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVHlwZWFoZWFkSW5Qcm9ncmVzcygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVDaGVja2JveFJhbmdlKChfYSA9IHRoaXMubGFzdFNlbGVjdGVkSW5kZXgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5ub3RpZnlBY3Rpb24oY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNUeXBlYWhlYWQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVLZXlkb3duT3B0cyA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgZm9jdXNJdGVtQXRJbmRleDogZnVuY3Rpb24gKGluZGV4KSB7IF90aGlzLmZvY3VzSXRlbUF0SW5kZXgoaW5kZXgpOyB9LFxuICAgICAgICAgICAgICAgIGZvY3VzZWRJdGVtSW5kZXg6IHRoaXMuZm9jdXNlZEl0ZW1JbmRleCxcbiAgICAgICAgICAgICAgICBpc1RhcmdldExpc3RJdGVtOiBpc1Jvb3RMaXN0SXRlbSxcbiAgICAgICAgICAgICAgICBzb3J0ZWRJbmRleEJ5Rmlyc3RDaGFyOiB0aGlzLnNvcnRlZEluZGV4QnlGaXJzdENoYXIsXG4gICAgICAgICAgICAgICAgaXNJdGVtQXRJbmRleERpc2FibGVkOiBmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIF90aGlzLmlzSW5kZXhEaXNhYmxlZChpbmRleCk7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHlwZWFoZWFkLmhhbmRsZUtleWRvd24oaGFuZGxlS2V5ZG93bk9wdHMsIHRoaXMudHlwZWFoZWFkU3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGljayBoYW5kbGVyIGZvciB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBmb3IgdGhlIGl0ZW0gdGhhdCBoYXMgYmVlbiBjbGlja2VkLlxuICAgICAqIEBwYXJhbSBpc0NoZWNrYm94QWxyZWFkeVVwZGF0ZWRJbkFkYXB0ZXIgV2hldGhlciB0aGUgY2hlY2tib3ggZm9yXG4gICAgICogICB0aGUgbGlzdCBpdGVtIGhhcyBhbHJlYWR5IGJlZW4gdXBkYXRlZCBpbiB0aGUgYWRhcHRlci4gVGhpcyBhdHRyaWJ1dGVcbiAgICAgKiAgIHNob3VsZCBiZSBzZXQgdG8gYHRydWVgIHdoZW4gZS5nLiB0aGUgY2xpY2sgZXZlbnQgZGlyZWN0bHkgbGFuZGVkIG9uXG4gICAgICogICB0aGUgdW5kZXJseWluZyBuYXRpdmUgY2hlY2tib3ggZWxlbWVudCB3aGljaCB3b3VsZCBjYXVzZSB0aGUgY2hlY2tlZFxuICAgICAqICAgc3RhdGUgdG8gYmUgYWxyZWFkeSB0b2dnbGVkIHdpdGhpbiBgYWRhcHRlci5pc0NoZWNrYm94Q2hlY2tlZEF0SW5kZXhgLlxuICAgICAqL1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChpbmRleCwgaXNDaGVja2JveEFscmVhZHlVcGRhdGVkSW5BZGFwdGVyLCBldmVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBldmVudEhhc01vZGlmaWVycyA9IGNyZWF0ZU1vZGlmaWVyQ2hlY2tlcihldmVudCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzSW5kZXhEaXNhYmxlZChpbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRIYXNNb2RpZmllcnMoW10pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGFibGVMaXN0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkSW5kZXhPbkFjdGlvbihpbmRleCwgaXNDaGVja2JveEFscmVhZHlVcGRhdGVkSW5BZGFwdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5ub3RpZnlBY3Rpb24oaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNDaGVja2JveExpc3QgJiYgZXZlbnRIYXNNb2RpZmllcnMoWydTaGlmdCddKSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVDaGVja2JveFJhbmdlKChfYSA9IHRoaXMubGFzdFNlbGVjdGVkSW5kZXgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGluZGV4LCBpbmRleCwgaW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeUFjdGlvbihpbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvY3VzZXMgdGhlIG5leHQgZWxlbWVudCBvbiB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuZm9jdXNOZXh0RWxlbWVudCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmFkYXB0ZXIuZ2V0TGlzdEl0ZW1Db3VudCgpO1xuICAgICAgICB2YXIgbmV4dEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHZhciBmaXJzdENoZWNrZWQgPSBudWxsO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBuZXh0SW5kZXgrKztcbiAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPj0gY291bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cmFwRm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBlYXJseSBiZWNhdXNlIGxhc3QgaXRlbSBpcyBhbHJlYWR5IGZvY3VzZWQuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dEluZGV4ID09PSBmaXJzdENoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXJzdENoZWNrZWQgPSBmaXJzdENoZWNrZWQgIT09IG51bGwgJiYgZmlyc3RDaGVja2VkICE9PSB2b2lkIDAgPyBmaXJzdENoZWNrZWQgOiBuZXh0SW5kZXg7XG4gICAgICAgIH0gd2hpbGUgKCF0aGlzLmFyZURpc2FibGVkSXRlbXNGb2N1c2FibGUgJiYgdGhpcy5pc0luZGV4RGlzYWJsZWQobmV4dEluZGV4KSk7XG4gICAgICAgIHRoaXMuZm9jdXNJdGVtQXRJbmRleChuZXh0SW5kZXgpO1xuICAgICAgICByZXR1cm4gbmV4dEluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9jdXNlcyB0aGUgcHJldmlvdXMgZWxlbWVudCBvbiB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuZm9jdXNQcmV2RWxlbWVudCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmFkYXB0ZXIuZ2V0TGlzdEl0ZW1Db3VudCgpO1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gaW5kZXg7XG4gICAgICAgIHZhciBmaXJzdENoZWNrZWQgPSBudWxsO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBwcmV2SW5kZXgtLTtcbiAgICAgICAgICAgIGlmIChwcmV2SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3JhcEZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IGNvdW50IC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBlYXJseSBiZWNhdXNlIGZpcnN0IGl0ZW0gaXMgYWxyZWFkeSBmb2N1c2VkLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZJbmRleCA9PT0gZmlyc3RDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3RDaGVja2VkID0gZmlyc3RDaGVja2VkICE9PSBudWxsICYmIGZpcnN0Q2hlY2tlZCAhPT0gdm9pZCAwID8gZmlyc3RDaGVja2VkIDogcHJldkluZGV4O1xuICAgICAgICB9IHdoaWxlICghdGhpcy5hcmVEaXNhYmxlZEl0ZW1zRm9jdXNhYmxlICYmIHRoaXMuaXNJbmRleERpc2FibGVkKHByZXZJbmRleCkpO1xuICAgICAgICB0aGlzLmZvY3VzSXRlbUF0SW5kZXgocHJldkluZGV4KTtcbiAgICAgICAgcmV0dXJuIHByZXZJbmRleDtcbiAgICB9O1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5mb2N1c0ZpcnN0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gUGFzcyAtMSB0byBgZm9jdXNOZXh0RWxlbWVudGAsIHNpbmNlIGl0IHdpbGwgaW5jcmVtZW1lbnQgdG8gMCBhbmQgZm9jdXNcbiAgICAgICAgLy8gdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgICAgIHJldHVybiB0aGlzLmZvY3VzTmV4dEVsZW1lbnQoLTEpO1xuICAgIH07XG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLmZvY3VzTGFzdEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFBhc3MgdGhlIGxlbmd0aCBvZiB0aGUgbGlzdCB0byBgZm9jdXNOZXh0RWxlbWVudGAgc2luY2UgaXQgd2lsbCBkZWNyZW1lbnRcbiAgICAgICAgLy8gdG8gbGVuZ3RoIC0gMSBhbmQgZm9jdXMgdGhlIGxhc3QgZWxlbWVudC5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9jdXNQcmV2RWxlbWVudCh0aGlzLmFkYXB0ZXIuZ2V0TGlzdEl0ZW1Db3VudCgpKTtcbiAgICB9O1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5mb2N1c0luaXRpYWxFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5pdGlhbEluZGV4ID0gdGhpcy5nZXRGaXJzdFNlbGVjdGVkT3JGb2N1c2VkSXRlbUluZGV4KCk7XG4gICAgICAgIHRoaXMuZm9jdXNJdGVtQXRJbmRleChpbml0aWFsSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5pdGlhbEluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGl0ZW1JbmRleCBJbmRleCBvZiB0aGUgbGlzdCBpdGVtXG4gICAgICogQHBhcmFtIGlzRW5hYmxlZCBTZXRzIHRoZSBsaXN0IGl0ZW0gdG8gZW5hYmxlZCBvciBkaXNhYmxlZC5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0RW5hYmxlZCA9IGZ1bmN0aW9uIChpdGVtSW5kZXgsIGlzRW5hYmxlZCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNJbmRleFZhbGlkKGl0ZW1JbmRleCwgZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzRm9yRWxlbWVudEluZGV4KGl0ZW1JbmRleCwgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fRElTQUJMRURfQ0xBU1MpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleChpdGVtSW5kZXgsIHN0cmluZ3MuQVJJQV9ESVNBQkxFRCwgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3NGb3JFbGVtZW50SW5kZXgoaXRlbUluZGV4LCBjc3NDbGFzc2VzLkxJU1RfSVRFTV9ESVNBQkxFRF9DTEFTUyk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4KGl0ZW1JbmRleCwgc3RyaW5ncy5BUklBX0RJU0FCTEVELCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0U2luZ2xlU2VsZWN0aW9uQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSBpbmRleCAmJiAhb3B0aW9ucy5mb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxlY3RlZENsYXNzTmFtZSA9IGNzc0NsYXNzZXMuTElTVF9JVEVNX1NFTEVDVEVEX0NMQVNTO1xuICAgICAgICBpZiAodGhpcy51c2VBY3RpdmF0ZWRDbGFzcykge1xuICAgICAgICAgICAgc2VsZWN0ZWRDbGFzc05hbWUgPSBjc3NDbGFzc2VzLkxJU1RfSVRFTV9BQ1RJVkFURURfQ0xBU1M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCAhPT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzRm9yRWxlbWVudEluZGV4KHRoaXMuc2VsZWN0ZWRJbmRleCwgc2VsZWN0ZWRDbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0QXJpYUZvclNpbmdsZVNlbGVjdGlvbkF0SW5kZXgoaW5kZXgpO1xuICAgICAgICB0aGlzLnNldFRhYmluZGV4QXRJbmRleChpbmRleCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzRm9yRWxlbWVudEluZGV4KGluZGV4LCBzZWxlY3RlZENsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3RlZCB2YWx1ZSBoYXMgY2hhbmdlZCB0aHJvdWdoIHVzZXIgaW50ZXJhY3Rpb24sXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gbm90aWZ5IHRoZSBzZWxlY3Rpb24gY2hhbmdlIHRvIHRoZSBhZGFwdGVyLlxuICAgICAgICBpZiAob3B0aW9ucy5pc1VzZXJJbnRlcmFjdGlvbiAmJiAhb3B0aW9ucy5mb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeVNlbGVjdGlvbkNoYW5nZShbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBhcmlhIGF0dHJpYnV0ZSBmb3Igc2luZ2xlIHNlbGVjdGlvbiBhdCBnaXZlbiBpbmRleC5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0QXJpYUZvclNpbmdsZVNlbGVjdGlvbkF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgLy8gRGV0ZWN0IHRoZSBwcmVzZW5jZSBvZiBhcmlhLWN1cnJlbnQgYW5kIGdldCB0aGUgdmFsdWUgb25seSBkdXJpbmcgbGlzdFxuICAgICAgICAvLyBpbml0aWFsaXphdGlvbiB3aGVuIGl0IGlzIGluIHVuc2V0IHN0YXRlLlxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSBudW1iZXJzLlVOU0VUX0lOREVYKSB7XG4gICAgICAgICAgICB0aGlzLmFyaWFDdXJyZW50QXR0clZhbHVlID1cbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZ2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4KGluZGV4LCBzdHJpbmdzLkFSSUFfQ1VSUkVOVCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzQXJpYUN1cnJlbnQgPSB0aGlzLmFyaWFDdXJyZW50QXR0clZhbHVlICE9PSBudWxsO1xuICAgICAgICB2YXIgYXJpYUF0dHJpYnV0ZSA9IGlzQXJpYUN1cnJlbnQgPyBzdHJpbmdzLkFSSUFfQ1VSUkVOVCA6IHN0cmluZ3MuQVJJQV9TRUxFQ1RFRDtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCAhPT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleCh0aGlzLnNlbGVjdGVkSW5kZXgsIGFyaWFBdHRyaWJ1dGUsICdmYWxzZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCAhPT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgdmFyIGFyaWFBdHRyaWJ1dGVWYWx1ZSA9IGlzQXJpYUN1cnJlbnQgPyB0aGlzLmFyaWFDdXJyZW50QXR0clZhbHVlIDogJ3RydWUnO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleChpbmRleCwgYXJpYUF0dHJpYnV0ZSwgYXJpYUF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXR0cmlidXRlIHRvIHVzZSBmb3IgaW5kaWNhdGluZyBzZWxlY3Rpb24gc3RhdHVzLlxuICAgICAqL1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25BdHRyaWJ1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZVNlbGVjdGVkQXR0ciA/IHN0cmluZ3MuQVJJQV9TRUxFQ1RFRCA6IHN0cmluZ3MuQVJJQV9DSEVDS0VEO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyByYWRpbyBhdCBnaXZlIGluZGV4LiBSYWRpbyBkb2Vzbid0IGNoYW5nZSB0aGUgY2hlY2tlZCBzdGF0ZSBpZiBpdFxuICAgICAqIGlzIGFscmVhZHkgY2hlY2tlZC5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0UmFkaW9BdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBzZWxlY3Rpb25BdHRyaWJ1dGUgPSB0aGlzLmdldFNlbGVjdGlvbkF0dHJpYnV0ZSgpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0Q2hlY2tlZENoZWNrYm94T3JSYWRpb0F0SW5kZXgoaW5kZXgsIHRydWUpO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSBpbmRleCAmJiAhb3B0aW9ucy5mb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggIT09IG51bWJlcnMuVU5TRVRfSU5ERVgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgodGhpcy5zZWxlY3RlZEluZGV4LCBzZWxlY3Rpb25BdHRyaWJ1dGUsICdmYWxzZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgoaW5kZXgsIHNlbGVjdGlvbkF0dHJpYnV0ZSwgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3RlZCB2YWx1ZSBoYXMgY2hhbmdlZCB0aHJvdWdoIHVzZXIgaW50ZXJhY3Rpb24sXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gbm90aWZ5IHRoZSBzZWxlY3Rpb24gY2hhbmdlIHRvIHRoZSBhZGFwdGVyLlxuICAgICAgICBpZiAob3B0aW9ucy5pc1VzZXJJbnRlcmFjdGlvbiAmJiAhb3B0aW9ucy5mb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeVNlbGVjdGlvbkNoYW5nZShbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldENoZWNrYm94QXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgICAgICAvLyBJZiB0aGlzIHVwZGF0ZSBpcyBub3QgdHJpZ2dlcmVkIGJ5IGEgdXNlciBpbnRlcmFjdGlvbiwgd2UgZG8gbm90XG4gICAgICAgIC8vIG5lZWQgdG8ga25vdyBhYm91dCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGluZGljZXMgYW5kIGNhbiBhdm9pZFxuICAgICAgICAvLyBjb25zdHJ1Y3RpbmcgdGhlIGBTZXRgIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgICAgICB2YXIgY3VycmVudGx5U2VsZWN0ZWQgPSBvcHRpb25zLmlzVXNlckludGVyYWN0aW9uID9cbiAgICAgICAgICAgIG5ldyBTZXQoY3VycmVudEluZGV4ID09PSBudW1iZXJzLlVOU0VUX0lOREVYID8gW10gOlxuICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCkgOlxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgdmFyIHNlbGVjdGlvbkF0dHJpYnV0ZSA9IHRoaXMuZ2V0U2VsZWN0aW9uQXR0cmlidXRlKCk7XG4gICAgICAgIHZhciBjaGFuZ2VkSW5kaWNlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWRhcHRlci5nZXRMaXN0SXRlbUNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzSXNDaGVja2VkID0gY3VycmVudGx5U2VsZWN0ZWQgPT09IG51bGwgfHwgY3VycmVudGx5U2VsZWN0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRseVNlbGVjdGVkLmhhcyhpKTtcbiAgICAgICAgICAgIHZhciBuZXdJc0NoZWNrZWQgPSBpbmRleC5pbmRleE9mKGkpID49IDA7XG4gICAgICAgICAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGhhcyBjaGFuZ2VkIGZvciB0aGlzIGl0ZW0sIHdlIGtlZXAgdHJhY2sgb2YgaXRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIG5vdGlmeSB0aGUgYWRhcHRlci5cbiAgICAgICAgICAgIGlmIChuZXdJc0NoZWNrZWQgIT09IHByZXZpb3VzSXNDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZEluZGljZXMucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRDaGVja2VkQ2hlY2tib3hPclJhZGlvQXRJbmRleChpLCBuZXdJc0NoZWNrZWQpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleChpLCBzZWxlY3Rpb25BdHRyaWJ1dGUsIG5ld0lzQ2hlY2tlZCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0ZWQgdmFsdWUgaGFzIGNoYW5nZWQgdGhyb3VnaCB1c2VyIGludGVyYWN0aW9uLFxuICAgICAgICAvLyB3ZSB3YW50IHRvIG5vdGlmeSB0aGUgc2VsZWN0aW9uIGNoYW5nZSB0byB0aGUgYWRhcHRlci5cbiAgICAgICAgaWYgKG9wdGlvbnMuaXNVc2VySW50ZXJhY3Rpb24gJiYgY2hhbmdlZEluZGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90aWZ5U2VsZWN0aW9uQ2hhbmdlKGNoYW5nZWRJbmRpY2VzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyB0aGUgc3RhdGUgb2YgYWxsIGNoZWNrYm94ZXMgaW4gdGhlIGdpdmVuIHJhbmdlIChpbmNsdXNpdmUpIGJhc2VkIG9uXG4gICAgICogdGhlIHN0YXRlIG9mIHRoZSBjaGVja2JveCBhdCB0aGUgYHRvZ2dsZUluZGV4YC4gVG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gc2V0XG4gICAgICogdGhlIGdpdmVuIHJhbmdlIHRvIGNoZWNrZWQgb3IgdW5jaGVja2VkLCByZWFkIHRoZSB2YWx1ZSBvZiB0aGUgY2hlY2tib3ggYXRcbiAgICAgKiB0aGUgYHRvZ2dsZUluZGV4YCBhbmQgbmVnYXRlIGl0LiBUaGVuIGFwcGx5IHRoYXQgbmV3IGNoZWNrZWQgc3RhdGUgdG8gYWxsXG4gICAgICogY2hlY2tib3hlcyBpbiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIGZyb21JbmRleCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlIG9mIGNoZWNrYm94ZXMgdG8gdG9nZ2xlXG4gICAgICogQHBhcmFtIHRvSW5kZXggVGhlIGVuZCBvZiB0aGUgcmFuZ2Ugb2YgY2hlY2tib3hlcyB0byB0b2dnbGVcbiAgICAgKiBAcGFyYW0gdG9nZ2xlSW5kZXggVGhlIGluZGV4IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgbmV3IHN0YXRlXG4gICAgICogICAgIG9mIHRoZSBnaXZlbiBjaGVja2JveCByYW5nZS5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUudG9nZ2xlQ2hlY2tib3hSYW5nZSA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgsIHRvZ2dsZUluZGV4KSB7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGVkSW5kZXggPSB0b2dnbGVJbmRleDtcbiAgICAgICAgdmFyIGN1cnJlbnRseVNlbGVjdGVkID0gbmV3IFNldCh0aGlzLnNlbGVjdGVkSW5kZXggPT09IG51bWJlcnMuVU5TRVRfSU5ERVggP1xuICAgICAgICAgICAgW10gOlxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgdmFyIG5ld0lzQ2hlY2tlZCA9ICEoY3VycmVudGx5U2VsZWN0ZWQgPT09IG51bGwgfHwgY3VycmVudGx5U2VsZWN0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRseVNlbGVjdGVkLmhhcyh0b2dnbGVJbmRleCkpO1xuICAgICAgICB2YXIgX2EgPSBfX3JlYWQoW2Zyb21JbmRleCwgdG9JbmRleF0uc29ydCgpLCAyKSwgc3RhcnRJbmRleCA9IF9hWzBdLCBlbmRJbmRleCA9IF9hWzFdO1xuICAgICAgICB2YXIgc2VsZWN0aW9uQXR0cmlidXRlID0gdGhpcy5nZXRTZWxlY3Rpb25BdHRyaWJ1dGUoKTtcbiAgICAgICAgdmFyIGNoYW5nZWRJbmRpY2VzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5kZXhEaXNhYmxlZChpKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZXZpb3VzSXNDaGVja2VkID0gY3VycmVudGx5U2VsZWN0ZWQuaGFzKGkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBoYXMgY2hhbmdlZCBmb3IgdGhpcyBpdGVtLCB3ZSBrZWVwIHRyYWNrIG9mIGl0XG4gICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBub3RpZnkgdGhlIGFkYXB0ZXIuXG4gICAgICAgICAgICBpZiAobmV3SXNDaGVja2VkICE9PSBwcmV2aW91c0lzQ2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWRJbmRpY2VzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldENoZWNrZWRDaGVja2JveE9yUmFkaW9BdEluZGV4KGksIG5ld0lzQ2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleChpLCBzZWxlY3Rpb25BdHRyaWJ1dGUsIFwiXCIgKyBuZXdJc0NoZWNrZWQpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdJc0NoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5U2VsZWN0ZWQuYWRkKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5U2VsZWN0ZWQuZGVsZXRlKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0ZWQgdmFsdWUgaGFzIGNoYW5nZWQsIHVwZGF0ZSBhbmQgbm90aWZ5IHRoZSBzZWxlY3Rpb24gY2hhbmdlXG4gICAgICAgIC8vIHRvIHRoZSBhZGFwdGVyLlxuICAgICAgICBpZiAoY2hhbmdlZEluZGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoY3VycmVudGx5U2VsZWN0ZWQpKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5ub3RpZnlTZWxlY3Rpb25DaGFuZ2UoY2hhbmdlZEluZGljZXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VGFiaW5kZXhBdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLmZvY3VzZWRJdGVtSW5kZXggPT09IG51bWJlcnMuVU5TRVRfSU5ERVggJiYgaW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIC8vIElmIHNvbWUgbGlzdCBpdGVtIHdhcyBzZWxlY3RlZCBzZXQgZmlyc3QgbGlzdCBpdGVtJ3MgdGFiaW5kZXggdG8gLTEuXG4gICAgICAgICAgICAvLyBHZW5lcmFsbHksIHRhYmluZGV4IGlzIHNldCB0byAwIG9uIGZpcnN0IGxpc3QgaXRlbSBvZiBsaXN0IHRoYXQgaGFzIG5vXG4gICAgICAgICAgICAvLyBwcmVzZWxlY3RlZCBpdGVtcy5cbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgoMCwgJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mb2N1c2VkSXRlbUluZGV4ID49IDAgJiYgdGhpcy5mb2N1c2VkSXRlbUluZGV4ICE9PSBpbmRleCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleCh0aGlzLmZvY3VzZWRJdGVtSW5kZXgsICd0YWJpbmRleCcsICctMScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgcHJldmlvdXMgc2VsZWN0aW9uJ3MgdGFiaW5kZXggdG8gLTEuIFdlIG5lZWQgdGhpcyBiZWNhdXNlXG4gICAgICAgIC8vIGluIHNlbGVjdGlvbiBtZW51cyB0aGF0IGFyZSBub3QgdmlzaWJsZSwgcHJvZ3JhbW1hdGljYWxseSBzZXR0aW5nIGFuXG4gICAgICAgIC8vIG9wdGlvbiB3aWxsIG5vdCBjaGFuZ2UgZm9jdXMgYnV0IHdpbGwgY2hhbmdlIHdoZXJlIHRhYmluZGV4IHNob3VsZCBiZSAwLlxuICAgICAgICBpZiAoISh0aGlzLnNlbGVjdGVkSW5kZXggaW5zdGFuY2VvZiBBcnJheSkgJiZcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgodGhpcy5zZWxlY3RlZEluZGV4LCAndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggIT09IG51bWJlcnMuVU5TRVRfSU5ERVgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgoaW5kZXgsICd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gUmV0dXJuIHRydWUgaWYgaXQgaXMgc2luZ2xlIHNlbGVjdGluIGxpc3QsIGNoZWNrYm94IGxpc3Qgb3IgcmFkaW9cbiAgICAgKiAgICAgbGlzdC5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuaXNTZWxlY3RhYmxlTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTaW5nbGVTZWxlY3Rpb25MaXN0IHx8IHRoaXMuaXNDaGVja2JveExpc3QgfHxcbiAgICAgICAgICAgIHRoaXMuaXNSYWRpb0xpc3Q7XG4gICAgfTtcbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VGFiaW5kZXhUb0ZpcnN0U2VsZWN0ZWRPckZvY3VzZWRJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0SW5kZXggPSB0aGlzLmdldEZpcnN0U2VsZWN0ZWRPckZvY3VzZWRJdGVtSW5kZXgoKTtcbiAgICAgICAgdGhpcy5zZXRUYWJpbmRleEF0SW5kZXgodGFyZ2V0SW5kZXgpO1xuICAgIH07XG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLmdldEZpcnN0U2VsZWN0ZWRPckZvY3VzZWRJdGVtSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEFjdGlvbiBsaXN0cyByZXRhaW4gZm9jdXMgb24gdGhlIG1vc3QgcmVjZW50bHkgZm9jdXNlZCBpdGVtLlxuICAgICAgICBpZiAoIXRoaXMuaXNTZWxlY3RhYmxlTGlzdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5mb2N1c2VkSXRlbUluZGV4LCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5nbGUtc2VsZWN0aW9uIGxpc3RzIGZvY3VzIHRoZSBzZWxlY3RlZCBpdGVtLlxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCAhPT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfVxuICAgICAgICAvLyBNdWx0aXBsZS1zZWxlY3Rpb24gbGlzdHMgZm9jdXMgdGhlIGZpcnN0IHNlbGVjdGVkIGl0ZW0uXG4gICAgICAgIGlmIChpc051bWJlckFycmF5KHRoaXMuc2VsZWN0ZWRJbmRleCkgJiYgdGhpcy5zZWxlY3RlZEluZGV4Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSW5kZXgucmVkdWNlKGZ1bmN0aW9uIChtaW5JbmRleCwgY3VycmVudEluZGV4KSB7IHJldHVybiBNYXRoLm1pbihtaW5JbmRleCwgY3VycmVudEluZGV4KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VsZWN0aW9uIGxpc3RzIHdpdGhvdXQgYSBzZWxlY3Rpb24gZm9jdXMgdGhlIGZpcnN0IGl0ZW0uXG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLmlzSW5kZXhWYWxpZCA9IGZ1bmN0aW9uIChpbmRleCwgdmFsaWRhdGVMaXN0VHlwZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodmFsaWRhdGVMaXN0VHlwZSA9PT0gdm9pZCAwKSB7IHZhbGlkYXRlTGlzdFR5cGUgPSB0cnVlOyB9XG4gICAgICAgIGlmIChpbmRleCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNDaGVja2JveExpc3QgJiYgdmFsaWRhdGVMaXN0VHlwZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTURDTGlzdEZvdW5kYXRpb246IEFycmF5IG9mIGluZGV4IGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjaGVja2JveCBiYXNlZCBsaXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXguc29tZShmdW5jdGlvbiAoaSkgeyByZXR1cm4gX3RoaXMuaXNJbmRleEluUmFuZ2UoaSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hlY2tib3hMaXN0ICYmIHZhbGlkYXRlTGlzdFR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNRENMaXN0Rm91bmRhdGlvbjogRXhwZWN0ZWQgYXJyYXkgb2YgaW5kZXggZm9yIGNoZWNrYm94IGJhc2VkIGxpc3QgYnV0IGdvdCBudW1iZXI6IFwiICsgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNJbmRleEluUmFuZ2UoaW5kZXgpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NpbmdsZVNlbGVjdGlvbkxpc3QgJiYgaW5kZXggPT09IG51bWJlcnMuVU5TRVRfSU5ERVg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS5pc0luZGV4SW5SYW5nZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgbGlzdFNpemUgPSB0aGlzLmFkYXB0ZXIuZ2V0TGlzdEl0ZW1Db3VudCgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IGxpc3RTaXplO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBzZWxlY3RlZCBpbmRleCBvbiB1c2VyIGFjdGlvbiwgdG9nZ2xlcyBjaGVja2JveGVzIGluIGNoZWNrYm94IGxpc3RzXG4gICAgICogYnkgZGVmYXVsdCwgdW5sZXNzIGBpc0NoZWNrYm94QWxyZWFkeVVwZGF0ZWRJbkFkYXB0ZXJgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBJbiBjYXNlcyB3aGVyZSBgaXNDaGVja2JveEFscmVhZHlVcGRhdGVkSW5BZGFwdGVyYCBpcyBzZXQgdG8gYHRydWVgLCB0aGVcbiAgICAgKiBVSSBpcyBqdXN0IHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIGFkYXB0ZXIuXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxpbmcgdGhpcywgbWFrZSBzdXJlIHVzZXIgaW50ZXJhY3Rpb24gZG9lcyBub3QgdG9nZ2xlIGRpc2FibGVkXG4gICAgICogbGlzdCBpdGVtcy5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0U2VsZWN0ZWRJbmRleE9uQWN0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBpc0NoZWNrYm94QWxyZWFkeVVwZGF0ZWRJbkFkYXB0ZXIpIHtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgICAgICBpZiAodGhpcy5pc0NoZWNrYm94TGlzdCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVDaGVja2JveEF0SW5kZXgoaW5kZXgsIGlzQ2hlY2tib3hBbHJlYWR5VXBkYXRlZEluQWRhcHRlcik7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90aWZ5U2VsZWN0aW9uQ2hhbmdlKFtpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEluZGV4KGluZGV4LCB7IGlzVXNlckludGVyYWN0aW9uOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUudG9nZ2xlQ2hlY2tib3hBdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4LCBpc0NoZWNrYm94QWxyZWFkeVVwZGF0ZWRJbkFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbkF0dHJpYnV0ZSA9IHRoaXMuZ2V0U2VsZWN0aW9uQXR0cmlidXRlKCk7XG4gICAgICAgIHZhciBhZGFwdGVySXNDaGVja2VkID0gdGhpcy5hZGFwdGVyLmlzQ2hlY2tib3hDaGVja2VkQXRJbmRleChpbmRleCk7XG4gICAgICAgIC8vIEJ5IGRlZmF1bHQgdGhlIGNoZWNrZWQgdmFsdWUgZnJvbSB0aGUgYWRhcHRlciBpcyB0b2dnbGVkIHVubGVzcyB0aGVcbiAgICAgICAgLy8gY2hlY2tlZCBzdGF0ZSBpbiB0aGUgYWRhcHRlciBoYXMgYWxyZWFkeSBiZWVuIHVwZGF0ZWQgYmVmb3JlaGFuZC5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgaGFwcGVuIHdoZW4gdGhlIHVuZGVybHlpbmcgbmF0aXZlIGNoZWNrYm94IGhhcyBhbHJlYWR5XG4gICAgICAgIC8vIGJlZW4gdXBkYXRlZCB0aHJvdWdoIHRoZSBuYXRpdmUgY2xpY2sgZXZlbnQuXG4gICAgICAgIHZhciBuZXdDaGVja2VkVmFsdWU7XG4gICAgICAgIGlmIChpc0NoZWNrYm94QWxyZWFkeVVwZGF0ZWRJbkFkYXB0ZXIpIHtcbiAgICAgICAgICAgIG5ld0NoZWNrZWRWYWx1ZSA9IGFkYXB0ZXJJc0NoZWNrZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdDaGVja2VkVmFsdWUgPSAhYWRhcHRlcklzQ2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRDaGVja2VkQ2hlY2tib3hPclJhZGlvQXRJbmRleChpbmRleCwgbmV3Q2hlY2tlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4KGluZGV4LCBzZWxlY3Rpb25BdHRyaWJ1dGUsIG5ld0NoZWNrZWRWYWx1ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICAvLyBJZiBub25lIG9mIHRoZSBjaGVja2JveCBpdGVtcyBhcmUgc2VsZWN0ZWQgYW5kIHNlbGVjdGVkSW5kZXggaXMgbm90XG4gICAgICAgIC8vIGluaXRpYWxpemVkIHRoZW4gcHJvdmlkZSBhIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgIHZhciBzZWxlY3RlZEluZGV4ZXMgPSB0aGlzLnNlbGVjdGVkSW5kZXggPT09IG51bWJlcnMuVU5TRVRfSU5ERVggP1xuICAgICAgICAgICAgW10gOlxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4LnNsaWNlKCk7XG4gICAgICAgIGlmIChuZXdDaGVja2VkVmFsdWUpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXhlcyA9IHNlbGVjdGVkSW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkgIT09IGluZGV4OyB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEluZGV4ZXM7XG4gICAgfTtcbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuZm9jdXNJdGVtQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXIuZm9jdXNJdGVtQXRJbmRleChpbmRleCk7XG4gICAgICAgIHRoaXMuZm9jdXNlZEl0ZW1JbmRleCA9IGluZGV4O1xuICAgIH07XG4gICAgTURDTGlzdEZvdW5kYXRpb24ucHJvdG90eXBlLmNoZWNrYm94TGlzdFRvZ2dsZUFsbCA9IGZ1bmN0aW9uIChjdXJyZW50bHlTZWxlY3RlZEluZGV4ZXMsIGlzVXNlckludGVyYWN0aW9uKSB7XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMuYWRhcHRlci5nZXRMaXN0SXRlbUNvdW50KCk7XG4gICAgICAgIC8vIElmIGFsbCBpdGVtcyBhcmUgc2VsZWN0ZWQsIGRlc2VsZWN0IGV2ZXJ5dGhpbmcuXG4gICAgICAgIGlmIChjdXJyZW50bHlTZWxlY3RlZEluZGV4ZXMubGVuZ3RoID09PSBjb3VudCkge1xuICAgICAgICAgICAgdGhpcy5zZXRDaGVja2JveEF0SW5kZXgoW10sIHsgaXNVc2VySW50ZXJhY3Rpb246IGlzVXNlckludGVyYWN0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHNlbGVjdCBhbGwgZW5hYmxlZCBvcHRpb25zLlxuICAgICAgICAgICAgdmFyIGFsbEluZGV4ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0luZGV4RGlzYWJsZWQoaSkgfHxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5U2VsZWN0ZWRJbmRleGVzLmluZGV4T2YoaSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxJbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRDaGVja2JveEF0SW5kZXgoYWxsSW5kZXhlcywgeyBpc1VzZXJJbnRlcmFjdGlvbjogaXNVc2VySW50ZXJhY3Rpb24gfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdpdmVuIHRoZSBuZXh0IGRlc2lyZWQgY2hhcmFjdGVyIGZyb20gdGhlIHVzZXIsIGFkZHMgaXQgdG8gdGhlIHR5cGVhaGVhZFxuICAgICAqIGJ1ZmZlci4gVGhlbiwgYXR0ZW1wdHMgdG8gZmluZCB0aGUgbmV4dCBvcHRpb24gbWF0Y2hpbmcgdGhlIGJ1ZmZlci4gV3JhcHNcbiAgICAgKiBhcm91bmQgaWYgYXQgdGhlIGVuZCBvZiBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5leHRDaGFyIFRoZSBuZXh0IGNoYXJhY3RlciB0byBhZGQgdG8gdGhlIHByZWZpeCBidWZmZXIuXG4gICAgICogQHBhcmFtIHN0YXJ0aW5nSW5kZXggVGhlIGluZGV4IGZyb20gd2hpY2ggdG8gc3RhcnQgbWF0Y2hpbmcuIE9ubHkgcmVsZXZhbnRcbiAgICAgKiAgICAgd2hlbiBzdGFydGluZyBhIG5ldyBtYXRjaCBzZXF1ZW5jZS4gVG8gc3RhcnQgYSBuZXcgbWF0Y2ggc2VxdWVuY2UsXG4gICAgICogICAgIGNsZWFyIHRoZSBidWZmZXIgdXNpbmcgYGNsZWFyVHlwZWFoZWFkQnVmZmVyYCwgb3Igd2FpdCBmb3IgdGhlIGJ1ZmZlclxuICAgICAqICAgICB0byBjbGVhciBhZnRlciBhIHNldCBpbnRlcnZhbCBkZWZpbmVkIGluIGxpc3QgZm91bmRhdGlvbi4gRGVmYXVsdHMgdG9cbiAgICAgKiAgICAgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGluZGV4LlxuICAgICAqIEByZXR1cm4gVGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIGl0ZW0sIG9yIC0xIGlmIG5vIG1hdGNoLlxuICAgICAqL1xuICAgIE1EQ0xpc3RGb3VuZGF0aW9uLnByb3RvdHlwZS50eXBlYWhlYWRNYXRjaEl0ZW0gPSBmdW5jdGlvbiAobmV4dENoYXIsIHN0YXJ0aW5nSW5kZXgsIHNraXBGb2N1cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc2tpcEZvY3VzID09PSB2b2lkIDApIHsgc2tpcEZvY3VzID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgICBmb2N1c0l0ZW1BdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5mb2N1c0l0ZW1BdEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb2N1c2VkSXRlbUluZGV4OiBzdGFydGluZ0luZGV4ID8gc3RhcnRpbmdJbmRleCA6IHRoaXMuZm9jdXNlZEl0ZW1JbmRleCxcbiAgICAgICAgICAgIG5leHRDaGFyOiBuZXh0Q2hhcixcbiAgICAgICAgICAgIHNvcnRlZEluZGV4QnlGaXJzdENoYXI6IHRoaXMuc29ydGVkSW5kZXhCeUZpcnN0Q2hhcixcbiAgICAgICAgICAgIHNraXBGb2N1czogc2tpcEZvY3VzLFxuICAgICAgICAgICAgaXNJdGVtQXRJbmRleERpc2FibGVkOiBmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIF90aGlzLmlzSW5kZXhEaXNhYmxlZChpbmRleCk7IH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHR5cGVhaGVhZC5tYXRjaEl0ZW0ob3B0cywgdGhpcy50eXBlYWhlYWRTdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgTURDTGlzdFRleHRBbmRJbmRleCBkYXRhIHN0cnVjdHVyZSBieSBpbmRleGluZyB0aGUgY3VycmVudFxuICAgICAqIGxpc3QgaXRlbXMgYnkgcHJpbWFyeSB0ZXh0LlxuICAgICAqXG4gICAgICogQHJldHVybiBUaGUgcHJpbWFyeSB0ZXh0cyBvZiBhbGwgdGhlIGxpc3QgaXRlbXMgc29ydGVkIGJ5IGZpcnN0IGNoYXJhY3Rlci5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUudHlwZWFoZWFkSW5pdFNvcnRlZEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHlwZWFoZWFkLmluaXRTb3J0ZWRJbmRleCh0aGlzLmFkYXB0ZXIuZ2V0TGlzdEl0ZW1Db3VudCgpLCB0aGlzLmFkYXB0ZXIuZ2V0UHJpbWFyeVRleHRBdEluZGV4KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgdHlwZWFoZWFkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBNRENMaXN0Rm91bmRhdGlvbi5wcm90b3R5cGUuY2xlYXJUeXBlYWhlYWRCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHR5cGVhaGVhZC5jbGVhckJ1ZmZlcih0aGlzLnR5cGVhaGVhZFN0YXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBNRENMaXN0Rm91bmRhdGlvbjtcbn0oTURDRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDTGlzdEZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENMaXN0Rm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0NvbXBvbmVudCB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBjbG9zZXN0LCBtYXRjaGVzIH0gZnJvbSAnQG1hdGVyaWFsL2RvbS9wb255ZmlsbCc7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBkZXByZWNhdGVkQ2xhc3NOYW1lTWFwLCBldm9sdXRpb25BdHRyaWJ1dGUsIGV2b2x1dGlvbkNsYXNzTmFtZU1hcCwgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IE1EQ0xpc3RGb3VuZGF0aW9uIH0gZnJvbSAnLi9mb3VuZGF0aW9uJztcbnZhciBNRENMaXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENMaXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ0xpc3QoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0xpc3QucHJvdG90eXBlLCBcInZlcnRpY2FsXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRWZXJ0aWNhbE9yaWVudGF0aW9uKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENMaXN0LnByb3RvdHlwZSwgXCJsaXN0RWxlbWVudHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgdGhpcy5jbGFzc05hbWVNYXBbY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1NdKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTGlzdC5wcm90b3R5cGUsIFwid3JhcEZvY3VzXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRXcmFwRm9jdXModmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0xpc3QucHJvdG90eXBlLCBcInR5cGVhaGVhZEluUHJvZ3Jlc3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiBXaGV0aGVyIHR5cGVhaGVhZCBpcyBjdXJyZW50bHkgbWF0Y2hpbmcgYSB1c2VyLXNwZWNpZmllZCBwcmVmaXguXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24uaXNUeXBlYWhlYWRJblByb2dyZXNzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTGlzdC5wcm90b3R5cGUsIFwiaGFzVHlwZWFoZWFkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgd2hldGhlciB0eXBlYWhlYWQgZnVuY3Rpb25hbGl0eSBpcyBlbmFibGVkIG9uIHRoZSBsaXN0LlxuICAgICAgICAgKiBAcGFyYW0gaGFzVHlwZWFoZWFkIFdoZXRoZXIgdHlwZWFoZWFkIGlzIGVuYWJsZWQuXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChoYXNUeXBlYWhlYWQpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRIYXNUeXBlYWhlYWQoaGFzVHlwZWFoZWFkKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENMaXN0LnByb3RvdHlwZSwgXCJzaW5nbGVTZWxlY3Rpb25cIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChpc1NpbmdsZVNlbGVjdGlvbkxpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRTaW5nbGVTZWxlY3Rpb24oaXNTaW5nbGVTZWxlY3Rpb25MaXN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENMaXN0LnByb3RvdHlwZSwgXCJkaXNhYmxlZEl0ZW1zRm9jdXNhYmxlXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYXJlRGlzYWJsZWRJdGVtc0ZvY3VzYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldERpc2FibGVkSXRlbXNGb2N1c2FibGUoYXJlRGlzYWJsZWRJdGVtc0ZvY3VzYWJsZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTGlzdC5wcm90b3R5cGUsIFwic2VsZWN0ZWRJbmRleFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRhdGlvbi5nZXRTZWxlY3RlZEluZGV4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENMaXN0LmF0dGFjaFRvID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNRENMaXN0KHJvb3QpO1xuICAgIH07XG4gICAgTURDTGlzdC5wcm90b3R5cGUuaW5pdGlhbFN5bmNXaXRoRE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzRXZvbHV0aW9uRW5hYmxlZCA9XG4gICAgICAgICAgICBldm9sdXRpb25BdHRyaWJ1dGUgaW4gdGhpcy5yb290LmRhdGFzZXQ7XG4gICAgICAgIGlmICh0aGlzLmlzRXZvbHV0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWVNYXAgPSBldm9sdXRpb25DbGFzc05hbWVNYXA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWF0Y2hlcyh0aGlzLnJvb3QsIHN0cmluZ3MuREVQUkVDQVRFRF9TRUxFQ1RPUikpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lTWFwID0gZGVwcmVjYXRlZENsYXNzTmFtZU1hcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lTWFwID1cbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGNzc0NsYXNzZXMpXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtjbGFzc05hbWVdID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGlja0V2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlS2V5ZG93biA9IHRoaXMuaGFuZGxlS2V5ZG93bkV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZm9jdXNJbkV2ZW50TGlzdGVuZXIgPSB0aGlzLmhhbmRsZUZvY3VzSW5FdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmZvY3VzT3V0RXZlbnRMaXN0ZW5lciA9IHRoaXMuaGFuZGxlRm9jdXNPdXRFdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmxpc3Rlbigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bik7XG4gICAgICAgIHRoaXMubGlzdGVuKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICB0aGlzLmxpc3RlbignZm9jdXNpbicsIHRoaXMuZm9jdXNJbkV2ZW50TGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmxpc3RlbignZm9jdXNvdXQnLCB0aGlzLmZvY3VzT3V0RXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMubGF5b3V0KCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RUeXBlKCk7XG4gICAgICAgIHRoaXMuZW5zdXJlRm9jdXNhYmxlKCk7XG4gICAgfTtcbiAgICBNRENMaXN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVubGlzdGVuKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duKTtcbiAgICAgICAgdGhpcy51bmxpc3RlbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICAgICAgdGhpcy51bmxpc3RlbignZm9jdXNpbicsIHRoaXMuZm9jdXNJbkV2ZW50TGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnVubGlzdGVuKCdmb2N1c291dCcsIHRoaXMuZm9jdXNPdXRFdmVudExpc3RlbmVyKTtcbiAgICB9O1xuICAgIE1EQ0xpc3QucHJvdG90eXBlLmxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMucm9vdC5nZXRBdHRyaWJ1dGUoc3RyaW5ncy5BUklBX09SSUVOVEFUSU9OKTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA9IGRpcmVjdGlvbiAhPT0gc3RyaW5ncy5BUklBX09SSUVOVEFUSU9OX0hPUklaT05UQUw7XG4gICAgICAgIHZhciBpdGVtU2VsZWN0b3IgPSBcIi5cIiArIHRoaXMuY2xhc3NOYW1lTWFwW2Nzc0NsYXNzZXMuTElTVF9JVEVNX0NMQVNTXSArIFwiOm5vdChbdGFiaW5kZXhdKVwiO1xuICAgICAgICB2YXIgY2hpbGRTZWxlY3RvciA9IHN0cmluZ3MuRk9DVVNBQkxFX0NISUxEX0VMRU1FTlRTO1xuICAgICAgICAvLyBMaXN0IGl0ZW1zIG5lZWQgdG8gaGF2ZSBhdCBsZWFzdCB0YWJpbmRleD0tMSB0byBiZSBmb2N1c2FibGUuXG4gICAgICAgIHZhciBpdGVtRWxzID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoaXRlbVNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGl0ZW1FbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGl0ZW1FbHMsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoaWxkIGJ1dHRvbi9hIGVsZW1lbnRzIGFyZSBub3QgdGFiYmFibGUgdW50aWwgdGhlIGxpc3QgaXRlbSBpcyBmb2N1c2VkLlxuICAgICAgICB2YXIgZm9jdXNhYmxlQ2hpbGRFbHMgPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvckFsbChjaGlsZFNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUNoaWxkRWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChmb2N1c2FibGVDaGlsZEVscywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNFdm9sdXRpb25FbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VXNlU2VsZWN0ZWRBdHRyaWJ1dGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLmxheW91dCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHByaW1hcnkgdGV4dCBmcm9tIGEgbGlzdCBpdGVtLlxuICAgICAqIEBwYXJhbSBpdGVtIFRoZSBsaXN0IGl0ZW0gZWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIFRoZSBwcmltYXJ5IHRleHQgaW4gdGhlIGVsZW1lbnQuXG4gICAgICovXG4gICAgTURDTGlzdC5wcm90b3R5cGUuZ2V0UHJpbWFyeVRleHQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBwcmltYXJ5VGV4dCA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5cIiArIHRoaXMuY2xhc3NOYW1lTWFwW2Nzc0NsYXNzZXMuTElTVF9JVEVNX1BSSU1BUllfVEVYVF9DTEFTU10pO1xuICAgICAgICBpZiAodGhpcy5pc0V2b2x1dGlvbkVuYWJsZWQgfHwgcHJpbWFyeVRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoX2EgPSBwcmltYXJ5VGV4dCA9PT0gbnVsbCB8fCBwcmltYXJ5VGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJpbWFyeVRleHQudGV4dENvbnRlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaW5nbGVMaW5lVGV4dCA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5cIiArIHRoaXMuY2xhc3NOYW1lTWFwW2Nzc0NsYXNzZXMuTElTVF9JVEVNX1RFWFRfQ0xBU1NdKTtcbiAgICAgICAgcmV0dXJuIChzaW5nbGVMaW5lVGV4dCAmJiBzaW5nbGVMaW5lVGV4dC50ZXh0Q29udGVudCkgfHwgJyc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHNlbGVjdGVkSW5kZXggdmFsdWUgYmFzZWQgb24gcHJlLXNlbGVjdGVkIGxpc3QgaXRlbXMuXG4gICAgICovXG4gICAgTURDTGlzdC5wcm90b3R5cGUuaW5pdGlhbGl6ZUxpc3RUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmlzSW50ZXJhY3RpdmUgPVxuICAgICAgICAgICAgbWF0Y2hlcyh0aGlzLnJvb3QsIHN0cmluZ3MuQVJJQV9JTlRFUkFDVElWRV9ST0xFU19TRUxFQ1RPUik7XG4gICAgICAgIGlmICh0aGlzLmlzRXZvbHV0aW9uRW5hYmxlZCAmJiB0aGlzLmlzSW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yQWxsKHN0cmluZ3MuU0VMRUNURURfSVRFTV9TRUxFQ1RPUiksIGZ1bmN0aW9uIChsaXN0SXRlbSkgeyByZXR1cm4gX3RoaXMubGlzdEVsZW1lbnRzLmluZGV4T2YobGlzdEl0ZW0pOyB9KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKHRoaXMucm9vdCwgc3RyaW5ncy5BUklBX01VTFRJX1NFTEVDVEFCTEVfU0VMRUNUT1IpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3Rpb25bMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoZWNrYm94TGlzdEl0ZW1zID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoc3RyaW5ncy5BUklBX1JPTEVfQ0hFQ0tCT1hfU0VMRUNUT1IpO1xuICAgICAgICB2YXIgcmFkaW9TZWxlY3RlZExpc3RJdGVtID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5BUklBX0NIRUNLRURfUkFESU9fU0VMRUNUT1IpO1xuICAgICAgICBpZiAoY2hlY2tib3hMaXN0SXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcHJlc2VsZWN0ZWRJdGVtcyA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yQWxsKHN0cmluZ3MuQVJJQV9DSEVDS0VEX0NIRUNLQk9YX1NFTEVDVE9SKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IEFycmF5LmZyb20ocHJlc2VsZWN0ZWRJdGVtcywgZnVuY3Rpb24gKGxpc3RJdGVtKSB7IHJldHVybiBfdGhpcy5saXN0RWxlbWVudHMuaW5kZXhPZihsaXN0SXRlbSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhZGlvU2VsZWN0ZWRMaXN0SXRlbSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5saXN0RWxlbWVudHMuaW5kZXhPZihyYWRpb1NlbGVjdGVkTGlzdEl0ZW0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsaXN0IGl0ZW0gYXQgaXRlbUluZGV4IHRvIHRoZSBkZXNpcmVkIGlzRW5hYmxlZCBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gaXRlbUluZGV4IEluZGV4IG9mIHRoZSBsaXN0IGl0ZW1cbiAgICAgKiBAcGFyYW0gaXNFbmFibGVkIFNldHMgdGhlIGxpc3QgaXRlbSB0byBlbmFibGVkIG9yIGRpc2FibGVkLlxuICAgICAqL1xuICAgIE1EQ0xpc3QucHJvdG90eXBlLnNldEVuYWJsZWQgPSBmdW5jdGlvbiAoaXRlbUluZGV4LCBpc0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldEVuYWJsZWQoaXRlbUluZGV4LCBpc0VuYWJsZWQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2l2ZW4gdGhlIG5leHQgZGVzaXJlZCBjaGFyYWN0ZXIgZnJvbSB0aGUgdXNlciwgYWRkcyBpdCB0byB0aGUgdHlwZWFoZWFkXG4gICAgICogYnVmZmVyLiBUaGVuLCBhdHRlbXB0cyB0byBmaW5kIHRoZSBuZXh0IG9wdGlvbiBtYXRjaGluZyB0aGUgYnVmZmVyLiBXcmFwc1xuICAgICAqIGFyb3VuZCBpZiBhdCB0aGUgZW5kIG9mIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV4dENoYXIgVGhlIG5leHQgY2hhcmFjdGVyIHRvIGFkZCB0byB0aGUgcHJlZml4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0gc3RhcnRpbmdJbmRleCBUaGUgaW5kZXggZnJvbSB3aGljaCB0byBzdGFydCBtYXRjaGluZy4gRGVmYXVsdHMgdG9cbiAgICAgKiAgICAgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGluZGV4LlxuICAgICAqIEByZXR1cm4gVGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIGl0ZW0uXG4gICAgICovXG4gICAgTURDTGlzdC5wcm90b3R5cGUudHlwZWFoZWFkTWF0Y2hJdGVtID0gZnVuY3Rpb24gKG5leHRDaGFyLCBzdGFydGluZ0luZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24udHlwZWFoZWFkTWF0Y2hJdGVtKG5leHRDaGFyLCBzdGFydGluZ0luZGV4LCAvKiogc2tpcEZvY3VzICovIHRydWUpO1xuICAgIH07XG4gICAgTURDTGlzdC5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2VcbiAgICAgICAgLy8gYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LiBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55XG4gICAgICAgIC8vIG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSB7XG4gICAgICAgICAgICBhZGRDbGFzc0ZvckVsZW1lbnRJbmRleDogZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmxpc3RFbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKF90aGlzLmNsYXNzTmFtZU1hcFtjbGFzc05hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9jdXNJdGVtQXRJbmRleDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5saXN0RWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4OiBmdW5jdGlvbiAoaW5kZXgsIGF0dHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubGlzdEVsZW1lbnRzW2luZGV4XS5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Rm9jdXNlZEVsZW1lbnRJbmRleDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5saXN0RWxlbWVudHMuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRMaXN0SXRlbUNvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5saXN0RWxlbWVudHMubGVuZ3RoOyB9LFxuICAgICAgICAgICAgZ2V0UHJpbWFyeVRleHRBdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UHJpbWFyeVRleHQoX3RoaXMubGlzdEVsZW1lbnRzW2luZGV4XSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzQ2hlY2tib3hBdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy5saXN0RWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHJldHVybiAhIWxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5DSEVDS0JPWF9TRUxFQ1RPUik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzUmFkaW9BdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy5saXN0RWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHJldHVybiAhIWxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5SQURJT19TRUxFQ1RPUik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNDaGVja2JveENoZWNrZWRBdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy5saXN0RWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciB0b2dnbGVFbCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5DSEVDS0JPWF9TRUxFQ1RPUik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvZ2dsZUVsLmNoZWNrZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNGb2N1c0luc2lkZUxpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucm9vdCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yb290LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzUm9vdEZvY3VzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IF90aGlzLnJvb3Q7IH0sXG4gICAgICAgICAgICBsaXN0SXRlbUF0SW5kZXhIYXNDbGFzczogZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubGlzdEVsZW1lbnRzW2luZGV4XS5jbGFzc0xpc3QuY29udGFpbnMoX3RoaXMuY2xhc3NOYW1lTWFwW2NsYXNzTmFtZV0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vdGlmeUFjdGlvbjogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChzdHJpbmdzLkFDVElPTl9FVkVOVCwgeyBpbmRleDogaW5kZXggfSwgLyoqIHNob3VsZEJ1YmJsZSAqLyB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub3RpZnlTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIChjaGFuZ2VkSW5kaWNlcykge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoc3RyaW5ncy5TRUxFQ1RJT05fQ0hBTkdFX0VWRU5ULCB7IGNoYW5nZWRJbmRpY2VzOiBjaGFuZ2VkSW5kaWNlcyB9LCAvKiogc2hvdWxkQnViYmxlICovIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzRm9yRWxlbWVudEluZGV4OiBmdW5jdGlvbiAoaW5kZXgsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMubGlzdEVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoX3RoaXMuY2xhc3NOYW1lTWFwW2NsYXNzTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXg6IGZ1bmN0aW9uIChpbmRleCwgYXR0ciwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmxpc3RFbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRDaGVja2VkQ2hlY2tib3hPclJhZGlvQXRJbmRleDogZnVuY3Rpb24gKGluZGV4LCBpc0NoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy5saXN0RWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciB0b2dnbGVFbCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5DSEVDS0JPWF9SQURJT19TRUxFQ1RPUik7XG4gICAgICAgICAgICAgICAgdG9nZ2xlRWwuY2hlY2tlZCA9IGlzQ2hlY2tlZDtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgICAgICAgICBldmVudC5pbml0RXZlbnQoJ2NoYW5nZScsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFRhYkluZGV4Rm9yTGlzdEl0ZW1DaGlsZHJlbjogZnVuY3Rpb24gKGxpc3RJdGVtSW5kZXgsIHRhYkluZGV4VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmxpc3RFbGVtZW50c1tsaXN0SXRlbUluZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzdHJpbmdzLkNISUxEX0VMRU1FTlRTX1RPX1RPR0dMRV9UQUJJTkRFWDtcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgdGFiSW5kZXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE1EQ0xpc3RGb3VuZGF0aW9uKGFkYXB0ZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGlzIGZvY3VzYWJsZSBpZiB0aGUgbGlzdCBpcyBpbnRlcmFjdGl2ZSBhbmRcbiAgICAgKiBkb2Vzbid0IHNwZWNpZnkgYSBzdWl0YWJsZSB0YWJpbmRleC5cbiAgICAgKi9cbiAgICBNRENMaXN0LnByb3RvdHlwZS5lbnN1cmVGb2N1c2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRXZvbHV0aW9uRW5hYmxlZCAmJiB0aGlzLmlzSW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyB0aGlzLmNsYXNzTmFtZU1hcFtjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTU10gKyBcIlt0YWJpbmRleD1cXFwiMFxcXCJdXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbml0aWFsRm9jdXNJbmRleCgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0RWxlbWVudHNbaW5kZXhdLnRhYkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ0xpc3QucHJvdG90eXBlLmluaXRpYWxGb2N1c0luZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4IGluc3RhbmNlb2YgQXJyYXkgJiYgdGhpcy5zZWxlY3RlZEluZGV4Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSW5kZXhbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNlbGVjdGVkSW5kZXggPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggIT09IG51bWJlcnMuVU5TRVRfSU5ERVgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyB0aGlzLmNsYXNzTmFtZU1hcFtjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTU10gKyBcIjpub3QoLlwiICsgdGhpcy5jbGFzc05hbWVNYXBbY3NzQ2xhc3Nlcy5MSVNUX0lURU1fRElTQUJMRURfQ0xBU1NdICsgXCIpXCIpO1xuICAgICAgICBpZiAoZWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRMaXN0SXRlbUluZGV4KGVsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gZmlndXJlIG91dCB3aGljaCBsaXN0IGl0ZW0gdGhpcyBldmVudCBpcyB0YXJnZXR0aW5nLiBPciByZXR1cm5zIC0xXG4gICAgICogaWYgdGhlcmUgaXMgbm8gbGlzdCBpdGVtXG4gICAgICovXG4gICAgTURDTGlzdC5wcm90b3R5cGUuZ2V0TGlzdEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgbmVhcmVzdFBhcmVudCA9IGNsb3Nlc3QoZWwsIFwiLlwiICsgdGhpcy5jbGFzc05hbWVNYXBbY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1NdICsgXCIsIC5cIiArIHRoaXMuY2xhc3NOYW1lTWFwW2Nzc0NsYXNzZXMuUk9PVF0pO1xuICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IGlmIGl0IGlzIGEgbGlzdCBpdGVtLlxuICAgICAgICBpZiAobmVhcmVzdFBhcmVudCAmJlxuICAgICAgICAgICAgbWF0Y2hlcyhuZWFyZXN0UGFyZW50LCBcIi5cIiArIHRoaXMuY2xhc3NOYW1lTWFwW2Nzc0NsYXNzZXMuTElTVF9JVEVNX0NMQVNTXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RFbGVtZW50cy5pbmRleE9mKG5lYXJlc3RQYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gZmlndXJlIG91dCB3aGljaCBlbGVtZW50IHdhcyBjbGlja2VkIGJlZm9yZSBzZW5kaW5nIHRoZSBldmVudCB0b1xuICAgICAqIHRoZSBmb3VuZGF0aW9uLlxuICAgICAqL1xuICAgIE1EQ0xpc3QucHJvdG90eXBlLmhhbmRsZUZvY3VzSW5FdmVudCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRMaXN0SXRlbUluZGV4KGV2dC50YXJnZXQpO1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uaGFuZGxlRm9jdXNJbihpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGZpZ3VyZSBvdXQgd2hpY2ggZWxlbWVudCB3YXMgY2xpY2tlZCBiZWZvcmUgc2VuZGluZyB0aGUgZXZlbnQgdG9cbiAgICAgKiB0aGUgZm91bmRhdGlvbi5cbiAgICAgKi9cbiAgICBNRENMaXN0LnByb3RvdHlwZS5oYW5kbGVGb2N1c091dEV2ZW50ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdldExpc3RJdGVtSW5kZXgoZXZ0LnRhcmdldCk7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5oYW5kbGVGb2N1c091dChpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGZpZ3VyZSBvdXQgd2hpY2ggZWxlbWVudCB3YXMgZm9jdXNlZCB3aGVuIGtleWRvd24gZXZlbnQgb2NjdXJyZWRcbiAgICAgKiBiZWZvcmUgc2VuZGluZyB0aGUgZXZlbnQgdG8gdGhlIGZvdW5kYXRpb24uXG4gICAgICovXG4gICAgTURDTGlzdC5wcm90b3R5cGUuaGFuZGxlS2V5ZG93bkV2ZW50ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdldExpc3RJdGVtSW5kZXgoZXZ0LnRhcmdldCk7XG4gICAgICAgIHZhciB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uaGFuZGxlS2V5ZG93bihldnQsIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jbGFzc05hbWVNYXBbY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1NdKSwgaW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBmaWd1cmUgb3V0IHdoaWNoIGVsZW1lbnQgd2FzIGNsaWNrZWQgYmVmb3JlIHNlbmRpbmcgdGhlIGV2ZW50IHRvXG4gICAgICogdGhlIGZvdW5kYXRpb24uXG4gICAgICovXG4gICAgTURDTGlzdC5wcm90b3R5cGUuaGFuZGxlQ2xpY2tFdmVudCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRMaXN0SXRlbUluZGV4KGV2dC50YXJnZXQpO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICAgICAgLy8gVG9nZ2xlIHRoZSBjaGVja2JveCBvbmx5IGlmIGl0J3Mgbm90IHRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50LCBvciB0aGVcbiAgICAgICAgLy8gY2hlY2tib3ggd2lsbCBoYXZlIDIgY2hhbmdlIGV2ZW50cy5cbiAgICAgICAgdmFyIHRvZ2dsZUNoZWNrYm94ID0gIW1hdGNoZXModGFyZ2V0LCBzdHJpbmdzLkNIRUNLQk9YX1JBRElPX1NFTEVDVE9SKTtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLmhhbmRsZUNsaWNrKGluZGV4LCB0b2dnbGVDaGVja2JveCwgZXZ0KTtcbiAgICB9O1xuICAgIHJldHVybiBNRENMaXN0O1xufShNRENDb21wb25lbnQpKTtcbmV4cG9ydCB7IE1EQ0xpc3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBDb3JuZXIsIENvcm5lckJpdCwgY3NzQ2xhc3NlcywgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3VyZmFjZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNRdWlja09wZW4gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNIb2lzdGVkRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc0ZpeGVkUG9zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNIb3Jpem9udGFsbHlDZW50ZXJlZE9uVmlld3BvcnQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgX3RoaXMub3BlbkJvdHRvbUJpYXMgPSAwO1xuICAgICAgICBfdGhpcy5vcGVuQW5pbWF0aW9uRW5kVGltZXJJZCA9IDA7XG4gICAgICAgIF90aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZCA9IDA7XG4gICAgICAgIF90aGlzLmFuaW1hdGlvblJlcXVlc3RJZCA9IDA7XG4gICAgICAgIF90aGlzLmFuY2hvckNvcm5lciA9IENvcm5lci5UT1BfU1RBUlQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3JuZXIgb2YgdGhlIG1lbnUgc3VyZmFjZSB0byB3aGljaCBtZW51IHN1cmZhY2UgaXMgYXR0YWNoZWQgdG8gYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgQW5jaG9yIGNvcm5lciAtLS0+Ky0tLS0tLS0tLS0rXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgICB8ICBBTkNIT1IgIHxcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tK1xuICAgICAgICAgKiAgT3JpZ2luIGNvcm5lciAtLS0+Ky0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCBNRU5VIFNVUkZBQ0UgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luQ29ybmVyID0gQ29ybmVyLlRPUF9TVEFSVDtcbiAgICAgICAgX3RoaXMuYW5jaG9yTWFyZ2luID0geyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgX3RoaXMucG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLCBcImNzc0NsYXNzZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NDbGFzc2VzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51U3VyZmFjZUZvdW5kYXRpb24sIFwibnVtYmVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLCBcIkNvcm5lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIENvcm5lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51U3VyZmFjZUZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgTURDTWVudVN1cmZhY2VBZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBoYXNBbmNob3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGlzRWxlbWVudEluQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGlzUnRsOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBnZXRJbm5lckRpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7IGhlaWdodDogMCwgd2lkdGg6IDAgfSk7IH0sXG4gICAgICAgICAgICAgICAgZ2V0QW5jaG9yRGltZW5zaW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBnZXRXaW5kb3dEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0pOyB9LFxuICAgICAgICAgICAgICAgIGdldEJvZHlEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0pOyB9LFxuICAgICAgICAgICAgICAgIGdldFdpbmRvd1Njcm9sbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgeDogMCwgeTogMCB9KTsgfSxcbiAgICAgICAgICAgICAgICBzZXRQb3NpdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldE1heEhlaWdodDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldFRyYW5zZm9ybU9yaWdpbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNhdmVGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlc3RvcmVGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeUNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5Q2xvc2luZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeU9wZW46IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlPcGVuaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMsIFJPT1QgPSBfYS5ST09ULCBPUEVOID0gX2EuT1BFTjtcbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoUk9PVCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihST09UICsgXCIgY2xhc3MgcmVxdWlyZWQgaW4gcm9vdCBlbGVtZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hZGFwdGVyLmhhc0NsYXNzKE9QRU4pKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3VyZmFjZU9wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm9wZW5BbmltYXRpb25FbmRUaW1lcklkKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VBbmltYXRpb25FbmRUaW1lcklkKTtcbiAgICAgICAgLy8gQ2FuY2VsIGFueSBjdXJyZW50bHkgcnVubmluZyBhbmltYXRpb25zLlxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvblJlcXVlc3RJZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29ybmVyIERlZmF1bHQgYW5jaG9yIGNvcm5lciBhbGlnbm1lbnQgb2YgdG9wLWxlZnQgbWVudSBzdXJmYWNlXG4gICAgICogICAgIGNvcm5lci5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldEFuY2hvckNvcm5lciA9IGZ1bmN0aW9uIChjb3JuZXIpIHtcbiAgICAgICAgdGhpcy5hbmNob3JDb3JuZXIgPSBjb3JuZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbGlwIG1lbnUgY29ybmVyIGhvcml6b250YWxseS5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmZsaXBDb3JuZXJIb3Jpem9udGFsbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub3JpZ2luQ29ybmVyID0gdGhpcy5vcmlnaW5Db3JuZXIgXiBDb3JuZXJCaXQuUklHSFQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbWFyZ2luIFNldCBvZiBtYXJnaW4gdmFsdWVzIGZyb20gYW5jaG9yLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0QW5jaG9yTWFyZ2luID0gZnVuY3Rpb24gKG1hcmdpbikge1xuICAgICAgICB0aGlzLmFuY2hvck1hcmdpbi50b3AgPSBtYXJnaW4udG9wIHx8IDA7XG4gICAgICAgIHRoaXMuYW5jaG9yTWFyZ2luLnJpZ2h0ID0gbWFyZ2luLnJpZ2h0IHx8IDA7XG4gICAgICAgIHRoaXMuYW5jaG9yTWFyZ2luLmJvdHRvbSA9IG1hcmdpbi5ib3R0b20gfHwgMDtcbiAgICAgICAgdGhpcy5hbmNob3JNYXJnaW4ubGVmdCA9IG1hcmdpbi5sZWZ0IHx8IDA7XG4gICAgfTtcbiAgICAvKiogVXNlZCB0byBpbmRpY2F0ZSBpZiB0aGUgbWVudS1zdXJmYWNlIGlzIGhvaXN0ZWQgdG8gdGhlIGJvZHkuICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRJc0hvaXN0ZWQgPSBmdW5jdGlvbiAoaXNIb2lzdGVkKSB7XG4gICAgICAgIHRoaXMuaXNIb2lzdGVkRWxlbWVudCA9IGlzSG9pc3RlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gc2V0IHRoZSBtZW51LXN1cmZhY2UgY2FsY3VsYXRpb25zIGJhc2VkIG9uIGEgZml4ZWQgcG9zaXRpb24gbWVudS5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldEZpeGVkUG9zaXRpb24gPSBmdW5jdGlvbiAoaXNGaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuaXNGaXhlZFBvc2l0aW9uID0gaXNGaXhlZFBvc2l0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBSZXR1cm5zIHRydWUgaWYgbWVudSBpcyBpbiBmaXhlZCAoYHBvc2l0aW9uOiBmaXhlZGApIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuaXNGaXhlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNGaXhlZFBvc2l0aW9uO1xuICAgIH07XG4gICAgLyoqIFNldHMgdGhlIG1lbnUtc3VyZmFjZSBwb3NpdGlvbiBvbiB0aGUgcGFnZS4gKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldEFic29sdXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB0aGlzLmlzRmluaXRlKHgpID8geCA6IDA7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHRoaXMuaXNGaW5pdGUoeSkgPyB5IDogMDtcbiAgICB9O1xuICAgIC8qKiBTZXRzIHdoZXRoZXIgbWVudS1zdXJmYWNlIHNob3VsZCBiZSBob3Jpem9udGFsbHkgY2VudGVyZWQgdG8gdmlld3BvcnQuICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRJc0hvcml6b250YWxseUNlbnRlcmVkT25WaWV3cG9ydCA9IGZ1bmN0aW9uIChpc0NlbnRlcmVkKSB7XG4gICAgICAgIHRoaXMuaXNIb3Jpem9udGFsbHlDZW50ZXJlZE9uVmlld3BvcnQgPSBpc0NlbnRlcmVkO1xuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRRdWlja09wZW4gPSBmdW5jdGlvbiAocXVpY2tPcGVuKSB7XG4gICAgICAgIHRoaXMuaXNRdWlja09wZW4gPSBxdWlja09wZW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIG1heGltdW0gbWVudS1zdXJmYWNlIGhlaWdodCBvbiBvcGVuLlxuICAgICAqIEBwYXJhbSBtYXhIZWlnaHQgVGhlIGRlc2lyZWQgbWF4LWhlaWdodC4gU2V0IHRvIDAgKGRlZmF1bHQpIHRvXG4gICAgICogICAgIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlIG1heCBoZWlnaHQgYmFzZWQgb24gYXZhaWxhYmxlIHZpZXdwb3J0IHNwYWNlLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0TWF4SGVpZ2h0ID0gZnVuY3Rpb24gKG1heEhlaWdodCkge1xuICAgICAgICB0aGlzLm1heEhlaWdodCA9IG1heEhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0byBhIHBvc2l0aXZlIGludGVnZXIgdG8gaW5mbHVlbmNlIHRoZSBtZW51IHRvIHByZWZlcmVudGlhbGx5IG9wZW5cbiAgICAgKiBiZWxvdyB0aGUgYW5jaG9yIGluc3RlYWQgb2YgYWJvdmUuXG4gICAgICogQHBhcmFtIGJpYXMgQSB2YWx1ZSBvZiBgeGAgc2ltdWxhdGVzIGFuIGV4dHJhIGB4YCBwaXhlbHMgb2YgYXZhaWxhYmxlIHNwYWNlXG4gICAgICogICAgIGJlbG93IHRoZSBtZW51IGR1cmluZyBwb3NpdGlvbmluZyBjYWxjdWxhdGlvbnMuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRPcGVuQm90dG9tQmlhcyA9IGZ1bmN0aW9uIChiaWFzKSB7XG4gICAgICAgIHRoaXMub3BlbkJvdHRvbUJpYXMgPSBiaWFzO1xuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU3VyZmFjZU9wZW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBtZW51IHN1cmZhY2UuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pc1N1cmZhY2VPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeU9wZW5pbmcoKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNhdmVGb2N1cygpO1xuICAgICAgICBpZiAodGhpcy5pc1F1aWNrT3Blbikge1xuICAgICAgICAgICAgdGhpcy5pc1N1cmZhY2VPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5PUEVOKTtcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IHRoaXMuYWRhcHRlci5nZXRJbm5lckRpbWVuc2lvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuYXV0b3Bvc2l0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90aWZ5T3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkFOSU1BVElOR19PUEVOKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaW1lbnNpb25zID0gX3RoaXMuYWRhcHRlci5nZXRJbm5lckRpbWVuc2lvbnMoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hdXRvcG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLmFkZENsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLk9QRU4pO1xuICAgICAgICAgICAgICAgIF90aGlzLm9wZW5BbmltYXRpb25FbmRUaW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9wZW5BbmltYXRpb25FbmRUaW1lcklkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5BTklNQVRJTkdfT1BFTik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIubm90aWZ5T3BlbigpO1xuICAgICAgICAgICAgICAgIH0sIG51bWJlcnMuVFJBTlNJVElPTl9PUEVOX0RVUkFUSU9OKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5pc1N1cmZhY2VPcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBtZW51IHN1cmZhY2UuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChza2lwUmVzdG9yZUZvY3VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChza2lwUmVzdG9yZUZvY3VzID09PSB2b2lkIDApIHsgc2tpcFJlc3RvcmVGb2N1cyA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghdGhpcy5pc1N1cmZhY2VPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeUNsb3NpbmcoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNRdWlja09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdXJmYWNlT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFza2lwUmVzdG9yZUZvY3VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVJlc3RvcmVGb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLk9QRU4pO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLklTX09QRU5fQkVMT1cpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeUNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkFOSU1BVElOR19DTE9TRUQpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5PUEVOKTtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuSVNfT1BFTl9CRUxPVyk7XG4gICAgICAgICAgICBfdGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWQgPSAwO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuQU5JTUFUSU5HX0NMT1NFRCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5ub3RpZnlDbG9zZSgpO1xuICAgICAgICAgICAgfSwgbnVtYmVycy5UUkFOU0lUSU9OX0NMT1NFX0RVUkFUSU9OKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaXNTdXJmYWNlT3BlbiA9IGZhbHNlO1xuICAgICAgICBpZiAoIXNraXBSZXN0b3JlRm9jdXMpIHtcbiAgICAgICAgICAgIHRoaXMubWF5YmVSZXN0b3JlRm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEhhbmRsZSBjbGlja3MgYW5kIGNsb3NlIGlmIG5vdCB3aXRoaW4gbWVudS1zdXJmYWNlIGVsZW1lbnQuICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVCb2R5Q2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBlbCA9IGV2dC50YXJnZXQ7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaXNFbGVtZW50SW5Db250YWluZXIoZWwpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH07XG4gICAgLyoqIEhhbmRsZSBrZXlzIHRoYXQgY2xvc2UgdGhlIHN1cmZhY2UuICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVLZXlkb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIga2V5Q29kZSA9IGV2dC5rZXlDb2RlLCBrZXkgPSBldnQua2V5O1xuICAgICAgICB2YXIgaXNFc2NhcGUgPSBrZXkgPT09ICdFc2NhcGUnIHx8IGtleUNvZGUgPT09IDI3O1xuICAgICAgICBpZiAoaXNFc2NhcGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5hdXRvcG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gQ29tcHV0ZSBtZWFzdXJlbWVudHMgZm9yIGF1dG9wb3NpdGlvbiBtZXRob2RzIHJldXNlLlxuICAgICAgICB0aGlzLm1lYXN1cmVtZW50cyA9IHRoaXMuZ2V0QXV0b0xheW91dG1lYXN1cmVtZW50cygpO1xuICAgICAgICB2YXIgY29ybmVyID0gdGhpcy5nZXRvcmlnaW5Db3JuZXIoKTtcbiAgICAgICAgdmFyIG1heE1lbnVTdXJmYWNlSGVpZ2h0ID0gdGhpcy5nZXRNZW51U3VyZmFjZU1heEhlaWdodChjb3JuZXIpO1xuICAgICAgICB2YXIgdmVydGljYWxBbGlnbm1lbnQgPSB0aGlzLmhhc0JpdChjb3JuZXIsIENvcm5lckJpdC5CT1RUT00pID8gJ2JvdHRvbScgOiAndG9wJztcbiAgICAgICAgdmFyIGhvcml6b250YWxBbGlnbm1lbnQgPSB0aGlzLmhhc0JpdChjb3JuZXIsIENvcm5lckJpdC5SSUdIVCkgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICB2YXIgaG9yaXpvbnRhbE9mZnNldCA9IHRoaXMuZ2V0SG9yaXpvbnRhbE9yaWdpbk9mZnNldChjb3JuZXIpO1xuICAgICAgICB2YXIgdmVydGljYWxPZmZzZXQgPSB0aGlzLmdldFZlcnRpY2FsT3JpZ2luT2Zmc2V0KGNvcm5lcik7XG4gICAgICAgIHZhciBfYiA9IHRoaXMubWVhc3VyZW1lbnRzLCBhbmNob3JTaXplID0gX2IuYW5jaG9yU2l6ZSwgc3VyZmFjZVNpemUgPSBfYi5zdXJmYWNlU2l6ZTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gKF9hID0ge30sXG4gICAgICAgICAgICBfYVtob3Jpem9udGFsQWxpZ25tZW50XSA9IGhvcml6b250YWxPZmZzZXQsXG4gICAgICAgICAgICBfYVt2ZXJ0aWNhbEFsaWdubWVudF0gPSB2ZXJ0aWNhbE9mZnNldCxcbiAgICAgICAgICAgIF9hKTtcbiAgICAgICAgLy8gQ2VudGVyIGFsaWduIHdoZW4gYW5jaG9yIHdpZHRoIGlzIGNvbXBhcmFibGUgb3IgZ3JlYXRlciB0aGFuIG1lbnVcbiAgICAgICAgLy8gc3VyZmFjZSwgb3RoZXJ3aXNlIGtlZXAgY29ybmVyLlxuICAgICAgICBpZiAoYW5jaG9yU2l6ZS53aWR0aCAvIHN1cmZhY2VTaXplLndpZHRoID5cbiAgICAgICAgICAgIG51bWJlcnMuQU5DSE9SX1RPX01FTlVfU1VSRkFDRV9XSURUSF9SQVRJTykge1xuICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9ICdjZW50ZXInO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBtZW51LXN1cmZhY2UgaGFzIGJlZW4gaG9pc3RlZCB0byB0aGUgYm9keSwgaXQncyBubyBsb25nZXIgcmVsYXRpdmVcbiAgICAgICAgLy8gdG8gdGhlIGFuY2hvciBlbGVtZW50XG4gICAgICAgIGlmICh0aGlzLmlzSG9pc3RlZEVsZW1lbnQgfHwgdGhpcy5pc0ZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0UG9zaXRpb25Gb3JIb2lzdGVkRWxlbWVudChwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldFRyYW5zZm9ybU9yaWdpbihob3Jpem9udGFsQWxpZ25tZW50ICsgXCIgXCIgKyB2ZXJ0aWNhbEFsaWdubWVudCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRNYXhIZWlnaHQobWF4TWVudVN1cmZhY2VIZWlnaHQgPyBtYXhNZW51U3VyZmFjZUhlaWdodCArICdweCcgOiAnJyk7XG4gICAgICAgIC8vIElmIGl0IGlzIG9wZW5lZCBmcm9tIHRoZSB0b3AgdGhlbiBhZGQgaXMtb3Blbi1iZWxvdyBjbGFzc1xuICAgICAgICBpZiAoIXRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LkJPVFRPTSkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5JU19PUEVOX0JFTE9XKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBNZWFzdXJlbWVudHMgdXNlZCB0byBwb3NpdGlvbiBtZW51IHN1cmZhY2UgcG9wdXAuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRBdXRvTGF5b3V0bWVhc3VyZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYW5jaG9yUmVjdCA9IHRoaXMuYWRhcHRlci5nZXRBbmNob3JEaW1lbnNpb25zKCk7XG4gICAgICAgIHZhciBib2R5U2l6ZSA9IHRoaXMuYWRhcHRlci5nZXRCb2R5RGltZW5zaW9ucygpO1xuICAgICAgICB2YXIgdmlld3BvcnRTaXplID0gdGhpcy5hZGFwdGVyLmdldFdpbmRvd0RpbWVuc2lvbnMoKTtcbiAgICAgICAgdmFyIHdpbmRvd1Njcm9sbCA9IHRoaXMuYWRhcHRlci5nZXRXaW5kb3dTY3JvbGwoKTtcbiAgICAgICAgaWYgKCFhbmNob3JSZWN0KSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgUG9zaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBtb3JlIHJlYWRhYmxlIHdoZW4gdGhleSdyZSBncm91cGVkIHRvZ2V0aGVyXG4gICAgICAgICAgICBhbmNob3JSZWN0ID0ge1xuICAgICAgICAgICAgICAgIHRvcDogdGhpcy5wb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLnBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgbGVmdDogdGhpcy5wb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbmNob3JTaXplOiBhbmNob3JSZWN0LFxuICAgICAgICAgICAgYm9keVNpemU6IGJvZHlTaXplLFxuICAgICAgICAgICAgc3VyZmFjZVNpemU6IHRoaXMuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIHZpZXdwb3J0RGlzdGFuY2U6IHtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgUG9zaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBtb3JlIHJlYWRhYmxlIHdoZW4gdGhleSdyZSBncm91cGVkIHRvZ2V0aGVyXG4gICAgICAgICAgICAgICAgdG9wOiBhbmNob3JSZWN0LnRvcCxcbiAgICAgICAgICAgICAgICByaWdodDogdmlld3BvcnRTaXplLndpZHRoIC0gYW5jaG9yUmVjdC5yaWdodCxcbiAgICAgICAgICAgICAgICBib3R0b206IHZpZXdwb3J0U2l6ZS5oZWlnaHQgLSBhbmNob3JSZWN0LmJvdHRvbSxcbiAgICAgICAgICAgICAgICBsZWZ0OiBhbmNob3JSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2aWV3cG9ydFNpemU6IHZpZXdwb3J0U2l6ZSxcbiAgICAgICAgICAgIHdpbmRvd1Njcm9sbDogd2luZG93U2Nyb2xsLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGNvcm5lciBvZiB0aGUgYW5jaG9yIGZyb20gd2hpY2ggdG8gYW5pbWF0ZSBhbmQgcG9zaXRpb24gdGhlXG4gICAgICogbWVudSBzdXJmYWNlLlxuICAgICAqXG4gICAgICogT25seSBMRUZUIG9yIFJJR0hUIGJpdCBpcyB1c2VkIHRvIHBvc2l0aW9uIHRoZSBtZW51IHN1cmZhY2UgaWdub3JpbmcgUlRMXG4gICAgICogY29udGV4dC4gRS5nLiwgbWVudSBzdXJmYWNlIHdpbGwgYmUgcG9zaXRpb25lZCBmcm9tIHJpZ2h0IHNpZGUgb24gVE9QX0VORC5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldG9yaWdpbkNvcm5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvcm5lciA9IHRoaXMub3JpZ2luQ29ybmVyO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1lYXN1cmVtZW50cywgdmlld3BvcnREaXN0YW5jZSA9IF9hLnZpZXdwb3J0RGlzdGFuY2UsIGFuY2hvclNpemUgPSBfYS5hbmNob3JTaXplLCBzdXJmYWNlU2l6ZSA9IF9hLnN1cmZhY2VTaXplO1xuICAgICAgICB2YXIgTUFSR0lOX1RPX0VER0UgPSBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ubnVtYmVycy5NQVJHSU5fVE9fRURHRTtcbiAgICAgICAgdmFyIGlzQW5jaG9yZWRUb0JvdHRvbSA9IHRoaXMuaGFzQml0KHRoaXMuYW5jaG9yQ29ybmVyLCBDb3JuZXJCaXQuQk9UVE9NKTtcbiAgICAgICAgdmFyIGF2YWlsYWJsZVRvcDtcbiAgICAgICAgdmFyIGF2YWlsYWJsZUJvdHRvbTtcbiAgICAgICAgaWYgKGlzQW5jaG9yZWRUb0JvdHRvbSkge1xuICAgICAgICAgICAgYXZhaWxhYmxlVG9wID1cbiAgICAgICAgICAgICAgICB2aWV3cG9ydERpc3RhbmNlLnRvcCAtIE1BUkdJTl9UT19FREdFICsgdGhpcy5hbmNob3JNYXJnaW4uYm90dG9tO1xuICAgICAgICAgICAgYXZhaWxhYmxlQm90dG9tID1cbiAgICAgICAgICAgICAgICB2aWV3cG9ydERpc3RhbmNlLmJvdHRvbSAtIE1BUkdJTl9UT19FREdFIC0gdGhpcy5hbmNob3JNYXJnaW4uYm90dG9tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXZhaWxhYmxlVG9wID1cbiAgICAgICAgICAgICAgICB2aWV3cG9ydERpc3RhbmNlLnRvcCAtIE1BUkdJTl9UT19FREdFICsgdGhpcy5hbmNob3JNYXJnaW4udG9wO1xuICAgICAgICAgICAgYXZhaWxhYmxlQm90dG9tID0gdmlld3BvcnREaXN0YW5jZS5ib3R0b20gLSBNQVJHSU5fVE9fRURHRSArXG4gICAgICAgICAgICAgICAgYW5jaG9yU2l6ZS5oZWlnaHQgLSB0aGlzLmFuY2hvck1hcmdpbi50b3A7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzQXZhaWxhYmxlQm90dG9tID0gYXZhaWxhYmxlQm90dG9tIC0gc3VyZmFjZVNpemUuaGVpZ2h0ID4gMDtcbiAgICAgICAgaWYgKCFpc0F2YWlsYWJsZUJvdHRvbSAmJlxuICAgICAgICAgICAgYXZhaWxhYmxlVG9wID4gYXZhaWxhYmxlQm90dG9tICsgdGhpcy5vcGVuQm90dG9tQmlhcykge1xuICAgICAgICAgICAgLy8gQXR0YWNoIGJvdHRvbSBzaWRlIG9mIHN1cmZhY2UgdG8gdGhlIGFuY2hvci5cbiAgICAgICAgICAgIGNvcm5lciA9IHRoaXMuc2V0Qml0KGNvcm5lciwgQ29ybmVyQml0LkJPVFRPTSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzUnRsID0gdGhpcy5hZGFwdGVyLmlzUnRsKCk7XG4gICAgICAgIHZhciBpc0ZsaXBSdGwgPSB0aGlzLmhhc0JpdCh0aGlzLmFuY2hvckNvcm5lciwgQ29ybmVyQml0LkZMSVBfUlRMKTtcbiAgICAgICAgdmFyIGhhc1JpZ2h0Qml0ID0gdGhpcy5oYXNCaXQodGhpcy5hbmNob3JDb3JuZXIsIENvcm5lckJpdC5SSUdIVCkgfHxcbiAgICAgICAgICAgIHRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LlJJR0hUKTtcbiAgICAgICAgLy8gV2hldGhlciBzdXJmYWNlIGF0dGFjaGVkIHRvIHJpZ2h0IHNpZGUgb2YgYW5jaG9yIGVsZW1lbnQuXG4gICAgICAgIHZhciBpc0FuY2hvcmVkVG9SaWdodCA9IGZhbHNlO1xuICAgICAgICAvLyBBbmNob3JlZCB0byBzdGFydFxuICAgICAgICBpZiAoaXNSdGwgJiYgaXNGbGlwUnRsKSB7XG4gICAgICAgICAgICBpc0FuY2hvcmVkVG9SaWdodCA9ICFoYXNSaWdodEJpdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFuY2hvcmVkIHRvIHJpZ2h0XG4gICAgICAgICAgICBpc0FuY2hvcmVkVG9SaWdodCA9IGhhc1JpZ2h0Qml0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdmFpbGFibGVMZWZ0O1xuICAgICAgICB2YXIgYXZhaWxhYmxlUmlnaHQ7XG4gICAgICAgIGlmIChpc0FuY2hvcmVkVG9SaWdodCkge1xuICAgICAgICAgICAgYXZhaWxhYmxlTGVmdCA9XG4gICAgICAgICAgICAgICAgdmlld3BvcnREaXN0YW5jZS5sZWZ0ICsgYW5jaG9yU2l6ZS53aWR0aCArIHRoaXMuYW5jaG9yTWFyZ2luLnJpZ2h0O1xuICAgICAgICAgICAgYXZhaWxhYmxlUmlnaHQgPSB2aWV3cG9ydERpc3RhbmNlLnJpZ2h0IC0gdGhpcy5hbmNob3JNYXJnaW4ucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdmFpbGFibGVMZWZ0ID0gdmlld3BvcnREaXN0YW5jZS5sZWZ0ICsgdGhpcy5hbmNob3JNYXJnaW4ubGVmdDtcbiAgICAgICAgICAgIGF2YWlsYWJsZVJpZ2h0ID1cbiAgICAgICAgICAgICAgICB2aWV3cG9ydERpc3RhbmNlLnJpZ2h0ICsgYW5jaG9yU2l6ZS53aWR0aCAtIHRoaXMuYW5jaG9yTWFyZ2luLmxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzQXZhaWxhYmxlTGVmdCA9IGF2YWlsYWJsZUxlZnQgLSBzdXJmYWNlU2l6ZS53aWR0aCA+IDA7XG4gICAgICAgIHZhciBpc0F2YWlsYWJsZVJpZ2h0ID0gYXZhaWxhYmxlUmlnaHQgLSBzdXJmYWNlU2l6ZS53aWR0aCA+IDA7XG4gICAgICAgIHZhciBpc09yaWdpbkNvcm5lckFsaWduZWRUb0VuZCA9IHRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LkZMSVBfUlRMKSAmJlxuICAgICAgICAgICAgdGhpcy5oYXNCaXQoY29ybmVyLCBDb3JuZXJCaXQuUklHSFQpO1xuICAgICAgICBpZiAoaXNBdmFpbGFibGVSaWdodCAmJiBpc09yaWdpbkNvcm5lckFsaWduZWRUb0VuZCAmJiBpc1J0bCB8fFxuICAgICAgICAgICAgIWlzQXZhaWxhYmxlTGVmdCAmJiBpc09yaWdpbkNvcm5lckFsaWduZWRUb0VuZCkge1xuICAgICAgICAgICAgLy8gQXR0YWNoIGxlZnQgc2lkZSBvZiBzdXJmYWNlIHRvIHRoZSBhbmNob3IuXG4gICAgICAgICAgICBjb3JuZXIgPSB0aGlzLnVuc2V0Qml0KGNvcm5lciwgQ29ybmVyQml0LlJJR0hUKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0F2YWlsYWJsZUxlZnQgJiYgaXNBbmNob3JlZFRvUmlnaHQgJiYgaXNSdGwgfHxcbiAgICAgICAgICAgIChpc0F2YWlsYWJsZUxlZnQgJiYgIWlzQW5jaG9yZWRUb1JpZ2h0ICYmIGhhc1JpZ2h0Qml0KSB8fFxuICAgICAgICAgICAgKCFpc0F2YWlsYWJsZVJpZ2h0ICYmIGF2YWlsYWJsZUxlZnQgPj0gYXZhaWxhYmxlUmlnaHQpKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2ggcmlnaHQgc2lkZSBvZiBzdXJmYWNlIHRvIHRoZSBhbmNob3IuXG4gICAgICAgICAgICBjb3JuZXIgPSB0aGlzLnNldEJpdChjb3JuZXIsIENvcm5lckJpdC5SSUdIVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvcm5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3JuZXIgT3JpZ2luIGNvcm5lciBvZiB0aGUgbWVudSBzdXJmYWNlLlxuICAgICAqIEByZXR1cm4gTWF4aW11bSBoZWlnaHQgb2YgdGhlIG1lbnUgc3VyZmFjZSwgYmFzZWQgb24gYXZhaWxhYmxlIHNwYWNlLiAwXG4gICAgICogICAgIGluZGljYXRlcyBzaG91bGQgbm90IGJlIHNldC5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldE1lbnVTdXJmYWNlTWF4SGVpZ2h0ID0gZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICBpZiAodGhpcy5tYXhIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXhIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpZXdwb3J0RGlzdGFuY2UgPSB0aGlzLm1lYXN1cmVtZW50cy52aWV3cG9ydERpc3RhbmNlO1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIGlzQm90dG9tQWxpZ25lZCA9IHRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LkJPVFRPTSk7XG4gICAgICAgIHZhciBpc0JvdHRvbUFuY2hvcmVkID0gdGhpcy5oYXNCaXQodGhpcy5hbmNob3JDb3JuZXIsIENvcm5lckJpdC5CT1RUT00pO1xuICAgICAgICB2YXIgTUFSR0lOX1RPX0VER0UgPSBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ubnVtYmVycy5NQVJHSU5fVE9fRURHRTtcbiAgICAgICAgLy8gV2hlbiBtYXhpbXVtIGhlaWdodCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBpcyBoYW5kbGVkIGZyb20gQ1NTLlxuICAgICAgICBpZiAoaXNCb3R0b21BbGlnbmVkKSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSB2aWV3cG9ydERpc3RhbmNlLnRvcCArIHRoaXMuYW5jaG9yTWFyZ2luLnRvcCAtIE1BUkdJTl9UT19FREdFO1xuICAgICAgICAgICAgaWYgKCFpc0JvdHRvbUFuY2hvcmVkKSB7XG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0ICs9IHRoaXMubWVhc3VyZW1lbnRzLmFuY2hvclNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gdmlld3BvcnREaXN0YW5jZS5ib3R0b20gLSB0aGlzLmFuY2hvck1hcmdpbi5ib3R0b20gK1xuICAgICAgICAgICAgICAgIHRoaXMubWVhc3VyZW1lbnRzLmFuY2hvclNpemUuaGVpZ2h0IC0gTUFSR0lOX1RPX0VER0U7XG4gICAgICAgICAgICBpZiAoaXNCb3R0b21BbmNob3JlZCkge1xuICAgICAgICAgICAgICAgIG1heEhlaWdodCAtPSB0aGlzLm1lYXN1cmVtZW50cy5hbmNob3JTaXplLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4SGVpZ2h0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvcm5lciBPcmlnaW4gY29ybmVyIG9mIHRoZSBtZW51IHN1cmZhY2UuXG4gICAgICogQHJldHVybiBIb3Jpem9udGFsIG9mZnNldCBvZiBtZW51IHN1cmZhY2Ugb3JpZ2luIGNvcm5lciBmcm9tIGNvcnJlc3BvbmRpbmdcbiAgICAgKiAgICAgYW5jaG9yIGNvcm5lci5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldEhvcml6b250YWxPcmlnaW5PZmZzZXQgPSBmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICAgIHZhciBhbmNob3JTaXplID0gdGhpcy5tZWFzdXJlbWVudHMuYW5jaG9yU2l6ZTtcbiAgICAgICAgLy8gaXNSaWdodEFsaWduZWQgY29ycmVzcG9uZHMgdG8gdXNpbmcgdGhlICdyaWdodCcgcHJvcGVydHkgb24gdGhlIHN1cmZhY2UuXG4gICAgICAgIHZhciBpc1JpZ2h0QWxpZ25lZCA9IHRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LlJJR0hUKTtcbiAgICAgICAgdmFyIGF2b2lkSG9yaXpvbnRhbE92ZXJsYXAgPSB0aGlzLmhhc0JpdCh0aGlzLmFuY2hvckNvcm5lciwgQ29ybmVyQml0LlJJR0hUKTtcbiAgICAgICAgaWYgKGlzUmlnaHRBbGlnbmVkKSB7XG4gICAgICAgICAgICB2YXIgcmlnaHRPZmZzZXQgPSBhdm9pZEhvcml6b250YWxPdmVybGFwID9cbiAgICAgICAgICAgICAgICBhbmNob3JTaXplLndpZHRoIC0gdGhpcy5hbmNob3JNYXJnaW4ubGVmdCA6XG4gICAgICAgICAgICAgICAgdGhpcy5hbmNob3JNYXJnaW4ucmlnaHQ7XG4gICAgICAgICAgICAvLyBGb3IgaG9pc3RlZCBvciBmaXhlZCBlbGVtZW50cywgYWRqdXN0IHRoZSBvZmZzZXQgYnkgdGhlIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIGJldHdlZW4gdmlld3BvcnQgd2lkdGggYW5kIGJvZHkgd2lkdGggc28gd2hlbiB3ZSBjYWxjdWxhdGUgdGhlIHJpZ2h0XG4gICAgICAgICAgICAvLyB2YWx1ZSAoYGFkanVzdFBvc2l0aW9uRm9ySG9pc3RlZEVsZW1lbnRgKSBiYXNlZCBvbiB0aGUgZWxlbWVudFxuICAgICAgICAgICAgLy8gcG9zaXRpb24sIHRoZSByaWdodCBwcm9wZXJ0eSBpcyBjb3JyZWN0LlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIb2lzdGVkRWxlbWVudCB8fCB0aGlzLmlzRml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWdodE9mZnNldCAtXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLm1lYXN1cmVtZW50cy52aWV3cG9ydFNpemUud2lkdGggLVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlbWVudHMuYm9keVNpemUud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJpZ2h0T2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdm9pZEhvcml6b250YWxPdmVybGFwID8gYW5jaG9yU2l6ZS53aWR0aCAtIHRoaXMuYW5jaG9yTWFyZ2luLnJpZ2h0IDpcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yTWFyZ2luLmxlZnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29ybmVyIE9yaWdpbiBjb3JuZXIgb2YgdGhlIG1lbnUgc3VyZmFjZS5cbiAgICAgKiBAcmV0dXJuIFZlcnRpY2FsIG9mZnNldCBvZiBtZW51IHN1cmZhY2Ugb3JpZ2luIGNvcm5lciBmcm9tIGNvcnJlc3BvbmRpbmdcbiAgICAgKiAgICAgYW5jaG9yIGNvcm5lci5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldFZlcnRpY2FsT3JpZ2luT2Zmc2V0ID0gZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICB2YXIgYW5jaG9yU2l6ZSA9IHRoaXMubWVhc3VyZW1lbnRzLmFuY2hvclNpemU7XG4gICAgICAgIHZhciBpc0JvdHRvbUFsaWduZWQgPSB0aGlzLmhhc0JpdChjb3JuZXIsIENvcm5lckJpdC5CT1RUT00pO1xuICAgICAgICB2YXIgYXZvaWRWZXJ0aWNhbE92ZXJsYXAgPSB0aGlzLmhhc0JpdCh0aGlzLmFuY2hvckNvcm5lciwgQ29ybmVyQml0LkJPVFRPTSk7XG4gICAgICAgIHZhciB5ID0gMDtcbiAgICAgICAgaWYgKGlzQm90dG9tQWxpZ25lZCkge1xuICAgICAgICAgICAgeSA9IGF2b2lkVmVydGljYWxPdmVybGFwID8gYW5jaG9yU2l6ZS5oZWlnaHQgLSB0aGlzLmFuY2hvck1hcmdpbi50b3AgOlxuICAgICAgICAgICAgICAgIC10aGlzLmFuY2hvck1hcmdpbi5ib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB5ID0gYXZvaWRWZXJ0aWNhbE92ZXJsYXAgP1xuICAgICAgICAgICAgICAgIChhbmNob3JTaXplLmhlaWdodCArIHRoaXMuYW5jaG9yTWFyZ2luLmJvdHRvbSkgOlxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yTWFyZ2luLnRvcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG9mZnNldHMgZm9yIHBvc2l0aW9uaW5nIHRoZSBtZW51LXN1cmZhY2Ugd2hlbiB0aGVcbiAgICAgKiBtZW51LXN1cmZhY2UgaGFzIGJlZW4gaG9pc3RlZCB0byB0aGUgYm9keS5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmFkanVzdFBvc2l0aW9uRm9ySG9pc3RlZEVsZW1lbnQgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBfYiA9IHRoaXMubWVhc3VyZW1lbnRzLCB3aW5kb3dTY3JvbGwgPSBfYi53aW5kb3dTY3JvbGwsIHZpZXdwb3J0RGlzdGFuY2UgPSBfYi52aWV3cG9ydERpc3RhbmNlLCBzdXJmYWNlU2l6ZSA9IF9iLnN1cmZhY2VTaXplLCB2aWV3cG9ydFNpemUgPSBfYi52aWV3cG9ydFNpemU7XG4gICAgICAgIHZhciBwcm9wcyA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BzXzEgPSBfX3ZhbHVlcyhwcm9wcyksIHByb3BzXzFfMSA9IHByb3BzXzEubmV4dCgpOyAhcHJvcHNfMV8xLmRvbmU7IHByb3BzXzFfMSA9IHByb3BzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcG9zaXRpb25bcHJvcF0gfHwgMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0hvcml6b250YWxseUNlbnRlcmVkT25WaWV3cG9ydCAmJlxuICAgICAgICAgICAgICAgICAgICAocHJvcCA9PT0gJ2xlZnQnIHx8IHByb3AgPT09ICdyaWdodCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uW3Byb3BdID0gKHZpZXdwb3J0U2l6ZS53aWR0aCAtIHN1cmZhY2VTaXplLndpZHRoKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIb2lzdGVkIHN1cmZhY2VzIG5lZWQgdG8gaGF2ZSB0aGUgYW5jaG9yIGVsZW1lbnRzIGxvY2F0aW9uIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgLy8gYWRkZWQgdG8gdGhlIHBvc2l0aW9uIHByb3BlcnRpZXMgZm9yIHByb3BlciBhbGlnbm1lbnQgb24gdGhlIGJvZHkuXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gdmlld3BvcnREaXN0YW5jZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAvLyBTdXJmYWNlcyB0aGF0IGFyZSBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQgbmVlZCB0byBoYXZlIGFkZGl0aW9uYWxcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGlvbnMgZm9yIHNjcm9sbCBhbmQgYm90dG9tIHBvc2l0aW9uaW5nLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0ZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICd0b3AnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB3aW5kb3dTY3JvbGwueTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT0gd2luZG93U2Nyb2xsLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB3aW5kb3dTY3JvbGwueDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gcHJvcCA9PT0gJ3JpZ2h0J1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT0gd2luZG93U2Nyb2xsLng7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zaXRpb25bcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzXzFfMSAmJiAhcHJvcHNfMV8xLmRvbmUgJiYgKF9hID0gcHJvcHNfMS5yZXR1cm4pKSBfYS5jYWxsKHByb3BzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCBmb2N1c2VkIGVsZW1lbnQgd2hlbiB0aGUgbWVudSBzdXJmYWNlIHdhcyBvcGVuZWQgc2hvdWxkIHJlZ2FpblxuICAgICAqIGZvY3VzLCBpZiB0aGUgdXNlciBpcyBmb2N1c2VkIG9uIG9yIHdpdGhpbiB0aGUgbWVudSBzdXJmYWNlIHdoZW4gaXQgaXNcbiAgICAgKiBjbG9zZWQuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5tYXliZVJlc3RvcmVGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGlzUm9vdEZvY3VzZWQgPSB0aGlzLmFkYXB0ZXIuaXNGb2N1c2VkKCk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5hZGFwdGVyLmdldE93bmVyRG9jdW1lbnQgP1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmdldE93bmVyRG9jdW1lbnQoKSA6XG4gICAgICAgICAgICBkb2N1bWVudDtcbiAgICAgICAgdmFyIGNoaWxkSGFzRm9jdXMgPSBvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiZcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5pc0VsZW1lbnRJbkNvbnRhaW5lcihvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICBpZiAoaXNSb290Rm9jdXNlZCB8fCBjaGlsZEhhc0ZvY3VzKSB7XG4gICAgICAgICAgICAvLyBXYWl0IGJlZm9yZSByZXN0b3JpbmcgZm9jdXMgd2hlbiBjbG9zaW5nIHRoZSBtZW51IHN1cmZhY2UuIFRoaXMgaXNcbiAgICAgICAgICAgIC8vIGltcG9ydGFudCBiZWNhdXNlIGlmIGEgdG91Y2ggZXZlbnQgdHJpZ2dlcmVkIHRoZSBtZW51IGNsb3NlLCBhbmQgdGhlXG4gICAgICAgICAgICAvLyBzdWJzZXF1ZW50IG1vdXNlIGV2ZW50IG9jY3VycyBhZnRlciBmb2N1cyBpcyByZXN0b3JlZCwgdGhlbiB0aGVcbiAgICAgICAgICAgIC8vIHJlc3RvcmVkIGZvY3VzIHdvdWxkIGJlIGxvc3QuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLnJlc3RvcmVGb2N1cygpO1xuICAgICAgICAgICAgfSwgbnVtYmVycy5UT1VDSF9FVkVOVF9XQUlUX01TKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5oYXNCaXQgPSBmdW5jdGlvbiAoY29ybmVyLCBiaXQpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oY29ybmVyICYgYml0KTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgfTtcbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldEJpdCA9IGZ1bmN0aW9uIChjb3JuZXIsIGJpdCkge1xuICAgICAgICByZXR1cm4gY29ybmVyIHwgYml0OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUudW5zZXRCaXQgPSBmdW5jdGlvbiAoY29ybmVyLCBiaXQpIHtcbiAgICAgICAgcmV0dXJuIGNvcm5lciBeIGJpdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGlzRmluaXRlIHRoYXQgZG9lc24ndCBmb3JjZSBjb252ZXJzaW9uIHRvIG51bWJlciB0eXBlLlxuICAgICAqIEVxdWl2YWxlbnQgdG8gTnVtYmVyLmlzRmluaXRlIGluIEVTMjAxNSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBpbiBJRS5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmlzRmluaXRlID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG51bSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUobnVtKTtcbiAgICB9O1xuICAgIHJldHVybiBNRENNZW51U3VyZmFjZUZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgY3NzUHJvcGVydHlOYW1lTWFwID0ge1xuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICBwcmVmaXhlZDogJy13ZWJraXQtYW5pbWF0aW9uJyxcbiAgICAgICAgc3RhbmRhcmQ6ICdhbmltYXRpb24nLFxuICAgIH0sXG4gICAgdHJhbnNmb3JtOiB7XG4gICAgICAgIHByZWZpeGVkOiAnLXdlYmtpdC10cmFuc2Zvcm0nLFxuICAgICAgICBzdGFuZGFyZDogJ3RyYW5zZm9ybScsXG4gICAgfSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgIHByZWZpeGVkOiAnLXdlYmtpdC10cmFuc2l0aW9uJyxcbiAgICAgICAgc3RhbmRhcmQ6ICd0cmFuc2l0aW9uJyxcbiAgICB9LFxufTtcbnZhciBqc0V2ZW50VHlwZU1hcCA9IHtcbiAgICBhbmltYXRpb25lbmQ6IHtcbiAgICAgICAgY3NzUHJvcGVydHk6ICdhbmltYXRpb24nLFxuICAgICAgICBwcmVmaXhlZDogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgICAgIHN0YW5kYXJkOiAnYW5pbWF0aW9uZW5kJyxcbiAgICB9LFxuICAgIGFuaW1hdGlvbml0ZXJhdGlvbjoge1xuICAgICAgICBjc3NQcm9wZXJ0eTogJ2FuaW1hdGlvbicsXG4gICAgICAgIHByZWZpeGVkOiAnd2Via2l0QW5pbWF0aW9uSXRlcmF0aW9uJyxcbiAgICAgICAgc3RhbmRhcmQ6ICdhbmltYXRpb25pdGVyYXRpb24nLFxuICAgIH0sXG4gICAgYW5pbWF0aW9uc3RhcnQ6IHtcbiAgICAgICAgY3NzUHJvcGVydHk6ICdhbmltYXRpb24nLFxuICAgICAgICBwcmVmaXhlZDogJ3dlYmtpdEFuaW1hdGlvblN0YXJ0JyxcbiAgICAgICAgc3RhbmRhcmQ6ICdhbmltYXRpb25zdGFydCcsXG4gICAgfSxcbiAgICB0cmFuc2l0aW9uZW5kOiB7XG4gICAgICAgIGNzc1Byb3BlcnR5OiAndHJhbnNpdGlvbicsXG4gICAgICAgIHByZWZpeGVkOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAgIHN0YW5kYXJkOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgfSxcbn07XG5mdW5jdGlvbiBpc1dpbmRvdyh3aW5kb3dPYmopIHtcbiAgICByZXR1cm4gQm9vbGVhbih3aW5kb3dPYmouZG9jdW1lbnQpICYmIHR5cGVvZiB3aW5kb3dPYmouZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JyZWN0UHJvcGVydHlOYW1lKHdpbmRvd09iaiwgY3NzUHJvcGVydHkpIHtcbiAgICBpZiAoaXNXaW5kb3cod2luZG93T2JqKSAmJiBjc3NQcm9wZXJ0eSBpbiBjc3NQcm9wZXJ0eU5hbWVNYXApIHtcbiAgICAgICAgdmFyIGVsID0gd2luZG93T2JqLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2YXIgX2EgPSBjc3NQcm9wZXJ0eU5hbWVNYXBbY3NzUHJvcGVydHldLCBzdGFuZGFyZCA9IF9hLnN0YW5kYXJkLCBwcmVmaXhlZCA9IF9hLnByZWZpeGVkO1xuICAgICAgICB2YXIgaXNTdGFuZGFyZCA9IHN0YW5kYXJkIGluIGVsLnN0eWxlO1xuICAgICAgICByZXR1cm4gaXNTdGFuZGFyZCA/IHN0YW5kYXJkIDogcHJlZml4ZWQ7XG4gICAgfVxuICAgIHJldHVybiBjc3NQcm9wZXJ0eTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JyZWN0RXZlbnROYW1lKHdpbmRvd09iaiwgZXZlbnRUeXBlKSB7XG4gICAgaWYgKGlzV2luZG93KHdpbmRvd09iaikgJiYgZXZlbnRUeXBlIGluIGpzRXZlbnRUeXBlTWFwKSB7XG4gICAgICAgIHZhciBlbCA9IHdpbmRvd09iai5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmFyIF9hID0ganNFdmVudFR5cGVNYXBbZXZlbnRUeXBlXSwgc3RhbmRhcmQgPSBfYS5zdGFuZGFyZCwgcHJlZml4ZWQgPSBfYS5wcmVmaXhlZCwgY3NzUHJvcGVydHkgPSBfYS5jc3NQcm9wZXJ0eTtcbiAgICAgICAgdmFyIGlzU3RhbmRhcmQgPSBjc3NQcm9wZXJ0eSBpbiBlbC5zdHlsZTtcbiAgICAgICAgcmV0dXJuIGlzU3RhbmRhcmQgPyBzdGFuZGFyZCA6IHByZWZpeGVkO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnRUeXBlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDQ29tcG9uZW50IH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IGNzc0NsYXNzZXMsIHN0cmluZ3MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgZ2V0Q29ycmVjdFByb3BlcnR5TmFtZSB9IGZyb20gJ0BtYXRlcmlhbC9hbmltYXRpb24vdXRpbCc7XG52YXIgTURDTWVudVN1cmZhY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ01lbnVTdXJmYWNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ01lbnVTdXJmYWNlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1EQ01lbnVTdXJmYWNlLmF0dGFjaFRvID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNRENNZW51U3VyZmFjZShyb290KTtcbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlLnByb3RvdHlwZS5pbml0aWFsU3luY1dpdGhET00gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwYXJlbnRFbCA9IHRoaXMucm9vdC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB0aGlzLmFuY2hvckVsZW1lbnQgPSBwYXJlbnRFbCAmJiBwYXJlbnRFbC5jbGFzc0xpc3QuY29udGFpbnMoY3NzQ2xhc3Nlcy5BTkNIT1IpID8gcGFyZW50RWwgOiBudWxsO1xuICAgICAgICBpZiAodGhpcy5yb290LmNsYXNzTGlzdC5jb250YWlucyhjc3NDbGFzc2VzLkZJWEVEKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRGaXhlZFBvc2l0aW9uKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuZm91bmRhdGlvbi5oYW5kbGVLZXlkb3duKGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVCb2R5Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmZvdW5kYXRpb24uaGFuZGxlQm9keUNsaWNrKGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gY2FwdHVyZSBzbyB0aGF0IG5vIHJhY2UgYmV0d2VlbiBoYW5kbGVCb2R5Q2xpY2sgYW5kIHF1aWNrT3BlbiB3aGVuXG4gICAgICAgIC8vIG1lbnVzdXJmYWNlIG9wZW5lZCBvbiBidXR0b24gY2xpY2sgd2hpY2ggcmVnaXN0ZXJzIHRoaXMgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5yZWdpc3RlckJvZHlDbGlja0xpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzLmhhbmRsZUJvZHlDbGljaywgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlcmVnaXN0ZXJCb2R5Q2xpY2tMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5oYW5kbGVCb2R5Q2xpY2ssIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0ZW4oJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd24pO1xuICAgICAgICB0aGlzLmxpc3RlbihzdHJpbmdzLk9QRU5FRF9FVkVOVCwgdGhpcy5yZWdpc3RlckJvZHlDbGlja0xpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5saXN0ZW4oc3RyaW5ncy5DTE9TRURfRVZFTlQsIHRoaXMuZGVyZWdpc3RlckJvZHlDbGlja0xpc3RlbmVyKTtcbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVubGlzdGVuKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duKTtcbiAgICAgICAgdGhpcy51bmxpc3RlbihzdHJpbmdzLk9QRU5FRF9FVkVOVCwgdGhpcy5yZWdpc3RlckJvZHlDbGlja0xpc3RlbmVyKTtcbiAgICAgICAgdGhpcy51bmxpc3RlbihzdHJpbmdzLkNMT1NFRF9FVkVOVCwgdGhpcy5kZXJlZ2lzdGVyQm9keUNsaWNrTGlzdGVuZXIpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24uaXNPcGVuKCk7XG4gICAgfTtcbiAgICBNRENNZW51U3VyZmFjZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLm9wZW4oKTtcbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChza2lwUmVzdG9yZUZvY3VzKSB7XG4gICAgICAgIGlmIChza2lwUmVzdG9yZUZvY3VzID09PSB2b2lkIDApIHsgc2tpcFJlc3RvcmVGb2N1cyA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5jbG9zZShza2lwUmVzdG9yZUZvY3VzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51U3VyZmFjZS5wcm90b3R5cGUsIFwicXVpY2tPcGVuXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocXVpY2tPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0UXVpY2tPcGVuKHF1aWNrT3Blbik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogU2V0cyB0aGUgZm91bmRhdGlvbiB0byB1c2UgcGFnZSBvZmZzZXRzIGZvciBhbiBwb3NpdGlvbmluZyB3aGVuIHRoZSBtZW51IGlzIGhvaXN0ZWQgdG8gdGhlIGJvZHkuICovXG4gICAgTURDTWVudVN1cmZhY2UucHJvdG90eXBlLnNldElzSG9pc3RlZCA9IGZ1bmN0aW9uIChpc0hvaXN0ZWQpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldElzSG9pc3RlZChpc0hvaXN0ZWQpO1xuICAgIH07XG4gICAgLyoqIFNldHMgdGhlIGVsZW1lbnQgdGhhdCB0aGUgbWVudS1zdXJmYWNlIGlzIGFuY2hvcmVkIHRvLiAqL1xuICAgIE1EQ01lbnVTdXJmYWNlLnByb3RvdHlwZS5zZXRNZW51U3VyZmFjZUFuY2hvckVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmFuY2hvckVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG4gICAgLyoqIFNldHMgdGhlIG1lbnUtc3VyZmFjZSB0byBwb3NpdGlvbjogZml4ZWQuICovXG4gICAgTURDTWVudVN1cmZhY2UucHJvdG90eXBlLnNldEZpeGVkUG9zaXRpb24gPSBmdW5jdGlvbiAoaXNGaXhlZCkge1xuICAgICAgICBpZiAoaXNGaXhlZCkge1xuICAgICAgICAgICAgdGhpcy5yb290LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5GSVhFRCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzc2VzLkZJWEVEKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0Rml4ZWRQb3NpdGlvbihpc0ZpeGVkKTtcbiAgICB9O1xuICAgIC8qKiBTZXRzIHRoZSBhYnNvbHV0ZSB4L3kgcG9zaXRpb24gdG8gcG9zaXRpb24gYmFzZWQgb24uIFJlcXVpcmVzIHRoZSBtZW51IHRvIGJlIGhvaXN0ZWQuICovXG4gICAgTURDTWVudVN1cmZhY2UucHJvdG90eXBlLnNldEFic29sdXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0QWJzb2x1dGVQb3NpdGlvbih4LCB5KTtcbiAgICAgICAgdGhpcy5zZXRJc0hvaXN0ZWQodHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29ybmVyIERlZmF1bHQgYW5jaG9yIGNvcm5lciBhbGlnbm1lbnQgb2YgdG9wLWxlZnQgc3VyZmFjZSBjb3JuZXIuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2UucHJvdG90eXBlLnNldEFuY2hvckNvcm5lciA9IGZ1bmN0aW9uIChjb3JuZXIpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldEFuY2hvckNvcm5lcihjb3JuZXIpO1xuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2UucHJvdG90eXBlLnNldEFuY2hvck1hcmdpbiA9IGZ1bmN0aW9uIChtYXJnaW4pIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldEFuY2hvck1hcmdpbihtYXJnaW4pO1xuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2UucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHZhciBhZGFwdGVyID0ge1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBoYXNBbmNob3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEhX3RoaXMuYW5jaG9yRWxlbWVudDsgfSxcbiAgICAgICAgICAgIG5vdGlmeUNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnN0cmluZ3MuQ0xPU0VEX0VWRU5ULCB7fSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90aWZ5Q2xvc2luZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnN0cmluZ3MuQ0xPU0lOR19FVkVOVCwge30pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vdGlmeU9wZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdChNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uc3RyaW5ncy5PUEVORURfRVZFTlQsIHt9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub3RpZnlPcGVuaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnN0cmluZ3MuT1BFTklOR19FVkVOVCwge30pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRWxlbWVudEluQ29udGFpbmVyOiBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIF90aGlzLnJvb3QuY29udGFpbnMoZWwpOyB9LFxuICAgICAgICAgICAgaXNSdGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShfdGhpcy5yb290KS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXJlY3Rpb24nKSA9PT0gJ3J0bCc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0VHJhbnNmb3JtT3JpZ2luOiBmdW5jdGlvbiAob3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGdldENvcnJlY3RQcm9wZXJ0eU5hbWUod2luZG93LCAndHJhbnNmb3JtJykgKyBcIi1vcmlnaW5cIjtcbiAgICAgICAgICAgICAgICBfdGhpcy5yb290LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5TmFtZSwgb3JpZ2luKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0ZvY3VzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IF90aGlzLnJvb3Q7IH0sXG4gICAgICAgICAgICBzYXZlRm9jdXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcmV2aW91c0ZvY3VzID1cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN0b3JlRm9jdXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucm9vdC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJldmlvdXNGb2N1cyAmJiBfdGhpcy5wcmV2aW91c0ZvY3VzLmZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcmV2aW91c0ZvY3VzLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0SW5uZXJEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF90aGlzLnJvb3Qub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3RoaXMucm9vdC5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEFuY2hvckRpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmFuY2hvckVsZW1lbnQgP1xuICAgICAgICAgICAgICAgIF90aGlzLmFuY2hvckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOlxuICAgICAgICAgICAgICAgIG51bGw7IH0sXG4gICAgICAgICAgICBnZXRXaW5kb3dEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLCBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEJvZHlEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsIGhlaWdodDogZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRXaW5kb3dTY3JvbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB4OiB3aW5kb3cucGFnZVhPZmZzZXQsIHk6IHdpbmRvdy5wYWdlWU9mZnNldCB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFBvc2l0aW9uOiBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgcm9vdEhUTUwgPSBfdGhpcy5yb290O1xuICAgICAgICAgICAgICAgIHJvb3RIVE1MLnN0eWxlLmxlZnQgPSAnbGVmdCcgaW4gcG9zaXRpb24gPyBwb3NpdGlvbi5sZWZ0ICsgXCJweFwiIDogJyc7XG4gICAgICAgICAgICAgICAgcm9vdEhUTUwuc3R5bGUucmlnaHQgPSAncmlnaHQnIGluIHBvc2l0aW9uID8gcG9zaXRpb24ucmlnaHQgKyBcInB4XCIgOiAnJztcbiAgICAgICAgICAgICAgICByb290SFRNTC5zdHlsZS50b3AgPSAndG9wJyBpbiBwb3NpdGlvbiA/IHBvc2l0aW9uLnRvcCArIFwicHhcIiA6ICcnO1xuICAgICAgICAgICAgICAgIHJvb3RIVE1MLnN0eWxlLmJvdHRvbSA9XG4gICAgICAgICAgICAgICAgICAgICdib3R0b20nIGluIHBvc2l0aW9uID8gcG9zaXRpb24uYm90dG9tICsgXCJweFwiIDogJyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0TWF4SGVpZ2h0OiBmdW5jdGlvbiAoaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucm9vdC5zdHlsZS5tYXhIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICByZXR1cm4gbmV3IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbihhZGFwdGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBNRENNZW51U3VyZmFjZTtcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENNZW51U3VyZmFjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgTUVOVV9TRUxFQ1RFRF9MSVNUX0lURU06ICdtZGMtbWVudS1pdGVtLS1zZWxlY3RlZCcsXG4gICAgTUVOVV9TRUxFQ1RJT05fR1JPVVA6ICdtZGMtbWVudV9fc2VsZWN0aW9uLWdyb3VwJyxcbiAgICBST09UOiAnbWRjLW1lbnUnLFxufTtcbnZhciBzdHJpbmdzID0ge1xuICAgIEFSSUFfQ0hFQ0tFRF9BVFRSOiAnYXJpYS1jaGVja2VkJyxcbiAgICBBUklBX0RJU0FCTEVEX0FUVFI6ICdhcmlhLWRpc2FibGVkJyxcbiAgICBDSEVDS0JPWF9TRUxFQ1RPUjogJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsXG4gICAgTElTVF9TRUxFQ1RPUjogJy5tZGMtbGlzdCwubWRjLWRlcHJlY2F0ZWQtbGlzdCcsXG4gICAgU0VMRUNURURfRVZFTlQ6ICdNRENNZW51OnNlbGVjdGVkJyxcbiAgICBTS0lQX1JFU1RPUkVfRk9DVVM6ICdkYXRhLW1lbnUtaXRlbS1za2lwLXJlc3RvcmUtZm9jdXMnLFxufTtcbnZhciBudW1iZXJzID0ge1xuICAgIEZPQ1VTX1JPT1RfSU5ERVg6IC0xLFxufTtcbnZhciBEZWZhdWx0Rm9jdXNTdGF0ZTtcbihmdW5jdGlvbiAoRGVmYXVsdEZvY3VzU3RhdGUpIHtcbiAgICBEZWZhdWx0Rm9jdXNTdGF0ZVtEZWZhdWx0Rm9jdXNTdGF0ZVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIERlZmF1bHRGb2N1c1N0YXRlW0RlZmF1bHRGb2N1c1N0YXRlW1wiTElTVF9ST09UXCJdID0gMV0gPSBcIkxJU1RfUk9PVFwiO1xuICAgIERlZmF1bHRGb2N1c1N0YXRlW0RlZmF1bHRGb2N1c1N0YXRlW1wiRklSU1RfSVRFTVwiXSA9IDJdID0gXCJGSVJTVF9JVEVNXCI7XG4gICAgRGVmYXVsdEZvY3VzU3RhdGVbRGVmYXVsdEZvY3VzU3RhdGVbXCJMQVNUX0lURU1cIl0gPSAzXSA9IFwiTEFTVF9JVEVNXCI7XG59KShEZWZhdWx0Rm9jdXNTdGF0ZSB8fCAoRGVmYXVsdEZvY3VzU3RhdGUgPSB7fSkpO1xuZXhwb3J0IHsgY3NzQ2xhc3Nlcywgc3RyaW5ncywgbnVtYmVycywgRGVmYXVsdEZvY3VzU3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IGNzc0NsYXNzZXMgYXMgbGlzdENzc0NsYXNzZXMgfSBmcm9tICdAbWF0ZXJpYWwvbGlzdC9jb25zdGFudHMnO1xuaW1wb3J0IHsgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IGNzc0NsYXNzZXMsIERlZmF1bHRGb2N1c1N0YXRlLCBudW1iZXJzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xudmFyIE1EQ01lbnVGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENNZW51Rm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENNZW51Rm91bmRhdGlvbihhZGFwdGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBNRENNZW51Rm91bmRhdGlvbi5kZWZhdWx0QWRhcHRlciksIGFkYXB0ZXIpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWQgPSAwO1xuICAgICAgICBfdGhpcy5kZWZhdWx0Rm9jdXNTdGF0ZSA9IERlZmF1bHRGb2N1c1N0YXRlLkxJU1RfUk9PVDtcbiAgICAgICAgX3RoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51Rm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51Rm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51Rm91bmRhdGlvbiwgXCJudW1iZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51Rm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc2VlIHtAbGluayBNRENNZW51QWRhcHRlcn0gZm9yIHR5cGluZyBpbmZvcm1hdGlvbiBvbiBwYXJhbWV0ZXJzIGFuZCByZXR1cm4gdHlwZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzVG9FbGVtZW50QXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzRnJvbUVsZW1lbnRBdEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgYWRkQXR0cmlidXRlVG9FbGVtZW50QXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZUZyb21FbGVtZW50QXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGdldEF0dHJpYnV0ZUZyb21FbGVtZW50QXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBlbGVtZW50Q29udGFpbnNDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgY2xvc2VTdXJmYWNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0RWxlbWVudEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiAtMTsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlTZWxlY3RlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGdldE1lbnVJdGVtQ291bnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH0sXG4gICAgICAgICAgICAgICAgZm9jdXNJdGVtQXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGZvY3VzTGlzdFJvb3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRTZWxlY3RlZFNpYmxpbmdPZkl0ZW1BdEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiAtMTsgfSxcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGFibGVJdGVtQXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ01lbnVGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLmNsb3NlU3VyZmFjZSgpO1xuICAgIH07XG4gICAgTURDTWVudUZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUtleWRvd24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBrZXkgPSBldnQua2V5LCBrZXlDb2RlID0gZXZ0LmtleUNvZGU7XG4gICAgICAgIHZhciBpc1RhYiA9IGtleSA9PT0gJ1RhYicgfHwga2V5Q29kZSA9PT0gOTtcbiAgICAgICAgaWYgKGlzVGFiKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuY2xvc2VTdXJmYWNlKC8qKiBza2lwUmVzdG9yZUZvY3VzICovIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENNZW51Rm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlSXRlbUFjdGlvbiA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmFkYXB0ZXIuZ2V0RWxlbWVudEluZGV4KGxpc3RJdGVtKTtcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlci5ub3RpZnlTZWxlY3RlZCh7IGluZGV4OiBpbmRleCB9KTtcbiAgICAgICAgdmFyIHNraXBSZXN0b3JlRm9jdXMgPSB0aGlzLmFkYXB0ZXIuZ2V0QXR0cmlidXRlRnJvbUVsZW1lbnRBdEluZGV4KGluZGV4LCBzdHJpbmdzLlNLSVBfUkVTVE9SRV9GT0NVUykgPT09ICd0cnVlJztcbiAgICAgICAgdGhpcy5hZGFwdGVyLmNsb3NlU3VyZmFjZShza2lwUmVzdG9yZUZvY3VzKTtcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIG1lbnUgdG8gY2xvc2UgYmVmb3JlIGFkZGluZy9yZW1vdmluZyBjbGFzc2VzIHRoYXQgYWZmZWN0IHN0eWxlcy5cbiAgICAgICAgdGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJlY29tcHV0ZSB0aGUgaW5kZXggaW4gY2FzZSB0aGUgbWVudSBjb250ZW50cyBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAgICB2YXIgcmVjb21wdXRlZEluZGV4ID0gX3RoaXMuYWRhcHRlci5nZXRFbGVtZW50SW5kZXgobGlzdEl0ZW0pO1xuICAgICAgICAgICAgaWYgKHJlY29tcHV0ZWRJbmRleCA+PSAwICYmXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5pc1NlbGVjdGFibGVJdGVtQXRJbmRleChyZWNvbXB1dGVkSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRJbmRleChyZWNvbXB1dGVkSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ubnVtYmVycy5UUkFOU0lUSU9OX0NMT1NFX0RVUkFUSU9OKTtcbiAgICB9O1xuICAgIE1EQ01lbnVGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVNZW51U3VyZmFjZU9wZW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmRlZmF1bHRGb2N1c1N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIERlZmF1bHRGb2N1c1N0YXRlLkZJUlNUX0lURU06XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmZvY3VzSXRlbUF0SW5kZXgoMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIERlZmF1bHRGb2N1c1N0YXRlLkxBU1RfSVRFTTpcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZm9jdXNJdGVtQXRJbmRleCh0aGlzLmFkYXB0ZXIuZ2V0TWVudUl0ZW1Db3VudCgpIC0gMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIERlZmF1bHRGb2N1c1N0YXRlLk5PTkU6XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmZvY3VzTGlzdFJvb3QoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBkZWZhdWx0IGZvY3VzIHN0YXRlIHdoZXJlIHRoZSBtZW51IHNob3VsZCBmb2N1cyBldmVyeSB0aW1lIHdoZW4gbWVudVxuICAgICAqIGlzIG9wZW5lZC4gRm9jdXNlcyB0aGUgbGlzdCByb290IChgRGVmYXVsdEZvY3VzU3RhdGUuTElTVF9ST09UYCkgZWxlbWVudCBieVxuICAgICAqIGRlZmF1bHQuXG4gICAgICovXG4gICAgTURDTWVudUZvdW5kYXRpb24ucHJvdG90eXBlLnNldERlZmF1bHRGb2N1c1N0YXRlID0gZnVuY3Rpb24gKGZvY3VzU3RhdGUpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0Rm9jdXNTdGF0ZSA9IGZvY3VzU3RhdGU7XG4gICAgfTtcbiAgICAvKiogQHJldHVybiBJbmRleCBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGxpc3QgaXRlbSB3aXRoaW4gdGhlIG1lbnUuICovXG4gICAgTURDTWVudUZvdW5kYXRpb24ucHJvdG90eXBlLmdldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBsaXN0IGl0ZW0gYXQgYGluZGV4YCB3aXRoaW4gdGhlIG1lbnUuXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGxpc3QgaXRlbSB3aXRoaW4gdGhlIG1lbnUuXG4gICAgICovXG4gICAgTURDTWVudUZvdW5kYXRpb24ucHJvdG90eXBlLnNldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZWRJbmRleChpbmRleCk7XG4gICAgICAgIGlmICghdGhpcy5hZGFwdGVyLmlzU2VsZWN0YWJsZUl0ZW1BdEluZGV4KGluZGV4KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNRENNZW51Rm91bmRhdGlvbjogTm8gc2VsZWN0aW9uIGdyb3VwIGF0IHNwZWNpZmllZCBpbmRleC4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldlNlbGVjdGVkSW5kZXggPSB0aGlzLmFkYXB0ZXIuZ2V0U2VsZWN0ZWRTaWJsaW5nT2ZJdGVtQXRJbmRleChpbmRleCk7XG4gICAgICAgIGlmIChwcmV2U2VsZWN0ZWRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQXR0cmlidXRlRnJvbUVsZW1lbnRBdEluZGV4KHByZXZTZWxlY3RlZEluZGV4LCBzdHJpbmdzLkFSSUFfQ0hFQ0tFRF9BVFRSKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzc0Zyb21FbGVtZW50QXRJbmRleChwcmV2U2VsZWN0ZWRJbmRleCwgY3NzQ2xhc3Nlcy5NRU5VX1NFTEVDVEVEX0xJU1RfSVRFTSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzVG9FbGVtZW50QXRJbmRleChpbmRleCwgY3NzQ2xhc3Nlcy5NRU5VX1NFTEVDVEVEX0xJU1RfSVRFTSk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5hZGRBdHRyaWJ1dGVUb0VsZW1lbnRBdEluZGV4KGluZGV4LCBzdHJpbmdzLkFSSUFfQ0hFQ0tFRF9BVFRSLCAndHJ1ZScpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGVuYWJsZWQgc3RhdGUgdG8gaXNFbmFibGVkIGZvciB0aGUgbWVudSBpdGVtIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIG1lbnUgaXRlbVxuICAgICAqIEBwYXJhbSBpc0VuYWJsZWQgVGhlIGRlc2lyZWQgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWVudSBpdGVtLlxuICAgICAqL1xuICAgIE1EQ01lbnVGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRFbmFibGVkID0gZnVuY3Rpb24gKGluZGV4LCBpc0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZWRJbmRleChpbmRleCk7XG4gICAgICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzc0Zyb21FbGVtZW50QXRJbmRleChpbmRleCwgbGlzdENzc0NsYXNzZXMuTElTVF9JVEVNX0RJU0FCTEVEX0NMQVNTKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRBdHRyaWJ1dGVUb0VsZW1lbnRBdEluZGV4KGluZGV4LCBzdHJpbmdzLkFSSUFfRElTQUJMRURfQVRUUiwgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3NUb0VsZW1lbnRBdEluZGV4KGluZGV4LCBsaXN0Q3NzQ2xhc3Nlcy5MSVNUX0lURU1fRElTQUJMRURfQ0xBU1MpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZEF0dHJpYnV0ZVRvRWxlbWVudEF0SW5kZXgoaW5kZXgsIHN0cmluZ3MuQVJJQV9ESVNBQkxFRF9BVFRSLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENNZW51Rm91bmRhdGlvbi5wcm90b3R5cGUudmFsaWRhdGVkSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIG1lbnVTaXplID0gdGhpcy5hZGFwdGVyLmdldE1lbnVJdGVtQ291bnQoKTtcbiAgICAgICAgdmFyIGlzSW5kZXhJblJhbmdlID0gaW5kZXggPj0gMCAmJiBpbmRleCA8IG1lbnVTaXplO1xuICAgICAgICBpZiAoIWlzSW5kZXhJblJhbmdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01EQ01lbnVGb3VuZGF0aW9uOiBObyBsaXN0IGl0ZW0gYXQgc3BlY2lmaWVkIGluZGV4LicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTURDTWVudUZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ01lbnVGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDTWVudUZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENDb21wb25lbnQgfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgY2xvc2VzdCB9IGZyb20gJ0BtYXRlcmlhbC9kb20vcG9ueWZpbGwnO1xuaW1wb3J0IHsgTURDTGlzdCB9IGZyb20gJ0BtYXRlcmlhbC9saXN0L2NvbXBvbmVudCc7XG5pbXBvcnQgeyBudW1iZXJzIGFzIGxpc3RDb25zdGFudHMgfSBmcm9tICdAbWF0ZXJpYWwvbGlzdC9jb25zdGFudHMnO1xuaW1wb3J0IHsgTURDTGlzdEZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvbGlzdC9mb3VuZGF0aW9uJztcbmltcG9ydCB7IE1EQ01lbnVTdXJmYWNlIH0gZnJvbSAnQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IGNzc0NsYXNzZXMsIHN0cmluZ3MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNRENNZW51Rm91bmRhdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbic7XG52YXIgTURDTWVudSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDTWVudSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENNZW51KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1EQ01lbnUuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ01lbnUocm9vdCk7XG4gICAgfTtcbiAgICBNRENNZW51LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKG1lbnVTdXJmYWNlRmFjdG9yeSwgbGlzdEZhY3RvcnkpIHtcbiAgICAgICAgaWYgKG1lbnVTdXJmYWNlRmFjdG9yeSA9PT0gdm9pZCAwKSB7IG1lbnVTdXJmYWNlRmFjdG9yeSA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gbmV3IE1EQ01lbnVTdXJmYWNlKGVsKTsgfTsgfVxuICAgICAgICBpZiAobGlzdEZhY3RvcnkgPT09IHZvaWQgMCkgeyBsaXN0RmFjdG9yeSA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gbmV3IE1EQ0xpc3QoZWwpOyB9OyB9XG4gICAgICAgIHRoaXMubWVudVN1cmZhY2VGYWN0b3J5ID0gbWVudVN1cmZhY2VGYWN0b3J5O1xuICAgICAgICB0aGlzLmxpc3RGYWN0b3J5ID0gbGlzdEZhY3Rvcnk7XG4gICAgfTtcbiAgICBNRENNZW51LnByb3RvdHlwZS5pbml0aWFsU3luY1dpdGhET00gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubWVudVN1cmZhY2UgPSB0aGlzLm1lbnVTdXJmYWNlRmFjdG9yeSh0aGlzLnJvb3QpO1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKHN0cmluZ3MuTElTVF9TRUxFQ1RPUik7XG4gICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3RGYWN0b3J5KGxpc3QpO1xuICAgICAgICAgICAgdGhpcy5saXN0LndyYXBGb2N1cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIF90aGlzLmZvdW5kYXRpb24uaGFuZGxlS2V5ZG93bihldnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZUl0ZW1BY3Rpb24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBfdGhpcy5mb3VuZGF0aW9uLmhhbmRsZUl0ZW1BY3Rpb24oX3RoaXMuaXRlbXNbZXZ0LmRldGFpbC5pbmRleF0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1lbnVTdXJmYWNlT3BlbmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZm91bmRhdGlvbi5oYW5kbGVNZW51U3VyZmFjZU9wZW5lZCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1lbnVTdXJmYWNlLmxpc3RlbihNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uc3RyaW5ncy5PUEVORURfRVZFTlQsIHRoaXMuaGFuZGxlTWVudVN1cmZhY2VPcGVuZWQpO1xuICAgICAgICB0aGlzLmxpc3Rlbigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bik7XG4gICAgICAgIHRoaXMubGlzdGVuKE1EQ0xpc3RGb3VuZGF0aW9uLnN0cmluZ3MuQUNUSU9OX0VWRU5ULCB0aGlzLmhhbmRsZUl0ZW1BY3Rpb24pO1xuICAgIH07XG4gICAgTURDTWVudS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdCkge1xuICAgICAgICAgICAgdGhpcy5saXN0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lbnVTdXJmYWNlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tZW51U3VyZmFjZS51bmxpc3RlbihNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uc3RyaW5ncy5PUEVORURfRVZFTlQsIHRoaXMuaGFuZGxlTWVudVN1cmZhY2VPcGVuZWQpO1xuICAgICAgICB0aGlzLnVubGlzdGVuKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duKTtcbiAgICAgICAgdGhpcy51bmxpc3RlbihNRENMaXN0Rm91bmRhdGlvbi5zdHJpbmdzLkFDVElPTl9FVkVOVCwgdGhpcy5oYW5kbGVJdGVtQWN0aW9uKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudS5wcm90b3R5cGUsIFwib3BlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWVudVN1cmZhY2UuaXNPcGVuKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnVTdXJmYWNlLm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWVudVN1cmZhY2UuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51LnByb3RvdHlwZSwgXCJ3cmFwRm9jdXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QgPyB0aGlzLmxpc3Qud3JhcEZvY3VzIDogZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5saXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LndyYXBGb2N1cyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnUucHJvdG90eXBlLCBcImhhc1R5cGVhaGVhZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHdoZXRoZXIgdGhlIG1lbnUgaGFzIHR5cGVhaGVhZCBmdW5jdGlvbmFsaXR5LlxuICAgICAgICAgKiBAcGFyYW0gdmFsdWUgV2hldGhlciB0eXBlYWhlYWQgaXMgZW5hYmxlZC5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5saXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0Lmhhc1R5cGVhaGVhZCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnUucHJvdG90eXBlLCBcInR5cGVhaGVhZEluUHJvZ3Jlc3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiBXaGV0aGVyIHR5cGVhaGVhZCBsb2dpYyBpcyBjdXJyZW50bHkgbWF0Y2hpbmcgc29tZSB1c2VyIHByZWZpeC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCA/IHRoaXMubGlzdC50eXBlYWhlYWRJblByb2dyZXNzIDogZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aGUgbmV4dCBkZXNpcmVkIGNoYXJhY3RlciBmcm9tIHRoZSB1c2VyLCBhZGRzIGl0IHRvIHRoZSB0eXBlYWhlYWRcbiAgICAgKiBidWZmZXIuIFRoZW4sIGF0dGVtcHRzIHRvIGZpbmQgdGhlIG5leHQgb3B0aW9uIG1hdGNoaW5nIHRoZSBidWZmZXIuIFdyYXBzXG4gICAgICogYXJvdW5kIGlmIGF0IHRoZSBlbmQgb2Ygb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXh0Q2hhciBUaGUgbmV4dCBjaGFyYWN0ZXIgdG8gYWRkIHRvIHRoZSBwcmVmaXggYnVmZmVyLlxuICAgICAqIEBwYXJhbSBzdGFydGluZ0luZGV4IFRoZSBpbmRleCBmcm9tIHdoaWNoIHRvIHN0YXJ0IG1hdGNoaW5nLiBPbmx5IHJlbGV2YW50XG4gICAgICogICAgIHdoZW4gc3RhcnRpbmcgYSBuZXcgbWF0Y2ggc2VxdWVuY2UuIFRvIHN0YXJ0IGEgbmV3IG1hdGNoIHNlcXVlbmNlLFxuICAgICAqICAgICBjbGVhciB0aGUgYnVmZmVyIHVzaW5nIGBjbGVhclR5cGVhaGVhZEJ1ZmZlcmAsIG9yIHdhaXQgZm9yIHRoZSBidWZmZXJcbiAgICAgKiAgICAgdG8gY2xlYXIgYWZ0ZXIgYSBzZXQgaW50ZXJ2YWwgZGVmaW5lZCBpbiBsaXN0IGZvdW5kYXRpb24uIERlZmF1bHRzIHRvXG4gICAgICogICAgIHRoZSBjdXJyZW50bHkgZm9jdXNlZCBpbmRleC5cbiAgICAgKiBAcmV0dXJuIFRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCBpdGVtLCBvciAtMSBpZiBubyBtYXRjaC5cbiAgICAgKi9cbiAgICBNRENNZW51LnByb3RvdHlwZS50eXBlYWhlYWRNYXRjaEl0ZW0gPSBmdW5jdGlvbiAobmV4dENoYXIsIHN0YXJ0aW5nSW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdC50eXBlYWhlYWRNYXRjaEl0ZW0obmV4dENoYXIsIHN0YXJ0aW5nSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExheW91dCB0aGUgdW5kZXJseWluZyBsaXN0IGVsZW1lbnQgaW4gdGhlIGNhc2Ugb2YgYW55IGR5bmFtaWMgdXBkYXRlc1xuICAgICAqIHRvIGl0cyBzdHJ1Y3R1cmUuXG4gICAgICovXG4gICAgTURDTWVudS5wcm90b3R5cGUubGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5saXN0KSB7XG4gICAgICAgICAgICB0aGlzLmxpc3QubGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51LnByb3RvdHlwZSwgXCJpdGVtc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIGl0ZW1zIHdpdGhpbiB0aGUgbWVudS4gTm90ZSB0aGF0IHRoaXMgb25seSBjb250YWlucyB0aGUgc2V0IG9mIGVsZW1lbnRzIHdpdGhpblxuICAgICAgICAgKiB0aGUgaXRlbXMgY29udGFpbmVyIHRoYXQgYXJlIHByb3BlciBsaXN0IGl0ZW1zLCBhbmQgbm90IHN1cHBsZW1lbnRhbCAvIHByZXNlbnRhdGlvbmFsIERPTVxuICAgICAgICAgKiBlbGVtZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCA/IHRoaXMubGlzdC5saXN0RWxlbWVudHMgOiBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51LnByb3RvdHlwZSwgXCJzaW5nbGVTZWxlY3Rpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHVybnMgb24vb2ZmIHRoZSB1bmRlcmx5aW5nIGxpc3QncyBzaW5nbGUgc2VsZWN0aW9uIG1vZGUuIFVzZWQgbWFpbmx5XG4gICAgICAgICAqIGJ5IHNlbGVjdCBtZW51LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gc2luZ2xlU2VsZWN0aW9uIFdoZXRoZXIgdG8gZW5hYmxlIHNpbmdsZSBzZWxlY3Rpb24gbW9kZS5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHNpbmdsZVNlbGVjdGlvbikge1xuICAgICAgICAgICAgaWYgKHRoaXMubGlzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdC5zaW5nbGVTZWxlY3Rpb24gPSBzaW5nbGVTZWxlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudS5wcm90b3R5cGUsIFwic2VsZWN0ZWRJbmRleFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIHNlbGVjdGVkIGluZGV4LiBPbmx5IGFwcGxpY2FibGUgdG8gc2VsZWN0IG1lbnVzLlxuICAgICAgICAgKiBAcmV0dXJuIFRoZSBzZWxlY3RlZCBpbmRleCwgd2hpY2ggaXMgYSBudW1iZXIgZm9yIHNpbmdsZSBzZWxlY3Rpb24gYW5kXG4gICAgICAgICAqICAgICByYWRpbyBsaXN0cywgYW5kIGFuIGFycmF5IG9mIG51bWJlcnMgZm9yIGNoZWNrYm94IGxpc3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ID8gdGhpcy5saXN0LnNlbGVjdGVkSW5kZXggOiBsaXN0Q29uc3RhbnRzLlVOU0VUX0lOREVYO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc2VsZWN0ZWQgaW5kZXggb2YgdGhlIGxpc3QuIE9ubHkgYXBwbGljYWJsZSB0byBzZWxlY3QgbWVudXMuXG4gICAgICAgICAqIEBwYXJhbSBpbmRleCBUaGUgc2VsZWN0ZWQgaW5kZXgsIHdoaWNoIGlzIGEgbnVtYmVyIGZvciBzaW5nbGUgc2VsZWN0aW9uIGFuZFxuICAgICAgICAgKiAgICAgcmFkaW8gbGlzdHMsIGFuZCBhbiBhcnJheSBvZiBudW1iZXJzIGZvciBjaGVja2JveCBsaXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5saXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51LnByb3RvdHlwZSwgXCJxdWlja09wZW5cIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChxdWlja09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMubWVudVN1cmZhY2UucXVpY2tPcGVuID0gcXVpY2tPcGVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2V0cyBkZWZhdWx0IGZvY3VzIHN0YXRlIHdoZXJlIHRoZSBtZW51IHNob3VsZCBmb2N1cyBldmVyeSB0aW1lIHdoZW4gbWVudVxuICAgICAqIGlzIG9wZW5lZC4gRm9jdXNlcyB0aGUgbGlzdCByb290IChgRGVmYXVsdEZvY3VzU3RhdGUuTElTVF9ST09UYCkgZWxlbWVudCBieVxuICAgICAqIGRlZmF1bHQuXG4gICAgICogQHBhcmFtIGZvY3VzU3RhdGUgRGVmYXVsdCBmb2N1cyBzdGF0ZS5cbiAgICAgKi9cbiAgICBNRENNZW51LnByb3RvdHlwZS5zZXREZWZhdWx0Rm9jdXNTdGF0ZSA9IGZ1bmN0aW9uIChmb2N1c1N0YXRlKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXREZWZhdWx0Rm9jdXNTdGF0ZShmb2N1c1N0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3JuZXIgRGVmYXVsdCBhbmNob3IgY29ybmVyIGFsaWdubWVudCBvZiB0b3AtbGVmdCBtZW51IGNvcm5lci5cbiAgICAgKi9cbiAgICBNRENNZW51LnByb3RvdHlwZS5zZXRBbmNob3JDb3JuZXIgPSBmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICAgIHRoaXMubWVudVN1cmZhY2Uuc2V0QW5jaG9yQ29ybmVyKGNvcm5lcik7XG4gICAgfTtcbiAgICBNRENNZW51LnByb3RvdHlwZS5zZXRBbmNob3JNYXJnaW4gPSBmdW5jdGlvbiAobWFyZ2luKSB7XG4gICAgICAgIHRoaXMubWVudVN1cmZhY2Uuc2V0QW5jaG9yTWFyZ2luKG1hcmdpbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGl0ZW0gYXMgdGhlIHNlbGVjdGVkIHJvdyBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiBsaXN0IGl0ZW0gd2l0aGluIG1lbnUuXG4gICAgICovXG4gICAgTURDTWVudS5wcm90b3R5cGUuc2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBlbmFibGVkIHN0YXRlIHRvIGlzRW5hYmxlZCBmb3IgdGhlIG1lbnUgaXRlbSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBtZW51IGl0ZW1cbiAgICAgKiBAcGFyYW0gaXNFbmFibGVkIFRoZSBkZXNpcmVkIGVuYWJsZWQgc3RhdGUgb2YgdGhlIG1lbnUgaXRlbS5cbiAgICAgKi9cbiAgICBNRENNZW51LnByb3RvdHlwZS5zZXRFbmFibGVkID0gZnVuY3Rpb24gKGluZGV4LCBpc0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldEVuYWJsZWQoaW5kZXgsIGlzRW5hYmxlZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFRoZSBpdGVtIHdpdGhpbiB0aGUgbWVudSBhdCB0aGUgaW5kZXggc3BlY2lmaWVkLlxuICAgICAqL1xuICAgIE1EQ01lbnUucHJvdG90eXBlLmdldE9wdGlvbkJ5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICAgICAgaWYgKGluZGV4IDwgaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGluZGV4IEEgbWVudSBpdGVtJ3MgaW5kZXguXG4gICAgICogQHJldHVybiBUaGUgcHJpbWFyeSB0ZXh0IHdpdGhpbiB0aGUgbWVudSBhdCB0aGUgaW5kZXggc3BlY2lmaWVkLlxuICAgICAqL1xuICAgIE1EQ01lbnUucHJvdG90eXBlLmdldFByaW1hcnlUZXh0QXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuZ2V0T3B0aW9uQnlJbmRleChpbmRleCk7XG4gICAgICAgIGlmIChpdGVtICYmIHRoaXMubGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5nZXRQcmltYXJ5VGV4dChpdGVtKSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfTtcbiAgICBNRENNZW51LnByb3RvdHlwZS5zZXRGaXhlZFBvc2l0aW9uID0gZnVuY3Rpb24gKGlzRml4ZWQpIHtcbiAgICAgICAgdGhpcy5tZW51U3VyZmFjZS5zZXRGaXhlZFBvc2l0aW9uKGlzRml4ZWQpO1xuICAgIH07XG4gICAgTURDTWVudS5wcm90b3R5cGUuc2V0SXNIb2lzdGVkID0gZnVuY3Rpb24gKGlzSG9pc3RlZCkge1xuICAgICAgICB0aGlzLm1lbnVTdXJmYWNlLnNldElzSG9pc3RlZChpc0hvaXN0ZWQpO1xuICAgIH07XG4gICAgTURDTWVudS5wcm90b3R5cGUuc2V0QWJzb2x1dGVQb3NpdGlvbiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMubWVudVN1cmZhY2Uuc2V0QWJzb2x1dGVQb3NpdGlvbih4LCB5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGVsZW1lbnQgdGhhdCB0aGUgbWVudS1zdXJmYWNlIGlzIGFuY2hvcmVkIHRvLlxuICAgICAqL1xuICAgIE1EQ01lbnUucHJvdG90eXBlLnNldEFuY2hvckVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB0aGlzLm1lbnVTdXJmYWNlLmFuY2hvckVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG4gICAgTURDTWVudS5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSB7XG4gICAgICAgICAgICBhZGRDbGFzc1RvRWxlbWVudEF0SW5kZXg6IGZ1bmN0aW9uIChpbmRleCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBfdGhpcy5pdGVtcztcbiAgICAgICAgICAgICAgICBsaXN0W2luZGV4XS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3NGcm9tRWxlbWVudEF0SW5kZXg6IGZ1bmN0aW9uIChpbmRleCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBfdGhpcy5pdGVtcztcbiAgICAgICAgICAgICAgICBsaXN0W2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkQXR0cmlidXRlVG9FbGVtZW50QXRJbmRleDogZnVuY3Rpb24gKGluZGV4LCBhdHRyLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gX3RoaXMuaXRlbXM7XG4gICAgICAgICAgICAgICAgbGlzdFtpbmRleF0uc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVBdHRyaWJ1dGVGcm9tRWxlbWVudEF0SW5kZXg6IGZ1bmN0aW9uIChpbmRleCwgYXR0cikge1xuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gX3RoaXMuaXRlbXM7XG4gICAgICAgICAgICAgICAgbGlzdFtpbmRleF0ucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEF0dHJpYnV0ZUZyb21FbGVtZW50QXRJbmRleDogZnVuY3Rpb24gKGluZGV4LCBhdHRyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBfdGhpcy5pdGVtcztcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdFtpbmRleF0uZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVsZW1lbnRDb250YWluc0NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2VTdXJmYWNlOiBmdW5jdGlvbiAoc2tpcFJlc3RvcmVGb2N1cykge1xuICAgICAgICAgICAgICAgIF90aGlzLm1lbnVTdXJmYWNlLmNsb3NlKHNraXBSZXN0b3JlRm9jdXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEVsZW1lbnRJbmRleDogZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIF90aGlzLml0ZW1zLmluZGV4T2YoZWxlbWVudCk7IH0sXG4gICAgICAgICAgICBub3RpZnlTZWxlY3RlZDogZnVuY3Rpb24gKGV2dERhdGEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KHN0cmluZ3MuU0VMRUNURURfRVZFTlQsIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGV2dERhdGEuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IF90aGlzLml0ZW1zW2V2dERhdGEuaW5kZXhdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE1lbnVJdGVtQ291bnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLml0ZW1zLmxlbmd0aDsgfSxcbiAgICAgICAgICAgIGZvY3VzSXRlbUF0SW5kZXg6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIF90aGlzLml0ZW1zW2luZGV4XS5mb2N1cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvY3VzTGlzdFJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5MSVNUX1NFTEVDVE9SKS5mb2N1cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzU2VsZWN0YWJsZUl0ZW1BdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFjbG9zZXN0KF90aGlzLml0ZW1zW2luZGV4XSwgXCIuXCIgKyBjc3NDbGFzc2VzLk1FTlVfU0VMRUNUSU9OX0dST1VQKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTZWxlY3RlZFNpYmxpbmdPZkl0ZW1BdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uR3JvdXBFbCA9IGNsb3Nlc3QoX3RoaXMuaXRlbXNbaW5kZXhdLCBcIi5cIiArIGNzc0NsYXNzZXMuTUVOVV9TRUxFQ1RJT05fR1JPVVApO1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZEl0ZW1FbCA9IHNlbGVjdGlvbkdyb3VwRWwucXVlcnlTZWxlY3RvcihcIi5cIiArIGNzc0NsYXNzZXMuTUVOVV9TRUxFQ1RFRF9MSVNUX0lURU0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZEl0ZW1FbCA/IF90aGlzLml0ZW1zLmluZGV4T2Yoc2VsZWN0ZWRJdGVtRWwpIDogLTE7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICByZXR1cm4gbmV3IE1EQ01lbnVGb3VuZGF0aW9uKGFkYXB0ZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ01lbnU7XG59KE1EQ0NvbXBvbmVudCkpO1xuZXhwb3J0IHsgTURDTWVudSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgQUNUSVZBVEVEOiAnbWRjLXNlbGVjdC0tYWN0aXZhdGVkJyxcbiAgICBESVNBQkxFRDogJ21kYy1zZWxlY3QtLWRpc2FibGVkJyxcbiAgICBGT0NVU0VEOiAnbWRjLXNlbGVjdC0tZm9jdXNlZCcsXG4gICAgSU5WQUxJRDogJ21kYy1zZWxlY3QtLWludmFsaWQnLFxuICAgIE1FTlVfSU5WQUxJRDogJ21kYy1zZWxlY3RfX21lbnUtLWludmFsaWQnLFxuICAgIE9VVExJTkVEOiAnbWRjLXNlbGVjdC0tb3V0bGluZWQnLFxuICAgIFJFUVVJUkVEOiAnbWRjLXNlbGVjdC0tcmVxdWlyZWQnLFxuICAgIFJPT1Q6ICdtZGMtc2VsZWN0JyxcbiAgICBXSVRIX0xFQURJTkdfSUNPTjogJ21kYy1zZWxlY3QtLXdpdGgtbGVhZGluZy1pY29uJyxcbn07XG52YXIgc3RyaW5ncyA9IHtcbiAgICBBUklBX0NPTlRST0xTOiAnYXJpYS1jb250cm9scycsXG4gICAgQVJJQV9ERVNDUklCRURCWTogJ2FyaWEtZGVzY3JpYmVkYnknLFxuICAgIEFSSUFfU0VMRUNURURfQVRUUjogJ2FyaWEtc2VsZWN0ZWQnLFxuICAgIENIQU5HRV9FVkVOVDogJ01EQ1NlbGVjdDpjaGFuZ2UnLFxuICAgIEhJRERFTl9JTlBVVF9TRUxFQ1RPUjogJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nLFxuICAgIExBQkVMX1NFTEVDVE9SOiAnLm1kYy1mbG9hdGluZy1sYWJlbCcsXG4gICAgTEVBRElOR19JQ09OX1NFTEVDVE9SOiAnLm1kYy1zZWxlY3RfX2ljb24nLFxuICAgIExJTkVfUklQUExFX1NFTEVDVE9SOiAnLm1kYy1saW5lLXJpcHBsZScsXG4gICAgTUVOVV9TRUxFQ1RPUjogJy5tZGMtc2VsZWN0X19tZW51JyxcbiAgICBPVVRMSU5FX1NFTEVDVE9SOiAnLm1kYy1ub3RjaGVkLW91dGxpbmUnLFxuICAgIFNFTEVDVEVEX1RFWFRfU0VMRUNUT1I6ICcubWRjLXNlbGVjdF9fc2VsZWN0ZWQtdGV4dCcsXG4gICAgU0VMRUNUX0FOQ0hPUl9TRUxFQ1RPUjogJy5tZGMtc2VsZWN0X19hbmNob3InLFxuICAgIFZBTFVFX0FUVFI6ICdkYXRhLXZhbHVlJyxcbn07XG52YXIgbnVtYmVycyA9IHtcbiAgICBMQUJFTF9TQ0FMRTogMC43NSxcbiAgICBVTlNFVF9JTkRFWDogLTEsXG4gICAgQ0xJQ0tfREVCT1VOQ0VfVElNRU9VVF9NUzogMzMwLFxufTtcbmV4cG9ydCB7IGNzc0NsYXNzZXMsIHN0cmluZ3MsIG51bWJlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IEtFWSwgbm9ybWFsaXplS2V5IH0gZnJvbSAnQG1hdGVyaWFsL2RvbS9rZXlib2FyZCc7XG5pbXBvcnQgeyBDb3JuZXIgfSBmcm9tICdAbWF0ZXJpYWwvbWVudS1zdXJmYWNlL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBudW1iZXJzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xudmFyIE1EQ1NlbGVjdEZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ1NlbGVjdEZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG9wdGlvbmFsIGFyZ3VtZW50IGlzIG5vdCBhIGJyYW5jaCBzdGF0ZW1lbnQgKi9cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYWRhcHRlclxuICAgICAqIEBwYXJhbSBmb3VuZGF0aW9uTWFwIE1hcCBmcm9tIHN1YmNvbXBvbmVudCBuYW1lcyB0byB0aGVpciBzdWJmb3VuZGF0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNRENTZWxlY3RGb3VuZGF0aW9uKGFkYXB0ZXIsIGZvdW5kYXRpb25NYXApIHtcbiAgICAgICAgaWYgKGZvdW5kYXRpb25NYXAgPT09IHZvaWQgMCkgeyBmb3VuZGF0aW9uTWFwID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIE1EQ1NlbGVjdEZvdW5kYXRpb24uZGVmYXVsdEFkYXB0ZXIpLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICAgICAgLy8gRGlzYWJsZWQgc3RhdGVcbiAgICAgICAgX3RoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gaXNNZW51T3BlbiBpcyB1c2VkIHRvIHRyYWNrIHRoZSBzdGF0ZSBvZiB0aGUgbWVudSBieSBsaXN0ZW5pbmcgdG8gdGhlXG4gICAgICAgIC8vIE1EQ01lbnVTdXJmYWNlOmNsb3NlZCBldmVudCBGb3IgcmVmZXJlbmNlLCBtZW51Lm9wZW4gd2lsbCByZXR1cm4gZmFsc2UgaWZcbiAgICAgICAgLy8gdGhlIG1lbnUgaXMgc3RpbGwgY2xvc2luZywgYnV0IGlzTWVudU9wZW4gcmV0dXJucyBmYWxzZSBvbmx5IGFmdGVyIHRoZSBtZW51XG4gICAgICAgIC8vIGhhcyBjbG9zZWRcbiAgICAgICAgX3RoaXMuaXNNZW51T3BlbiA9IGZhbHNlO1xuICAgICAgICAvLyBCeSBkZWZhdWx0LCBzZWxlY3QgaXMgaW52YWxpZCBpZiBpdCBpcyByZXF1aXJlZCBidXQgbm8gdmFsdWUgaXMgc2VsZWN0ZWQuXG4gICAgICAgIF90aGlzLnVzZURlZmF1bHRWYWxpZGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuY3VzdG9tVmFsaWRpdHkgPSB0cnVlO1xuICAgICAgICBfdGhpcy5sYXN0U2VsZWN0ZWRJbmRleCA9IG51bWJlcnMuVU5TRVRfSU5ERVg7XG4gICAgICAgIF90aGlzLmNsaWNrRGVib3VuY2VUaW1lb3V0ID0gMDtcbiAgICAgICAgX3RoaXMucmVjZW50bHlDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlYWRpbmdJY29uID0gZm91bmRhdGlvbk1hcC5sZWFkaW5nSWNvbjtcbiAgICAgICAgX3RoaXMuaGVscGVyVGV4dCA9IGZvdW5kYXRpb25NYXAuaGVscGVyVGV4dDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDU2VsZWN0Rm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENTZWxlY3RGb3VuZGF0aW9uLCBcIm51bWJlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdEZvdW5kYXRpb24sIFwic3RyaW5nc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDU2VsZWN0Rm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ1NlbGVjdEFkYXB0ZXJ9IGZvciB0eXBpbmcgaW5mb3JtYXRpb24gb24gcGFyYW1ldGVycyBhbmQgcmV0dXJuIHR5cGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgTWV0aG9kcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGFkYXB0ZXIgaW50ZXJmYWNlLlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGFjdGl2YXRlQm90dG9tTGluZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVCb3R0b21MaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0U2VsZWN0ZWRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gLTE7IH0sXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGhhc0xhYmVsOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBmbG9hdExhYmVsOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0TGFiZWxXaWR0aDogZnVuY3Rpb24gKCkgeyByZXR1cm4gMDsgfSxcbiAgICAgICAgICAgICAgICBzZXRMYWJlbFJlcXVpcmVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgaGFzT3V0bGluZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgbm90Y2hPdXRsaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgY2xvc2VPdXRsaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0UmlwcGxlQ2VudGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5Q2hhbmdlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUZXh0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RBbmNob3JGb2N1c2VkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBnZXRTZWxlY3RBbmNob3JBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnJzsgfSxcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RBbmNob3JBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlU2VsZWN0QW5jaG9yQXR0cjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGFkZE1lbnVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZU1lbnVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG9wZW5NZW51OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgY2xvc2VNZW51OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0QW5jaG9yRWxlbWVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBzZXRNZW51QW5jaG9yRWxlbWVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldE1lbnVBbmNob3JDb3JuZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBzZXRNZW51V3JhcEZvY3VzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZm9jdXNNZW51SXRlbUF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRNZW51SXRlbUNvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9LFxuICAgICAgICAgICAgICAgIGdldE1lbnVJdGVtVmFsdWVzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfSxcbiAgICAgICAgICAgICAgICBnZXRNZW51SXRlbVRleHRBdEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiAnJzsgfSxcbiAgICAgICAgICAgICAgICBpc1R5cGVhaGVhZEluUHJvZ3Jlc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIHR5cGVhaGVhZE1hdGNoSXRlbTogZnVuY3Rpb24gKCkgeyByZXR1cm4gLTE7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIG1lbnUgaXRlbSwgb3IgLTEgaWYgbm9uZS4gKi9cbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRTZWxlY3RlZEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmdldFNlbGVjdGVkSW5kZXgoKTtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgsIGNsb3NlTWVudSwgc2tpcE5vdGlmeSkge1xuICAgICAgICBpZiAoY2xvc2VNZW51ID09PSB2b2lkIDApIHsgY2xvc2VNZW51ID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHNraXBOb3RpZnkgPT09IHZvaWQgMCkgeyBza2lwTm90aWZ5ID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGluZGV4ID49IHRoaXMuYWRhcHRlci5nZXRNZW51SXRlbUNvdW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT09IG51bWJlcnMuVU5TRVRfSU5ERVgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRTZWxlY3RlZFRleHQoJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldFNlbGVjdGVkVGV4dCh0aGlzLmFkYXB0ZXIuZ2V0TWVudUl0ZW1UZXh0QXRJbmRleChpbmRleCkudHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG4gICAgICAgIGlmIChjbG9zZU1lbnUpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5jbG9zZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNraXBOb3RpZnkgJiYgdGhpcy5sYXN0U2VsZWN0ZWRJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgIH07XG4gICAgTURDU2VsZWN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIHNraXBOb3RpZnkpIHtcbiAgICAgICAgaWYgKHNraXBOb3RpZnkgPT09IHZvaWQgMCkgeyBza2lwTm90aWZ5ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5hZGFwdGVyLmdldE1lbnVJdGVtVmFsdWVzKCkuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJbmRleChpbmRleCwgLyoqIGNsb3NlTWVudSAqLyBmYWxzZSwgc2tpcE5vdGlmeSk7XG4gICAgfTtcbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5hZGFwdGVyLmdldFNlbGVjdGVkSW5kZXgoKTtcbiAgICAgICAgdmFyIG1lbnVJdGVtVmFsdWVzID0gdGhpcy5hZGFwdGVyLmdldE1lbnVJdGVtVmFsdWVzKCk7XG4gICAgICAgIHJldHVybiBpbmRleCAhPT0gbnVtYmVycy5VTlNFVF9JTkRFWCA/IG1lbnVJdGVtVmFsdWVzW2luZGV4XSA6ICcnO1xuICAgIH07XG4gICAgTURDU2VsZWN0Rm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0RGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkO1xuICAgIH07XG4gICAgTURDU2VsZWN0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0RGlzYWJsZWQgPSBmdW5jdGlvbiAoaXNEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhjc3NDbGFzc2VzLkRJU0FCTEVEKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5jbG9zZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLkRJU0FCTEVEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZWFkaW5nSWNvbikge1xuICAgICAgICAgICAgdGhpcy5sZWFkaW5nSWNvbi5zZXREaXNhYmxlZCh0aGlzLmRpc2FibGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBjbGljayBldmVudHMgZnJvbSBmb2N1c2luZyBzZWxlY3QuIFNpbXBseSBwb2ludGVyLWV2ZW50czogbm9uZVxuICAgICAgICAgICAgLy8gaXMgbm90IGVub3VnaCBzaW5jZSBzY3JlZW5yZWFkZXIgY2xpY2tzIG1heSBieXBhc3MgdGhpcy5cbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVTZWxlY3RBbmNob3JBdHRyKCd0YWJpbmRleCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldFNlbGVjdEFuY2hvckF0dHIoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VsZWN0QW5jaG9yQXR0cignYXJpYS1kaXNhYmxlZCcsIHRoaXMuZGlzYWJsZWQudG9TdHJpbmcoKSk7XG4gICAgfTtcbiAgICAvKiogT3BlbnMgdGhlIG1lbnUuICovXG4gICAgTURDU2VsZWN0Rm91bmRhdGlvbi5wcm90b3R5cGUub3Blbk1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhjc3NDbGFzc2VzLkFDVElWQVRFRCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5vcGVuTWVudSgpO1xuICAgICAgICB0aGlzLmlzTWVudU9wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VsZWN0QW5jaG9yQXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29udGVudCBTZXRzIHRoZSBjb250ZW50IG9mIHRoZSBoZWxwZXIgdGV4dC5cbiAgICAgKi9cbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRIZWxwZXJUZXh0Q29udGVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmhlbHBlclRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVscGVyVGV4dC5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZS1jYWxjdWxhdGVzIGlmIHRoZSBub3RjaGVkIG91dGxpbmUgc2hvdWxkIGJlIG5vdGNoZWQgYW5kIGlmIHRoZSBsYWJlbFxuICAgICAqIHNob3VsZCBmbG9hdC5cbiAgICAgKi9cbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaGFzTGFiZWwoKSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbkhhc1ZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB2YXIgaXNGb2N1c2VkID0gdGhpcy5hZGFwdGVyLmhhc0NsYXNzKGNzc0NsYXNzZXMuRk9DVVNFRCk7XG4gICAgICAgICAgICB2YXIgc2hvdWxkRmxvYXRBbmROb3RjaCA9IG9wdGlvbkhhc1ZhbHVlIHx8IGlzRm9jdXNlZDtcbiAgICAgICAgICAgIHZhciBpc1JlcXVpcmVkID0gdGhpcy5hZGFwdGVyLmhhc0NsYXNzKGNzc0NsYXNzZXMuUkVRVUlSRUQpO1xuICAgICAgICAgICAgdGhpcy5ub3RjaE91dGxpbmUoc2hvdWxkRmxvYXRBbmROb3RjaCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZmxvYXRMYWJlbChzaG91bGRGbG9hdEFuZE5vdGNoKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRMYWJlbFJlcXVpcmVkKGlzUmVxdWlyZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbml6ZXMgdGhlIGxpc3Qgb2Ygb3B0aW9ucyB3aXRoIHRoZSBzdGF0ZSBvZiB0aGUgZm91bmRhdGlvbi4gQ2FsbFxuICAgICAqIHRoaXMgd2hlbmV2ZXIgbWVudSBvcHRpb25zIGFyZSBkeW5hbWljYWxseSB1cGRhdGVkLlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmxheW91dE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZW51SXRlbVZhbHVlcyA9IHRoaXMuYWRhcHRlci5nZXRNZW51SXRlbVZhbHVlcygpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IG1lbnVJdGVtVmFsdWVzLmluZGV4T2YodGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEluZGV4KHNlbGVjdGVkSW5kZXgsIC8qKiBjbG9zZU1lbnUgKi8gZmFsc2UsIC8qKiBza2lwTm90aWZ5ICovIHRydWUpO1xuICAgIH07XG4gICAgTURDU2VsZWN0Rm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlTWVudU9wZW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5nZXRNZW51SXRlbVZhbHVlcygpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1lbnUgc2hvdWxkIG9wZW4gdG8gdGhlIGxhc3Qgc2VsZWN0ZWQgZWxlbWVudCwgc2hvdWxkIG9wZW4gdG8gZmlyc3QgbWVudSBpdGVtIG90aGVyd2lzZS5cbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSB0aGlzLmdldFNlbGVjdGVkSW5kZXgoKTtcbiAgICAgICAgdmFyIGZvY3VzSXRlbUluZGV4ID0gc2VsZWN0ZWRJbmRleCA+PSAwID8gc2VsZWN0ZWRJbmRleCA6IDA7XG4gICAgICAgIHRoaXMuYWRhcHRlci5mb2N1c01lbnVJdGVtQXRJbmRleChmb2N1c0l0ZW1JbmRleCk7XG4gICAgfTtcbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVNZW51Q2xvc2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldFNlbGVjdEFuY2hvckF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZU1lbnVDbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLkFDVElWQVRFRCk7XG4gICAgICAgIHRoaXMuaXNNZW51T3BlbiA9IGZhbHNlO1xuICAgICAgICAvLyBVbmZvY3VzIHRoZSBzZWxlY3QgaWYgbWVudSBpcyBjbG9zZWQgd2l0aG91dCBhIHNlbGVjdGlvblxuICAgICAgICBpZiAoIXRoaXMuYWRhcHRlci5pc1NlbGVjdEFuY2hvckZvY3VzZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdmFsdWUgY2hhbmdlcywgdmlhIGNoYW5nZSBldmVudCBvciBwcm9ncmFtbWF0aWMgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGF5b3V0KCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5ub3RpZnlDaGFuZ2UodGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgICAgdmFyIGlzUmVxdWlyZWQgPSB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5SRVFVSVJFRCk7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkICYmIHRoaXMudXNlRGVmYXVsdFZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsaWQodGhpcy5pc1ZhbGlkKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVNZW51SXRlbUFjdGlvbiA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdGVkSW5kZXgoaW5kZXgsIC8qKiBjbG9zZU1lbnUgKi8gdHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGZvY3VzIGV2ZW50cyBmcm9tIHNlbGVjdCBlbGVtZW50LlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5GT0NVU0VEKTtcbiAgICAgICAgdGhpcy5sYXlvdXQoKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmFjdGl2YXRlQm90dG9tTGluZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBibHVyIGV2ZW50cyBmcm9tIHNlbGVjdCBlbGVtZW50LlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTWVudU9wZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJsdXIoKTtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKG5vcm1hbGl6ZWRYKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRoaXMucmVjZW50bHlDbGlja2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDbGlja0RlYm91bmNlVGltZW91dCgpO1xuICAgICAgICBpZiAodGhpcy5pc01lbnVPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuY2xvc2VNZW51KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldFJpcHBsZUNlbnRlcihub3JtYWxpemVkWCk7XG4gICAgICAgIHRoaXMub3Blbk1lbnUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMga2V5ZG93biBldmVudHMgb24gc2VsZWN0IGVsZW1lbnQuIERlcGVuZGluZyBvbiB0aGUgdHlwZSBvZlxuICAgICAqIGNoYXJhY3RlciB0eXBlZCwgZG9lcyB0eXBlYWhlYWQgbWF0Y2hpbmcgb3Igb3BlbnMgbWVudS5cbiAgICAgKi9cbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVLZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzTWVudU9wZW4gfHwgIXRoaXMuYWRhcHRlci5oYXNDbGFzcyhjc3NDbGFzc2VzLkZPQ1VTRUQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzRW50ZXIgPSBub3JtYWxpemVLZXkoZXZlbnQpID09PSBLRVkuRU5URVI7XG4gICAgICAgIHZhciBpc1NwYWNlID0gbm9ybWFsaXplS2V5KGV2ZW50KSA9PT0gS0VZLlNQQUNFQkFSO1xuICAgICAgICB2YXIgYXJyb3dVcCA9IG5vcm1hbGl6ZUtleShldmVudCkgPT09IEtFWS5BUlJPV19VUDtcbiAgICAgICAgdmFyIGFycm93RG93biA9IG5vcm1hbGl6ZUtleShldmVudCkgPT09IEtFWS5BUlJPV19ET1dOO1xuICAgICAgICB2YXIgaXNNb2RpZmllciA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcbiAgICAgICAgLy8gVHlwZWFoZWFkXG4gICAgICAgIGlmICghaXNNb2RpZmllciAmJlxuICAgICAgICAgICAgKCFpc1NwYWNlICYmIGV2ZW50LmtleSAmJiBldmVudC5rZXkubGVuZ3RoID09PSAxIHx8XG4gICAgICAgICAgICAgICAgaXNTcGFjZSAmJiB0aGlzLmFkYXB0ZXIuaXNUeXBlYWhlYWRJblByb2dyZXNzKCkpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gaXNTcGFjZSA/ICcgJyA6IGV2ZW50LmtleTtcbiAgICAgICAgICAgIHZhciB0eXBlYWhlYWROZXh0SW5kZXggPSB0aGlzLmFkYXB0ZXIudHlwZWFoZWFkTWF0Y2hJdGVtKGtleSwgdGhpcy5nZXRTZWxlY3RlZEluZGV4KCkpO1xuICAgICAgICAgICAgaWYgKHR5cGVhaGVhZE5leHRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEluZGV4KHR5cGVhaGVhZE5leHRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbnRlciAmJiAhaXNTcGFjZSAmJiAhYXJyb3dVcCAmJiAhYXJyb3dEb3duKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuTWVudSgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3BlbnMvY2xvc2VzIHRoZSBub3RjaGVkIG91dGxpbmUuXG4gICAgICovXG4gICAgTURDU2VsZWN0Rm91bmRhdGlvbi5wcm90b3R5cGUubm90Y2hPdXRsaW5lID0gZnVuY3Rpb24gKG9wZW5Ob3RjaCkge1xuICAgICAgICBpZiAoIXRoaXMuYWRhcHRlci5oYXNPdXRsaW5lKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNGb2N1c2VkID0gdGhpcy5hZGFwdGVyLmhhc0NsYXNzKGNzc0NsYXNzZXMuRk9DVVNFRCk7XG4gICAgICAgIGlmIChvcGVuTm90Y2gpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbFNjYWxlID0gbnVtYmVycy5MQUJFTF9TQ0FMRTtcbiAgICAgICAgICAgIHZhciBsYWJlbFdpZHRoID0gdGhpcy5hZGFwdGVyLmdldExhYmVsV2lkdGgoKSAqIGxhYmVsU2NhbGU7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90Y2hPdXRsaW5lKGxhYmVsV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc0ZvY3VzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5jbG9zZU91dGxpbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYXJpYSBsYWJlbCBvZiB0aGUgbGVhZGluZyBpY29uLlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldExlYWRpbmdJY29uQXJpYUxhYmVsID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIGlmICh0aGlzLmxlYWRpbmdJY29uKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRpbmdJY29uLnNldEFyaWFMYWJlbChsYWJlbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgbGVhZGluZyBpY29uLlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldExlYWRpbmdJY29uQ29udGVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmxlYWRpbmdJY29uKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRpbmdJY29uLnNldENvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmdldFVzZURlZmF1bHRWYWxpZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51c2VEZWZhdWx0VmFsaWRhdGlvbjtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFVzZURlZmF1bHRWYWxpZGF0aW9uID0gZnVuY3Rpb24gKHVzZURlZmF1bHRWYWxpZGF0aW9uKSB7XG4gICAgICAgIHRoaXMudXNlRGVmYXVsdFZhbGlkYXRpb24gPSB1c2VEZWZhdWx0VmFsaWRhdGlvbjtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFZhbGlkID0gZnVuY3Rpb24gKGlzVmFsaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVzZURlZmF1bHRWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbVZhbGlkaXR5ID0gaXNWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VsZWN0QW5jaG9yQXR0cignYXJpYS1pbnZhbGlkJywgKCFpc1ZhbGlkKS50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLklOVkFMSUQpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZU1lbnVDbGFzcyhjc3NDbGFzc2VzLk1FTlVfSU5WQUxJRCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5JTlZBTElEKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRNZW51Q2xhc3MoY3NzQ2xhc3Nlcy5NRU5VX0lOVkFMSUQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3luY0hlbHBlclRleHRWYWxpZGl0eShpc1ZhbGlkKTtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZURlZmF1bHRWYWxpZGF0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5SRVFVSVJFRCkgJiZcbiAgICAgICAgICAgICF0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5ESVNBQkxFRCkpIHtcbiAgICAgICAgICAgIC8vIFNlZSBub3RlcyBmb3IgcmVxdWlyZWQgYXR0cmlidXRlIHVuZGVyIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTIvc2VjLWZvcm1zLmh0bWwjdGhlLXNlbGVjdC1lbGVtZW50XG4gICAgICAgICAgICAvLyBUTDtEUjogSW52YWxpZCBpZiBubyBpbmRleCBpcyBzZWxlY3RlZCwgb3IgaWYgdGhlIGZpcnN0IGluZGV4IGlzIHNlbGVjdGVkIGFuZCBoYXMgYW4gZW1wdHkgdmFsdWUuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3RlZEluZGV4KCkgIT09IG51bWJlcnMuVU5TRVRfSU5ERVggJiZcbiAgICAgICAgICAgICAgICAodGhpcy5nZXRTZWxlY3RlZEluZGV4KCkgIT09IDAgfHwgQm9vbGVhbih0aGlzLmdldFZhbHVlKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21WYWxpZGl0eTtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFJlcXVpcmVkID0gZnVuY3Rpb24gKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhjc3NDbGFzc2VzLlJFUVVJUkVEKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLlJFUVVJUkVEKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VsZWN0QW5jaG9yQXR0cignYXJpYS1yZXF1aXJlZCcsIGlzUmVxdWlyZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRMYWJlbFJlcXVpcmVkKGlzUmVxdWlyZWQpO1xuICAgIH07XG4gICAgTURDU2VsZWN0Rm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0UmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZ2V0U2VsZWN0QW5jaG9yQXR0cignYXJpYS1yZXF1aXJlZCcpID09PSAndHJ1ZSc7XG4gICAgfTtcbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYW5jaG9yRWwgPSB0aGlzLmFkYXB0ZXIuZ2V0QW5jaG9yRWxlbWVudCgpO1xuICAgICAgICBpZiAoYW5jaG9yRWwpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zZXRNZW51QW5jaG9yRWxlbWVudChhbmNob3JFbCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0TWVudUFuY2hvckNvcm5lcihDb3JuZXIuQk9UVE9NX1NUQVJUKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0TWVudVdyYXBGb2N1cyhmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0RGlzYWJsZWQodGhpcy5hZGFwdGVyLmhhc0NsYXNzKGNzc0NsYXNzZXMuRElTQUJMRUQpKTtcbiAgICAgICAgdGhpcy5zeW5jSGVscGVyVGV4dFZhbGlkaXR5KCF0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5JTlZBTElEKSk7XG4gICAgICAgIHRoaXMubGF5b3V0KCk7XG4gICAgICAgIHRoaXMubGF5b3V0T3B0aW9ucygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5mb2N1c2VzIHRoZSBzZWxlY3QgY29tcG9uZW50LlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLmJsdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLkZPQ1VTRUQpO1xuICAgICAgICB0aGlzLmxheW91dCgpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuZGVhY3RpdmF0ZUJvdHRvbUxpbmUoKTtcbiAgICAgICAgdmFyIGlzUmVxdWlyZWQgPSB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5SRVFVSVJFRCk7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkICYmIHRoaXMudXNlRGVmYXVsdFZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsaWQodGhpcy5pc1ZhbGlkKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENTZWxlY3RGb3VuZGF0aW9uLnByb3RvdHlwZS5zeW5jSGVscGVyVGV4dFZhbGlkaXR5ID0gZnVuY3Rpb24gKGlzVmFsaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhlbHBlclRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlbHBlclRleHQuc2V0VmFsaWRpdHkoaXNWYWxpZCk7XG4gICAgICAgIHZhciBoZWxwZXJUZXh0VmlzaWJsZSA9IHRoaXMuaGVscGVyVGV4dC5pc1Zpc2libGUoKTtcbiAgICAgICAgdmFyIGhlbHBlclRleHRJZCA9IHRoaXMuaGVscGVyVGV4dC5nZXRJZCgpO1xuICAgICAgICBpZiAoaGVscGVyVGV4dFZpc2libGUgJiYgaGVscGVyVGV4dElkKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VsZWN0QW5jaG9yQXR0cihzdHJpbmdzLkFSSUFfREVTQ1JJQkVEQlksIGhlbHBlclRleHRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBOZWVkZWQgYmVjYXVzZSBzY3JlZW5yZWFkZXJzIHdpbGwgcmVhZCBsYWJlbHMgcG9pbnRlZCB0byBieVxuICAgICAgICAgICAgLy8gYGFyaWEtZGVzY3JpYmVkYnlgIGV2ZW4gaWYgdGhleSBhcmUgYGFyaWEtaGlkZGVuYC5cbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVTZWxlY3RBbmNob3JBdHRyKHN0cmluZ3MuQVJJQV9ERVNDUklCRURCWSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1NlbGVjdEZvdW5kYXRpb24ucHJvdG90eXBlLnNldENsaWNrRGVib3VuY2VUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jbGlja0RlYm91bmNlVGltZW91dCk7XG4gICAgICAgIHRoaXMuY2xpY2tEZWJvdW5jZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJlY2VudGx5Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB9LCBudW1iZXJzLkNMSUNLX0RFQk9VTkNFX1RJTUVPVVRfTVMpO1xuICAgICAgICB0aGlzLnJlY2VudGx5Q2xpY2tlZCA9IHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gTURDU2VsZWN0Rm91bmRhdGlvbjtcbn0oTURDRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDU2VsZWN0Rm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ1NlbGVjdEZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIHN0cmluZ3MgPSB7XG4gICAgQVJJQV9ISURERU46ICdhcmlhLWhpZGRlbicsXG4gICAgUk9MRTogJ3JvbGUnLFxufTtcbnZhciBjc3NDbGFzc2VzID0ge1xuICAgIEhFTFBFUl9URVhUX1ZBTElEQVRJT05fTVNHOiAnbWRjLXNlbGVjdC1oZWxwZXItdGV4dC0tdmFsaWRhdGlvbi1tc2cnLFxuICAgIEhFTFBFUl9URVhUX1ZBTElEQVRJT05fTVNHX1BFUlNJU1RFTlQ6ICdtZGMtc2VsZWN0LWhlbHBlci10ZXh0LS12YWxpZGF0aW9uLW1zZy1wZXJzaXN0ZW50Jyxcbn07XG5leHBvcnQgeyBzdHJpbmdzLCBjc3NDbGFzc2VzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2Fzc2lnbiwgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xudmFyIE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENTZWxlY3RIZWxwZXJUZXh0Rm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENTZWxlY3RIZWxwZXJUZXh0Rm91bmRhdGlvbihhZGFwdGVyKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24uZGVmYXVsdEFkYXB0ZXIpLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uLCBcImNzc0NsYXNzZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NDbGFzc2VzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uLCBcImRlZmF1bHRBZGFwdGVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlZSB7QGxpbmsgTURDU2VsZWN0SGVscGVyVGV4dEFkYXB0ZXJ9IGZvciB0eXBpbmcgaW5mb3JtYXRpb24gb24gcGFyYW1ldGVycyBhbmQgcmV0dXJuIHR5cGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgTWV0aG9kcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGFkYXB0ZXIgaW50ZXJmYWNlLlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIHNldEF0dHI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBzZXRDb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gVGhlIElEIG9mIHRoZSBoZWxwZXIgdGV4dCwgb3IgbnVsbCBpZiBub25lIGlzIHNldC5cbiAgICAgKi9cbiAgICBNRENTZWxlY3RIZWxwZXJUZXh0Rm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZ2V0QXR0cignaWQnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgaGVscGVyIHRleHQgaXMgY3VycmVudGx5IHZpc2libGUuXG4gICAgICovXG4gICAgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24ucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5nZXRBdHRyKHN0cmluZ3MuQVJJQV9ISURERU4pICE9PSAndHJ1ZSc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb250ZW50IG9mIHRoZSBoZWxwZXIgdGV4dCBmaWVsZC5cbiAgICAgKi9cbiAgICBNRENTZWxlY3RIZWxwZXJUZXh0Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGVscGVyIHRleHQgdG8gYWN0IGFzIGEgdmFsaWRhdGlvbiBtZXNzYWdlLlxuICAgICAqIEJ5IGRlZmF1bHQsIHZhbGlkYXRpb24gbWVzc2FnZXMgYXJlIGhpZGRlbiB3aGVuIHRoZSBzZWxlY3QgaXMgdmFsaWQgYW5kXG4gICAgICogdmlzaWJsZSB3aGVuIHRoZSBzZWxlY3QgaXMgaW52YWxpZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpc1ZhbGlkYXRpb24gVHJ1ZSB0byBtYWtlIHRoZSBoZWxwZXIgdGV4dCBhY3QgYXMgYW4gZXJyb3IgdmFsaWRhdGlvblxuICAgICAqICAgICBtZXNzYWdlLlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRWYWxpZGF0aW9uID0gZnVuY3Rpb24gKGlzVmFsaWRhdGlvbikge1xuICAgICAgICBpZiAoaXNWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9WQUxJREFUSU9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9WQUxJREFUSU9OX01TRyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBlcnNpc3RlbmN5IG9mIHRoZSB2YWxpZGF0aW9uIGhlbHBlciB0ZXh0LlxuICAgICAqIFRoaXMga2VlcHMgdGhlIHZhbGlkYXRpb24gbWVzc2FnZSB2aXNpYmxlIGV2ZW4gaWYgdGhlIHNlbGVjdCBpcyB2YWxpZCxcbiAgICAgKiB0aG91Z2ggaXQgd2lsbCBiZSBkaXNwbGF5ZWQgaW4gdGhlIG5vcm1hbCAoZ3JleSkgY29sb3IuXG4gICAgICovXG4gICAgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFZhbGlkYXRpb25Nc2dQZXJzaXN0ZW50ID0gZnVuY3Rpb24gKGlzUGVyc2lzdGVudCkge1xuICAgICAgICBpZiAoaXNQZXJzaXN0ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9WQUxJREFUSU9OX01TR19QRVJTSVNURU5UKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLkhFTFBFUl9URVhUX1ZBTElEQVRJT05fTVNHX1BFUlNJU1RFTlQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGhlbHBlciB0ZXh0IGFjdHMgYXMgYSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQnkgZGVmYXVsdCwgdmFsaWRhdGlvbiBtZXNzYWdlcyBhcmUgaGlkZGVuIHdoZW4gdGhlIHNlbGVjdCBpcyB2YWxpZCBhbmRcbiAgICAgKiB2aXNpYmxlIHdoZW4gdGhlIHNlbGVjdCBpcyBpbnZhbGlkLlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRJc1ZhbGlkYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9WQUxJREFUSU9OX01TRyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHZhbGlkYXRpb24gaGVscGVyIHRleHQgcGVyc2lzdHMgZXZlbiBpZiB0aGUgaW5wdXQgaXNcbiAgICAgKiB2YWxpZC4gSWYgaXQgaXMsIGl0IHdpbGwgYmUgZGlzcGxheWVkIGluIHRoZSBub3JtYWwgKGdyZXkpIGNvbG9yLlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRJc1ZhbGlkYXRpb25Nc2dQZXJzaXN0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmhhc0NsYXNzKGNzc0NsYXNzZXMuSEVMUEVSX1RFWFRfVkFMSURBVElPTl9NU0dfUEVSU0lTVEVOVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGVuIGFjdGluZyBhcyBhIHZhbGlkYXRpb24gbWVzc2FnZSwgc2hvd3MvaGlkZXMgdGhlIGhlbHBlciB0ZXh0IGFuZFxuICAgICAqIHRyaWdnZXJzIGFsZXJ0cyBhcyBuZWNlc3NhcnkgYmFzZWQgb24gdGhlIHNlbGVjdCdzIHZhbGlkaXR5LlxuICAgICAqL1xuICAgIE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRWYWxpZGl0eSA9IGZ1bmN0aW9uIChzZWxlY3RJc1ZhbGlkKSB7XG4gICAgICAgIHZhciBpc1ZhbGlkYXRpb25Nc2cgPSB0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5IRUxQRVJfVEVYVF9WQUxJREFUSU9OX01TRyk7XG4gICAgICAgIGlmICghaXNWYWxpZGF0aW9uTXNnKSB7XG4gICAgICAgICAgICAvLyBOb24tdmFsaWRhdGluZyBoZWxwZXItdGV4dCBpcyBhbHdheXMgZGlzcGxheWVkIGFuZCBkb2VzIG5vdCBwYXJ0aWNpcGF0ZVxuICAgICAgICAgICAgLy8gaW4gdmFsaWRhdGlvbiBsb2dpYy5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNQZXJzaXN0ZW50VmFsaWRhdGlvbk1zZyA9IHRoaXMuYWRhcHRlci5oYXNDbGFzcyhjc3NDbGFzc2VzLkhFTFBFUl9URVhUX1ZBTElEQVRJT05fTVNHX1BFUlNJU1RFTlQpO1xuICAgICAgICAvLyBWYWxpZGF0aW5nIGhlbHBlciB0ZXh0IGlzIGRpc3BsYXllZCBpZiBzZWxlY3QgaXMgaW52YWxpZCwgdW5sZXNzIGl0IGlzXG4gICAgICAgIC8vIHNldCBhcyBwZXJzaXN0ZW50LCBpbiB3aGljaCBjYXNlIGl0IGFsd2F5cyBkaXNwbGF5cy5cbiAgICAgICAgdmFyIG1zZ1Nob3VsZERpc3BsYXkgPSAhc2VsZWN0SXNWYWxpZCB8fCBpc1BlcnNpc3RlbnRWYWxpZGF0aW9uTXNnO1xuICAgICAgICBpZiAobXNnU2hvdWxkRGlzcGxheSkge1xuICAgICAgICAgICAgdGhpcy5zaG93VG9TY3JlZW5SZWFkZXIoKTtcbiAgICAgICAgICAgIC8vIEluIGFkZGl0aW9uIHRvIGRpc3BsYXlpbmcsIGFsc28gdHJpZ2dlciBhbiBhbGVydCBpZiB0aGUgc2VsZWN0XG4gICAgICAgICAgICAvLyBoYXMgYmVjb21lIGludmFsaWQuXG4gICAgICAgICAgICBpZiAoIXNlbGVjdElzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXR0cihzdHJpbmdzLlJPTEUsICdhbGVydCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUF0dHIoc3RyaW5ncy5ST0xFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBIaWRlIGV2ZXJ5dGhpbmcuXG4gICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVBdHRyKHN0cmluZ3MuUk9MRSk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIGhlbHBlciB0ZXh0IHZpc2libGUgdG8gc2NyZWVuIHJlYWRlcnMuXG4gICAgICovXG4gICAgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24ucHJvdG90eXBlLnNob3dUb1NjcmVlblJlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUF0dHIoc3RyaW5ncy5BUklBX0hJRERFTik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgaGVscCB0ZXh0IGZyb20gc2NyZWVuIHJlYWRlcnMuXG4gICAgICovXG4gICAgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24ucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRBdHRyKHN0cmluZ3MuQVJJQV9ISURERU4sICd0cnVlJyk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ1NlbGVjdEhlbHBlclRleHRGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENDb21wb25lbnQgfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xudmFyIE1EQ1NlbGVjdEhlbHBlclRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ1NlbGVjdEhlbHBlclRleHQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDU2VsZWN0SGVscGVyVGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBNRENTZWxlY3RIZWxwZXJUZXh0LmF0dGFjaFRvID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNRENTZWxlY3RIZWxwZXJUZXh0KHJvb3QpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdEhlbHBlclRleHQucHJvdG90eXBlLCBcImZvdW5kYXRpb25Gb3JTZWxlY3RcIiwge1xuICAgICAgICAvLyBQcm92aWRlZCBmb3IgYWNjZXNzIGJ5IE1EQ1NlbGVjdCBjb21wb25lbnRcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDU2VsZWN0SGVscGVyVGV4dC5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSB7XG4gICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMucm9vdC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsgfSxcbiAgICAgICAgICAgIGdldEF0dHI6IGZ1bmN0aW9uIChhdHRyKSB7IHJldHVybiBfdGhpcy5yb290LmdldEF0dHJpYnV0ZShhdHRyKTsgfSxcbiAgICAgICAgICAgIHNldEF0dHI6IGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkgeyByZXR1cm4gX3RoaXMucm9vdC5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpOyB9LFxuICAgICAgICAgICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKGF0dHIpIHsgcmV0dXJuIF90aGlzLnJvb3QucmVtb3ZlQXR0cmlidXRlKGF0dHIpOyB9LFxuICAgICAgICAgICAgc2V0Q29udGVudDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yb290LnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIHJldHVybiBuZXcgTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24oYWRhcHRlcik7XG4gICAgfTtcbiAgICByZXR1cm4gTURDU2VsZWN0SGVscGVyVGV4dDtcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENTZWxlY3RIZWxwZXJUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgc3RyaW5ncyA9IHtcbiAgICBJQ09OX0VWRU5UOiAnTURDU2VsZWN0Omljb24nLFxuICAgIElDT05fUk9MRTogJ2J1dHRvbicsXG59O1xuZXhwb3J0IHsgc3RyaW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcywgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IHN0cmluZ3MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG52YXIgSU5URVJBQ1RJT05fRVZFTlRTID0gWydjbGljaycsICdrZXlkb3duJ107XG52YXIgTURDU2VsZWN0SWNvbkZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNhdmVkVGFiSW5kZXggPSBudWxsO1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVJbnRlcmFjdGlvbihldnQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENTZWxlY3RJY29uRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENTZWxlY3RJY29uRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWUge0BsaW5rIE1EQ1NlbGVjdEljb25BZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ2V0QXR0cjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBzZXRBdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlJY29uQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdGhpcy5zYXZlZFRhYkluZGV4ID0gdGhpcy5hZGFwdGVyLmdldEF0dHIoJ3RhYmluZGV4Jyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBJTlRFUkFDVElPTl9FVkVOVFNfMSA9IF9fdmFsdWVzKElOVEVSQUNUSU9OX0VWRU5UUyksIElOVEVSQUNUSU9OX0VWRU5UU18xXzEgPSBJTlRFUkFDVElPTl9FVkVOVFNfMS5uZXh0KCk7ICFJTlRFUkFDVElPTl9FVkVOVFNfMV8xLmRvbmU7IElOVEVSQUNUSU9OX0VWRU5UU18xXzEgPSBJTlRFUkFDVElPTl9FVkVOVFNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZ0VHlwZSA9IElOVEVSQUNUSU9OX0VWRU5UU18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKElOVEVSQUNUSU9OX0VWRU5UU18xXzEgJiYgIUlOVEVSQUNUSU9OX0VWRU5UU18xXzEuZG9uZSAmJiAoX2EgPSBJTlRFUkFDVElPTl9FVkVOVFNfMS5yZXR1cm4pKSBfYS5jYWxsKElOVEVSQUNUSU9OX0VWRU5UU18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDU2VsZWN0SWNvbkZvdW5kYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzIsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgSU5URVJBQ1RJT05fRVZFTlRTXzIgPSBfX3ZhbHVlcyhJTlRFUkFDVElPTl9FVkVOVFMpLCBJTlRFUkFDVElPTl9FVkVOVFNfMl8xID0gSU5URVJBQ1RJT05fRVZFTlRTXzIubmV4dCgpOyAhSU5URVJBQ1RJT05fRVZFTlRTXzJfMS5kb25lOyBJTlRFUkFDVElPTl9FVkVOVFNfMl8xID0gSU5URVJBQ1RJT05fRVZFTlRTXzIubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2dFR5cGUgPSBJTlRFUkFDVElPTl9FVkVOVFNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKElOVEVSQUNUSU9OX0VWRU5UU18yXzEgJiYgIUlOVEVSQUNUSU9OX0VWRU5UU18yXzEuZG9uZSAmJiAoX2EgPSBJTlRFUkFDVElPTl9FVkVOVFNfMi5yZXR1cm4pKSBfYS5jYWxsKElOVEVSQUNUSU9OX0VWRU5UU18yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDU2VsZWN0SWNvbkZvdW5kYXRpb24ucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24gKGRpc2FibGVkKSB7XG4gICAgICAgIGlmICghdGhpcy5zYXZlZFRhYkluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVBdHRyKCdyb2xlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXR0cigndGFiaW5kZXgnLCB0aGlzLnNhdmVkVGFiSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHIoJ3JvbGUnLCBzdHJpbmdzLklDT05fUk9MRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRBcmlhTGFiZWwgPSBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldEF0dHIoJ2FyaWEtbGFiZWwnLCBsYWJlbCk7XG4gICAgfTtcbiAgICBNRENTZWxlY3RJY29uRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgIH07XG4gICAgTURDU2VsZWN0SWNvbkZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUludGVyYWN0aW9uID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgaXNFbnRlcktleSA9IGV2dC5rZXkgPT09ICdFbnRlcicgfHwgZXZ0LmtleUNvZGUgPT09IDEzO1xuICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICdjbGljaycgfHwgaXNFbnRlcktleSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeUljb25BY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENTZWxlY3RJY29uRm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm91bmRhdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDQ29tcG9uZW50IH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IE1EQ1NlbGVjdEljb25Gb3VuZGF0aW9uIH0gZnJvbSAnLi9mb3VuZGF0aW9uJztcbnZhciBNRENTZWxlY3RJY29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNRENTZWxlY3RJY29uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ1NlbGVjdEljb24oKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTURDU2VsZWN0SWNvbi5hdHRhY2hUbyA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgICAgIHJldHVybiBuZXcgTURDU2VsZWN0SWNvbihyb290KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENTZWxlY3RJY29uLnByb3RvdHlwZSwgXCJmb3VuZGF0aW9uRm9yU2VsZWN0XCIsIHtcbiAgICAgICAgLy8gUHJvdmlkZWQgZm9yIGFjY2VzcyBieSBNRENTZWxlY3QgY29tcG9uZW50XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1NlbGVjdEljb24ucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHZhciBhZGFwdGVyID0ge1xuICAgICAgICAgICAgZ2V0QXR0cjogZnVuY3Rpb24gKGF0dHIpIHsgcmV0dXJuIF90aGlzLnJvb3QuZ2V0QXR0cmlidXRlKGF0dHIpOyB9LFxuICAgICAgICAgICAgc2V0QXR0cjogZnVuY3Rpb24gKGF0dHIsIHZhbHVlKSB7IHJldHVybiBfdGhpcy5yb290LnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7IH0sXG4gICAgICAgICAgICByZW1vdmVBdHRyOiBmdW5jdGlvbiAoYXR0cikgeyByZXR1cm4gX3RoaXMucm9vdC5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7IH0sXG4gICAgICAgICAgICBzZXRDb250ZW50OiBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJvb3QudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5saXN0ZW4oZXZ0VHlwZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKGV2dFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudW5saXN0ZW4oZXZ0VHlwZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90aWZ5SWNvbkFjdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZW1pdChNRENTZWxlY3RJY29uRm91bmRhdGlvbi5zdHJpbmdzLklDT05fRVZFTlQsIHt9IC8qIGV2dERhdGEgKi8sIHRydWUgLyogc2hvdWxkQnViYmxlICovKTsgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgcmV0dXJuIG5ldyBNRENTZWxlY3RJY29uRm91bmRhdGlvbihhZGFwdGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBNRENTZWxlY3RJY29uO1xufShNRENDb21wb25lbnQpKTtcbmV4cG9ydCB7IE1EQ1NlbGVjdEljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0NvbXBvbmVudCB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENGbG9hdGluZ0xhYmVsIH0gZnJvbSAnQG1hdGVyaWFsL2Zsb2F0aW5nLWxhYmVsL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENMaW5lUmlwcGxlIH0gZnJvbSAnQG1hdGVyaWFsL2xpbmUtcmlwcGxlL2NvbXBvbmVudCc7XG5pbXBvcnQgKiBhcyBtZW51U3VyZmFjZUNvbnN0YW50cyBmcm9tICdAbWF0ZXJpYWwvbWVudS1zdXJmYWNlL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNRENNZW51IH0gZnJvbSAnQG1hdGVyaWFsL21lbnUvY29tcG9uZW50JztcbmltcG9ydCAqIGFzIG1lbnVDb25zdGFudHMgZnJvbSAnQG1hdGVyaWFsL21lbnUvY29uc3RhbnRzJztcbmltcG9ydCB7IE1EQ05vdGNoZWRPdXRsaW5lIH0gZnJvbSAnQG1hdGVyaWFsL25vdGNoZWQtb3V0bGluZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDUmlwcGxlIH0gZnJvbSAnQG1hdGVyaWFsL3JpcHBsZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDUmlwcGxlRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9yaXBwbGUvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTURDU2VsZWN0Rm91bmRhdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbic7XG5pbXBvcnQgeyBNRENTZWxlY3RIZWxwZXJUZXh0IH0gZnJvbSAnLi9oZWxwZXItdGV4dC9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDU2VsZWN0SWNvbiB9IGZyb20gJy4vaWNvbi9jb21wb25lbnQnO1xudmFyIE1EQ1NlbGVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTURDU2VsZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ1NlbGVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBNRENTZWxlY3QuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ1NlbGVjdChyb290KTtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChsYWJlbEZhY3RvcnksIGxpbmVSaXBwbGVGYWN0b3J5LCBvdXRsaW5lRmFjdG9yeSwgbWVudUZhY3RvcnksIGljb25GYWN0b3J5LCBoZWxwZXJUZXh0RmFjdG9yeSkge1xuICAgICAgICBpZiAobGFiZWxGYWN0b3J5ID09PSB2b2lkIDApIHsgbGFiZWxGYWN0b3J5ID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBuZXcgTURDRmxvYXRpbmdMYWJlbChlbCk7IH07IH1cbiAgICAgICAgaWYgKGxpbmVSaXBwbGVGYWN0b3J5ID09PSB2b2lkIDApIHsgbGluZVJpcHBsZUZhY3RvcnkgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIG5ldyBNRENMaW5lUmlwcGxlKGVsKTsgfTsgfVxuICAgICAgICBpZiAob3V0bGluZUZhY3RvcnkgPT09IHZvaWQgMCkgeyBvdXRsaW5lRmFjdG9yeSA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gbmV3IE1EQ05vdGNoZWRPdXRsaW5lKGVsKTsgfTsgfVxuICAgICAgICBpZiAobWVudUZhY3RvcnkgPT09IHZvaWQgMCkgeyBtZW51RmFjdG9yeSA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gbmV3IE1EQ01lbnUoZWwpOyB9OyB9XG4gICAgICAgIGlmIChpY29uRmFjdG9yeSA9PT0gdm9pZCAwKSB7IGljb25GYWN0b3J5ID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBuZXcgTURDU2VsZWN0SWNvbihlbCk7IH07IH1cbiAgICAgICAgaWYgKGhlbHBlclRleHRGYWN0b3J5ID09PSB2b2lkIDApIHsgaGVscGVyVGV4dEZhY3RvcnkgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIG5ldyBNRENTZWxlY3RIZWxwZXJUZXh0KGVsKTsgfTsgfVxuICAgICAgICB0aGlzLnNlbGVjdEFuY2hvciA9XG4gICAgICAgICAgICB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLlNFTEVDVF9BTkNIT1JfU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9XG4gICAgICAgICAgICB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLlNFTEVDVEVEX1RFWFRfU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLmhpZGRlbklucHV0ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5ISURERU5fSU5QVVRfU0VMRUNUT1IpO1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRUZXh0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01EQ1NlbGVjdDogTWlzc2luZyByZXF1aXJlZCBlbGVtZW50OiBUaGUgZm9sbG93aW5nIHNlbGVjdG9yIG11c3QgYmUgcHJlc2VudDogJyArXG4gICAgICAgICAgICAgICAgKFwiJ1wiICsgc3RyaW5ncy5TRUxFQ1RFRF9URVhUX1NFTEVDVE9SICsgXCInXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZWxlY3RBbmNob3IuaGFzQXR0cmlidXRlKHN0cmluZ3MuQVJJQV9DT05UUk9MUykpIHtcbiAgICAgICAgICAgIHZhciBoZWxwZXJUZXh0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2VsZWN0QW5jaG9yLmdldEF0dHJpYnV0ZShzdHJpbmdzLkFSSUFfQ09OVFJPTFMpKTtcbiAgICAgICAgICAgIGlmIChoZWxwZXJUZXh0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVscGVyVGV4dCA9IGhlbHBlclRleHRGYWN0b3J5KGhlbHBlclRleHRFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lbnVTZXR1cChtZW51RmFjdG9yeSk7XG4gICAgICAgIHZhciBsYWJlbEVsZW1lbnQgPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLkxBQkVMX1NFTEVDVE9SKTtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsRWxlbWVudCA/IGxhYmVsRmFjdG9yeShsYWJlbEVsZW1lbnQpIDogbnVsbDtcbiAgICAgICAgdmFyIGxpbmVSaXBwbGVFbGVtZW50ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5MSU5FX1JJUFBMRV9TRUxFQ1RPUik7XG4gICAgICAgIHRoaXMubGluZVJpcHBsZSA9XG4gICAgICAgICAgICBsaW5lUmlwcGxlRWxlbWVudCA/IGxpbmVSaXBwbGVGYWN0b3J5KGxpbmVSaXBwbGVFbGVtZW50KSA6IG51bGw7XG4gICAgICAgIHZhciBvdXRsaW5lRWxlbWVudCA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKHN0cmluZ3MuT1VUTElORV9TRUxFQ1RPUik7XG4gICAgICAgIHRoaXMub3V0bGluZSA9IG91dGxpbmVFbGVtZW50ID8gb3V0bGluZUZhY3Rvcnkob3V0bGluZUVsZW1lbnQpIDogbnVsbDtcbiAgICAgICAgdmFyIGxlYWRpbmdJY29uID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5MRUFESU5HX0lDT05fU0VMRUNUT1IpO1xuICAgICAgICBpZiAobGVhZGluZ0ljb24pIHtcbiAgICAgICAgICAgIHRoaXMubGVhZGluZ0ljb24gPSBpY29uRmFjdG9yeShsZWFkaW5nSWNvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNzc0NsYXNzZXMuT1VUTElORUQpKSB7XG4gICAgICAgICAgICB0aGlzLnJpcHBsZSA9IHRoaXMuY3JlYXRlUmlwcGxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBzZWxlY3QncyBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHN0YXRlIGJhc2VkXG4gICAgICogb24gdGhlIGVudmlyb25tZW50J3Mgc3RhdGUuXG4gICAgICovXG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5pbml0aWFsU3luY1dpdGhET00gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mb3VuZGF0aW9uLmhhbmRsZUZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmZvdW5kYXRpb24uaGFuZGxlQmx1cigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuc2VsZWN0QW5jaG9yLmZvY3VzKCk7XG4gICAgICAgICAgICBfdGhpcy5mb3VuZGF0aW9uLmhhbmRsZUNsaWNrKF90aGlzLmdldE5vcm1hbGl6ZWRYQ29vcmRpbmF0ZShldnQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVLZXlkb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuZm91bmRhdGlvbi5oYW5kbGVLZXlkb3duKGV2dCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWVudUl0ZW1BY3Rpb24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBfdGhpcy5mb3VuZGF0aW9uLmhhbmRsZU1lbnVJdGVtQWN0aW9uKGV2dC5kZXRhaWwuaW5kZXgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1lbnVPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mb3VuZGF0aW9uLmhhbmRsZU1lbnVPcGVuZWQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZW51Q2xvc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZm91bmRhdGlvbi5oYW5kbGVNZW51Q2xvc2VkKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWVudUNsb3NpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mb3VuZGF0aW9uLmhhbmRsZU1lbnVDbG9zaW5nKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VsZWN0QW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1cyk7XG4gICAgICAgIHRoaXMuc2VsZWN0QW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmhhbmRsZUJsdXIpO1xuICAgICAgICB0aGlzLnNlbGVjdEFuY2hvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICB0aGlzLnNlbGVjdEFuY2hvci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duKTtcbiAgICAgICAgdGhpcy5tZW51Lmxpc3RlbihtZW51U3VyZmFjZUNvbnN0YW50cy5zdHJpbmdzLkNMT1NFRF9FVkVOVCwgdGhpcy5oYW5kbGVNZW51Q2xvc2VkKTtcbiAgICAgICAgdGhpcy5tZW51Lmxpc3RlbihtZW51U3VyZmFjZUNvbnN0YW50cy5zdHJpbmdzLkNMT1NJTkdfRVZFTlQsIHRoaXMuaGFuZGxlTWVudUNsb3NpbmcpO1xuICAgICAgICB0aGlzLm1lbnUubGlzdGVuKG1lbnVTdXJmYWNlQ29uc3RhbnRzLnN0cmluZ3MuT1BFTkVEX0VWRU5ULCB0aGlzLmhhbmRsZU1lbnVPcGVuZWQpO1xuICAgICAgICB0aGlzLm1lbnUubGlzdGVuKG1lbnVDb25zdGFudHMuc3RyaW5ncy5TRUxFQ1RFRF9FVkVOVCwgdGhpcy5oYW5kbGVNZW51SXRlbUFjdGlvbik7XG4gICAgICAgIGlmICh0aGlzLmhpZGRlbklucHV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oaWRkZW5JbnB1dC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBoaWRkZW4gaW5wdXQgYWxyZWFkeSBoYXMgYSB2YWx1ZSwgdXNlIGl0IHRvIHJlc3RvcmUgdGhlXG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0J3MgdmFsdWUuIFRoaXMgY2FuIGhhcHBlbiBlLmcuIGlmIHRoZSB1c2VyIGdvZXMgYmFjayBvciAoaW5cbiAgICAgICAgICAgICAgICAvLyBzb21lIGJyb3dzZXJzKSByZWZyZXNoZXMgdGhlIHBhZ2UuXG4gICAgICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldFZhbHVlKHRoaXMuaGlkZGVuSW5wdXQudmFsdWUsIC8qKiBza2lwTm90aWZ5ICovIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5sYXlvdXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhpZGRlbklucHV0LnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlbGVjdEFuY2hvci5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXMpO1xuICAgICAgICB0aGlzLnNlbGVjdEFuY2hvci5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyKTtcbiAgICAgICAgdGhpcy5zZWxlY3RBbmNob3IucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bik7XG4gICAgICAgIHRoaXMuc2VsZWN0QW5jaG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgIHRoaXMubWVudS51bmxpc3RlbihtZW51U3VyZmFjZUNvbnN0YW50cy5zdHJpbmdzLkNMT1NFRF9FVkVOVCwgdGhpcy5oYW5kbGVNZW51Q2xvc2VkKTtcbiAgICAgICAgdGhpcy5tZW51LnVubGlzdGVuKG1lbnVTdXJmYWNlQ29uc3RhbnRzLnN0cmluZ3MuT1BFTkVEX0VWRU5ULCB0aGlzLmhhbmRsZU1lbnVPcGVuZWQpO1xuICAgICAgICB0aGlzLm1lbnUudW5saXN0ZW4obWVudUNvbnN0YW50cy5zdHJpbmdzLlNFTEVDVEVEX0VWRU5ULCB0aGlzLmhhbmRsZU1lbnVJdGVtQWN0aW9uKTtcbiAgICAgICAgdGhpcy5tZW51LmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMucmlwcGxlKSB7XG4gICAgICAgICAgICB0aGlzLnJpcHBsZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0bGluZSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsaW5lLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZWFkaW5nSWNvbikge1xuICAgICAgICAgICAgdGhpcy5sZWFkaW5nSWNvbi5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGVscGVyVGV4dCkge1xuICAgICAgICAgICAgdGhpcy5oZWxwZXJUZXh0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENTZWxlY3QucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgc2tpcE5vdGlmeSkge1xuICAgICAgICBpZiAoc2tpcE5vdGlmeSA9PT0gdm9pZCAwKSB7IHNraXBOb3RpZnkgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0VmFsdWUodmFsdWUsIHNraXBOb3RpZnkpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdC5wcm90b3R5cGUsIFwic2VsZWN0ZWRJbmRleFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRhdGlvbi5nZXRTZWxlY3RlZEluZGV4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRTZWxlY3RlZEluZGV4KHNlbGVjdGVkSW5kZXgsIC8qIGNsb3NlTWVudSAqLyB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1NlbGVjdC5wcm90b3R5cGUuc2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uIChzZWxlY3RlZEluZGV4LCBza2lwTm90aWZ5KSB7XG4gICAgICAgIGlmIChza2lwTm90aWZ5ID09PSB2b2lkIDApIHsgc2tpcE5vdGlmeSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRTZWxlY3RlZEluZGV4KHNlbGVjdGVkSW5kZXgsIC8qIGNsb3NlTWVudSAqLyB0cnVlLCBza2lwTm90aWZ5KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENTZWxlY3QucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uLmdldERpc2FibGVkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0RGlzYWJsZWQoZGlzYWJsZWQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGlkZGVuSW5wdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGRlbklucHV0LmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDU2VsZWN0LnByb3RvdHlwZSwgXCJsZWFkaW5nSWNvbkFyaWFMYWJlbFwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0TGVhZGluZ0ljb25BcmlhTGFiZWwobGFiZWwpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdC5wcm90b3R5cGUsIFwibGVhZGluZ0ljb25Db250ZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgbGVhZGluZyBpY29uLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldExlYWRpbmdJY29uQ29udGVudChjb250ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENTZWxlY3QucHJvdG90eXBlLCBcImhlbHBlclRleHRDb250ZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgaGVscGVyIHRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0SGVscGVyVGV4dENvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDU2VsZWN0LnByb3RvdHlwZSwgXCJ1c2VEZWZhdWx0VmFsaWRhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBkZWZhdWx0IHZhbGlkYXRpb24gc2NoZW1lIHdoZXJlIGEgcmVxdWlyZWQgc2VsZWN0XG4gICAgICAgICAqIG11c3QgYmUgbm9uLWVtcHR5LiBTZXQgdG8gZmFsc2UgZm9yIGN1c3RvbSB2YWxpZGF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0gdXNlRGVmYXVsdFZhbGlkYXRpb24gU2V0IHRoaXMgdG8gZmFsc2UgdG8gaWdub3JlIGRlZmF1bHRcbiAgICAgICAgICogICAgIHZhbGlkYXRpb24gc2NoZW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodXNlRGVmYXVsdFZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRVc2VEZWZhdWx0VmFsaWRhdGlvbih1c2VEZWZhdWx0VmFsaWRhdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDU2VsZWN0LnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVja3MgaWYgdGhlIHNlbGVjdCBpcyBpbiBhIHZhbGlkIHN0YXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uLmlzVmFsaWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGN1cnJlbnQgaW52YWxpZCBzdGF0ZSBvZiB0aGUgc2VsZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldFZhbGlkKGlzVmFsaWQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1NlbGVjdC5wcm90b3R5cGUsIFwicmVxdWlyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZWxlY3QgaXMgcmVxdWlyZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24uZ2V0UmVxdWlyZWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gdGhlIHJlcXVpcmVkIHN0YXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uLnNldFJlcXVpcmVkKGlzUmVxdWlyZWQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmUtY2FsY3VsYXRlcyBpZiB0aGUgbm90Y2hlZCBvdXRsaW5lIHNob3VsZCBiZSBub3RjaGVkIGFuZCBpZiB0aGUgbGFiZWxcbiAgICAgKiBzaG91bGQgZmxvYXQuXG4gICAgICovXG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5sYXlvdXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplcyB0aGUgbGlzdCBvZiBvcHRpb25zIHdpdGggdGhlIHN0YXRlIG9mIHRoZSBmb3VuZGF0aW9uLiBDYWxsXG4gICAgICogdGhpcyB3aGVuZXZlciBtZW51IG9wdGlvbnMgYXJlIGR5bmFtaWNhbGx5IHVwZGF0ZWQuXG4gICAgICovXG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5sYXlvdXRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb24ubGF5b3V0T3B0aW9ucygpO1xuICAgICAgICB0aGlzLm1lbnUubGF5b3V0KCk7XG4gICAgICAgIC8vIFVwZGF0ZSBjYWNoZWQgbWVudUl0ZW1WYWx1ZXMgZm9yIGFkYXB0ZXIuXG4gICAgICAgIHRoaXMubWVudUl0ZW1WYWx1ZXMgPVxuICAgICAgICAgICAgdGhpcy5tZW51Lml0ZW1zLm1hcChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShzdHJpbmdzLlZBTFVFX0FUVFIpIHx8ICcnOyB9KTtcbiAgICAgICAgaWYgKHRoaXMuaGlkZGVuSW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuSW5wdXQudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENTZWxlY3QucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIHZhciBhZGFwdGVyID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuZ2V0U2VsZWN0QWRhcHRlck1ldGhvZHMoKSksIHRoaXMuZ2V0Q29tbW9uQWRhcHRlck1ldGhvZHMoKSksIHRoaXMuZ2V0T3V0bGluZUFkYXB0ZXJNZXRob2RzKCkpLCB0aGlzLmdldExhYmVsQWRhcHRlck1ldGhvZHMoKSk7XG4gICAgICAgIHJldHVybiBuZXcgTURDU2VsZWN0Rm91bmRhdGlvbihhZGFwdGVyLCB0aGlzLmdldEZvdW5kYXRpb25NYXAoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHNldHVwIGZvciB0aGUgbWVudS5cbiAgICAgKi9cbiAgICBNRENTZWxlY3QucHJvdG90eXBlLm1lbnVTZXR1cCA9IGZ1bmN0aW9uIChtZW51RmFjdG9yeSkge1xuICAgICAgICB0aGlzLm1lbnVFbGVtZW50ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5NRU5VX1NFTEVDVE9SKTtcbiAgICAgICAgdGhpcy5tZW51ID0gbWVudUZhY3RvcnkodGhpcy5tZW51RWxlbWVudCk7XG4gICAgICAgIHRoaXMubWVudS5oYXNUeXBlYWhlYWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm1lbnUuc2luZ2xlU2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tZW51SXRlbVZhbHVlcyA9XG4gICAgICAgICAgICB0aGlzLm1lbnUuaXRlbXMubWFwKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKHN0cmluZ3MuVkFMVUVfQVRUUikgfHwgJyc7IH0pO1xuICAgIH07XG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5jcmVhdGVSaXBwbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgTURDUmlwcGxlLmNyZWF0ZUFkYXB0ZXIoeyByb290OiB0aGlzLnNlbGVjdEFuY2hvciB9KSksIHsgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0QW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9LCBkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEFuY2hvci5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgcmV0dXJuIG5ldyBNRENSaXBwbGUodGhpcy5zZWxlY3RBbmNob3IsIG5ldyBNRENSaXBwbGVGb3VuZGF0aW9uKGFkYXB0ZXIpKTtcbiAgICB9O1xuICAgIE1EQ1NlbGVjdC5wcm90b3R5cGUuZ2V0U2VsZWN0QWRhcHRlck1ldGhvZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXRNZW51SXRlbUF0dHI6IGZ1bmN0aW9uIChtZW51SXRlbSwgYXR0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZW51SXRlbS5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRUZXh0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkVGV4dC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNTZWxlY3RBbmNob3JGb2N1c2VkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBfdGhpcy5zZWxlY3RBbmNob3I7IH0sXG4gICAgICAgICAgICBnZXRTZWxlY3RBbmNob3JBdHRyOiBmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZWxlY3RBbmNob3IuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFNlbGVjdEFuY2hvckF0dHI6IGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEFuY2hvci5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZVNlbGVjdEFuY2hvckF0dHI6IGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0QW5jaG9yLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRNZW51Q2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5tZW51RWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlTWVudUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubWVudUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wZW5NZW51OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubWVudS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZU1lbnU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5tZW51Lm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRBbmNob3JFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLlNFTEVDVF9BTkNIT1JfU0VMRUNUT1IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldE1lbnVBbmNob3JFbGVtZW50OiBmdW5jdGlvbiAoYW5jaG9yRWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5tZW51LnNldEFuY2hvckVsZW1lbnQoYW5jaG9yRWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldE1lbnVBbmNob3JDb3JuZXI6IGZ1bmN0aW9uIChhbmNob3JDb3JuZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5tZW51LnNldEFuY2hvckNvcm5lcihhbmNob3JDb3JuZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldE1lbnVXcmFwRm9jdXM6IGZ1bmN0aW9uICh3cmFwRm9jdXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5tZW51LndyYXBGb2N1cyA9IHdyYXBGb2N1cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTZWxlY3RlZEluZGV4OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMubWVudS5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCBpbnN0YW5jZW9mIEFycmF5ID8gaW5kZXhbMF0gOiBpbmRleDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTZWxlY3RlZEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5tZW51LnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb2N1c01lbnVJdGVtQXRJbmRleDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubWVudS5pdGVtc1tpbmRleF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRNZW51SXRlbUNvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5tZW51Lml0ZW1zLmxlbmd0aDsgfSxcbiAgICAgICAgICAgIC8vIENhY2hlIG1lbnUgaXRlbSB2YWx1ZXMuIGxheW91dE9wdGlvbnMoKSB1cGRhdGVzIHRoaXMgY2FjaGUuXG4gICAgICAgICAgICBnZXRNZW51SXRlbVZhbHVlczogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubWVudUl0ZW1WYWx1ZXM7IH0sXG4gICAgICAgICAgICBnZXRNZW51SXRlbVRleHRBdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubWVudS5nZXRQcmltYXJ5VGV4dEF0SW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzVHlwZWFoZWFkSW5Qcm9ncmVzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubWVudS50eXBlYWhlYWRJblByb2dyZXNzOyB9LFxuICAgICAgICAgICAgdHlwZWFoZWFkTWF0Y2hJdGVtOiBmdW5jdGlvbiAobmV4dENoYXIsIHN0YXJ0aW5nSW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubWVudS50eXBlYWhlYWRNYXRjaEl0ZW0obmV4dENoYXIsIHN0YXJ0aW5nSW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICB9O1xuICAgIE1EQ1NlbGVjdC5wcm90b3R5cGUuZ2V0Q29tbW9uQWRhcHRlck1ldGhvZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBzZXRSaXBwbGVDZW50ZXI6IGZ1bmN0aW9uIChub3JtYWxpemVkWCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxpbmVSaXBwbGUgJiYgX3RoaXMubGluZVJpcHBsZS5zZXRSaXBwbGVDZW50ZXIobm9ybWFsaXplZFgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGl2YXRlQm90dG9tTGluZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxpbmVSaXBwbGUgJiYgX3RoaXMubGluZVJpcHBsZS5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlYWN0aXZhdGVCb3R0b21MaW5lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubGluZVJpcHBsZSAmJiBfdGhpcy5saW5lUmlwcGxlLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub3RpZnlDaGFuZ2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5oaWRkZW5JbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRkZW5JbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBfdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoc3RyaW5ncy5DSEFOR0VfRVZFTlQsIHsgdmFsdWU6IHZhbHVlLCBpbmRleDogaW5kZXggfSwgdHJ1ZSAvKiBzaG91bGRCdWJibGUgICovKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgfTtcbiAgICBNRENTZWxlY3QucHJvdG90eXBlLmdldE91dGxpbmVBZGFwdGVyTWV0aG9kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhhc091dGxpbmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEJvb2xlYW4oX3RoaXMub3V0bGluZSk7IH0sXG4gICAgICAgICAgICBub3RjaE91dGxpbmU6IGZ1bmN0aW9uIChsYWJlbFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub3V0bGluZSAmJiBfdGhpcy5vdXRsaW5lLm5vdGNoKGxhYmVsV2lkdGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlT3V0bGluZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm91dGxpbmUgJiYgX3RoaXMub3V0bGluZS5jbG9zZU5vdGNoKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgIH07XG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5nZXRMYWJlbEFkYXB0ZXJNZXRob2RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgTWV0aG9kcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGFkYXB0ZXIgaW50ZXJmYWNlLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFzTGFiZWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEhX3RoaXMubGFiZWw7IH0sXG4gICAgICAgICAgICBmbG9hdExhYmVsOiBmdW5jdGlvbiAoc2hvdWxkRmxvYXQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sYWJlbCAmJiBfdGhpcy5sYWJlbC5mbG9hdChzaG91bGRGbG9hdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TGFiZWxXaWR0aDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubGFiZWwgPyBfdGhpcy5sYWJlbC5nZXRXaWR0aCgpIDogMDsgfSxcbiAgICAgICAgICAgIHNldExhYmVsUmVxdWlyZWQ6IGZ1bmN0aW9uIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubGFiZWwgJiYgX3RoaXMubGFiZWwuc2V0UmVxdWlyZWQoaXNSZXF1aXJlZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB3aGVyZSB0aGUgbGluZSByaXBwbGUgc2hvdWxkIHN0YXJ0IGJhc2VkIG9uIHRoZSB4IGNvb3JkaW5hdGUgd2l0aGluIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5nZXROb3JtYWxpemVkWENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciB0YXJnZXRDbGllbnRSZWN0ID0gZXZ0LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHhDb29yZGluYXRlID0gdGhpcy5pc1RvdWNoRXZlbnQoZXZ0KSA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgICAgcmV0dXJuIHhDb29yZGluYXRlIC0gdGFyZ2V0Q2xpZW50UmVjdC5sZWZ0O1xuICAgIH07XG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5pc1RvdWNoRXZlbnQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKGV2dC50b3VjaGVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBtYXAgb2YgYWxsIHN1YmNvbXBvbmVudHMgdG8gc3ViZm91bmRhdGlvbnMuXG4gICAgICovXG4gICAgTURDU2VsZWN0LnByb3RvdHlwZS5nZXRGb3VuZGF0aW9uTWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVscGVyVGV4dDogdGhpcy5oZWxwZXJUZXh0ID8gdGhpcy5oZWxwZXJUZXh0LmZvdW5kYXRpb25Gb3JTZWxlY3QgOlxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxlYWRpbmdJY29uOiB0aGlzLmxlYWRpbmdJY29uID8gdGhpcy5sZWFkaW5nSWNvbi5mb3VuZGF0aW9uRm9yU2VsZWN0IDpcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gTURDU2VsZWN0O1xufShNRENDb21wb25lbnQpKTtcbmV4cG9ydCB7IE1EQ1NlbGVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcCIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB7IE1EQ1NlbGVjdCB9IGZyb20gXCJAbWF0ZXJpYWwvc2VsZWN0XCI7XG4gIGltcG9ydCB7IG9uTW91bnQsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCJzdmVsdGVcIjtcbiAgaW1wb3J0IFwiLi4vLi4vc3R5bGVzL3NlbGVjdC5zY3NzXCI7XG5cbiAgZXhwb3J0IGxldCBvcHRpb25zID0gW107XG4gIGV4cG9ydCBsZXQgbGFiZWwgPSBcIlwiO1xuICBleHBvcnQgbGV0IGlkID0gXCJcIjtcbiAgZXhwb3J0IGxldCBzZWxlY3RlZElkID0gbnVsbDtcblxuICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXG4gIGZ1bmN0aW9uIHZhbHVlQ2hhbmdlZChvcHRpb24pIHtcbiAgICBkaXNwYXRjaChcInZhbHVlQ2hhbmdlZFwiLCB7XG4gICAgICBzZWxlY3RlZE9wdGlvbjogb3B0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3VudCgoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ID0gbmV3IE1EQ1NlbGVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpZH0ubWRjLXNlbGVjdGApKTtcblxuICAgIHNlbGVjdC5saXN0ZW4oXCJNRENTZWxlY3Q6Y2hhbmdlXCIsIChlKSA9PiB7XG4gICAgICBzZWxlY3RlZElkID0gZS5kZXRhaWwudmFsdWU7XG4gICAgICB2YWx1ZUNoYW5nZWQoc2VsZWN0ZWRJZCk7XG4gICAgfSk7XG4gIH0pO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJtZGMtc2VsZWN0IG1kYy1zZWxlY3QtLW91dGxpbmVkXCIge2lkfT5cbiAgPGRpdiBjbGFzcz1cIm1kYy1zZWxlY3RfX2FuY2hvclwiIGFyaWEtbGFiZWxsZWRieT17bGFiZWx9PlxuICAgIDxzcGFuIGNsYXNzPVwibWRjLW5vdGNoZWQtb3V0bGluZVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtbm90Y2hlZC1vdXRsaW5lX19sZWFkaW5nXCIgLz5cbiAgICAgIDxzcGFuIGNsYXNzPVwibWRjLW5vdGNoZWQtb3V0bGluZV9fbm90Y2hcIj5cbiAgICAgICAgPHNwYW4gaWQ9e2xhYmVsfSBjbGFzcz1cIm1kYy1mbG9hdGluZy1sYWJlbFwiPntsYWJlbH08L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cIm1kYy1ub3RjaGVkLW91dGxpbmVfX3RyYWlsaW5nXCIgLz5cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9XCJtZGMtc2VsZWN0X19zZWxlY3RlZC10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgPHNwYW4gaWQ9XCJkZW1vLXNlbGVjdGVkLXRleHRcIiBjbGFzcz1cIm1kYy1zZWxlY3RfX3NlbGVjdGVkLXRleHRcIiAvPlxuICAgIDwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz1cIm1kYy1zZWxlY3RfX2Ryb3Bkb3duLWljb25cIj5cbiAgICAgIDxzdmdcbiAgICAgICAgY2xhc3M9XCJtZGMtc2VsZWN0X19kcm9wZG93bi1pY29uLWdyYXBoaWNcIlxuICAgICAgICB2aWV3Qm94PVwiNyAxMCAxMCA1XCJcbiAgICAgICAgZm9jdXNhYmxlPVwiZmFsc2VcIlxuICAgICAgPlxuICAgICAgICA8cG9seWdvblxuICAgICAgICAgIGNsYXNzPVwibWRjLXNlbGVjdF9fZHJvcGRvd24taWNvbi1pbmFjdGl2ZVwiXG4gICAgICAgICAgc3Ryb2tlPVwibm9uZVwiXG4gICAgICAgICAgZmlsbC1ydWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgcG9pbnRzPVwiNyAxMCAxMiAxNSAxNyAxMFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxwb2x5Z29uXG4gICAgICAgICAgY2xhc3M9XCJtZGMtc2VsZWN0X19kcm9wZG93bi1pY29uLWFjdGl2ZVwiXG4gICAgICAgICAgc3Ryb2tlPVwibm9uZVwiXG4gICAgICAgICAgZmlsbC1ydWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgcG9pbnRzPVwiNyAxNSAxMiAxMCAxNyAxNVwiXG4gICAgICAgIC8+XG4gICAgICA8L3N2Zz5cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuICA8ZGl2XG4gICAgY2xhc3M9XCJtZGMtc2VsZWN0X19tZW51IG1kYy1tZW51IG1kYy1tZW51LXN1cmZhY2UgbWRjLW1lbnUtc3VyZmFjZS0tZnVsbHdpZHRoXCJcbiAgPlxuICAgIDx1bFxuICAgICAgY2xhc3M9XCJtZGMtbGlzdFwiXG4gICAgICByb2xlPVwibWVudVwiXG4gICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgYXJpYS1vcmllbnRhdGlvbj1cInZlcnRpY2FsXCJcbiAgICAgIHRhYmluZGV4PVwiLTFcIlxuICAgID5cbiAgICAgIHsjZWFjaCBvcHRpb25zIGFzIG9wdGlvbn1cbiAgICAgICAgPGxpXG4gICAgICAgICAgY2xhc3M9e2BtZGMtbGlzdC1pdGVtICR7b3B0aW9uID09IHNlbGVjdGVkSWQgPyBcIm1kYy1saXN0LWl0ZW0tLXNlbGVjdGVkXCIgOiBcIlwifWB9XG4gICAgICAgICAgYXJpYS1zZWxlY3RlZD17b3B0aW9uID09IHNlbGVjdGVkSWQgPyB0cnVlIDogZmFsc2V9XG4gICAgICAgICAgZGF0YS12YWx1ZT17b3B0aW9ufVxuICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1kYy1saXN0LWl0ZW1fX3JpcHBsZVwiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtbGlzdC1pdGVtX190ZXh0XCI+e29wdGlvbn08L3NwYW4+XG4gICAgICAgIDwvbGk+XG4gICAgICB7L2VhY2h9XG4gICAgPC91bD5cbiAgPC9kaXY+XG48L2Rpdj5cbiIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEdldChcbiAgdXJsLFxuICB0aW1lb3V0TXMgPSA1MDAwLFxuICBjYXRjaEZ1bmMgPSAoZSkgPT4gZGVmYXVsdENhdGNoKGUpXG4pIHtcbiAgbGV0IHJlc3BvbnNlO1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dE1zKTtcblxuICB0cnkge1xuICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICB9KTtcbiAgICBjb25zdCBwYXJzZWRSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBGZXRjaCBHZXQgQ2FsbCBGYWlsZWQgZm9yICR7dXJsfSwgcmVzcG9uc2U6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkUmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY2F0Y2hGdW5jKGVycm9yKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQb3N0KFxuICB1cmwsXG4gIGRhdGEsXG4gIGpzb25SZXNwb25zZSA9IHRydWUsXG4gIHRpbWVvdXRNcyA9IDUwMDAsXG4gIGNhdGNoRnVuYyA9IChlKSA9PiBkZWZhdWx0Q2F0Y2goZSlcbikge1xuICBsZXQgcmVzcG9uc2U7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0TXMpO1xuXG4gIHRyeSB7XG4gICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZldGNoIFBvc3QgQ2FsbCBGYWlsZWQgZm9yICR7dXJsfSwgcmVzcG9uc2U6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoanNvblJlc3BvbnNlKSB7XG4gICAgICBjb25zdCBwYXJzZWRSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBwYXJzZWRSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLm9rO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNhdGNoRnVuYyhlcnJvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdENhdGNoKGUpIHtcbiAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBkdXJpbmcgZmV0Y2ggb3BlcmF0aW9uOiAke2V9YCk7XG59XG4iLCJpbXBvcnQgeyBmZXRjaFBvc3QgfSBmcm9tIFwiLi4vaGVscGVycy9hcGlIZWxwZXJcIjtcblxuY29uc3QgYmFzZVVybCA9IFwiaHR0cHM6Ly9mcm9udGVuZC10YWtlLWhvbWUtc2VydmljZS5mZXRjaC5jb21cIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luKG5hbWUsIGVtYWlsKSB7XG4gIGxldCBib2R5ID0ge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgZW1haWw6IGVtYWlsLFxuICB9O1xuICBsZXQgdXJsID0gYmFzZVVybCArIFwiL2F1dGgvbG9naW5cIjtcbiAgcmV0dXJuIGF3YWl0IGZldGNoUG9zdCh1cmwsIGJvZHksIGZhbHNlKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgbGV0IHVybCA9IGJhc2VVcmwgKyBcIi9hdXRoL2xvZ291dFwiO1xuICAgIHRyeSB7XG4gICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRmV0Y2ggUG9zdCBDYWxsIEZhaWxlZCBmb3IgJHt1cmx9LCByZXNwb25zZTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5vaztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfVxuIiwiaW1wb3J0IHsgZmV0Y2hHZXQsIGZldGNoUG9zdCB9IGZyb20gXCIuLi9oZWxwZXJzL2FwaUhlbHBlclwiO1xuXG5jb25zdCBiYXNlVXJsID0gXCJodHRwczovL2Zyb250ZW5kLXRha2UtaG9tZS1zZXJ2aWNlLmZldGNoLmNvbVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QnJlZWRzKCkge1xuICBsZXQgdXJsID0gYmFzZVVybCArIFwiL2RvZ3MvYnJlZWRzXCI7XG4gIHJldHVybiBhd2FpdCBmZXRjaEdldCh1cmwpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9nSWRzKGJyZWVkcywgemlwQ29kZXMsIGFnZU1pbiwgYWdlTWF4LCBzaXplLCBmcm9tLCBzb3J0RmllbGQsIHNvcnREaXIpIHtcbiAgbGV0IHVybCA9IGJhc2VVcmwgKyBgL2RvZ3Mvc2VhcmNoP2A7XG4gIHVybCArPSBicmVlZHMgPyBgYnJlZWRzPSR7YnJlZWRzfWAgOiBcIlwiO1xuICB1cmwgKz0gemlwQ29kZXMgPyBgJnppcENvZGVzPSR7emlwQ29kZXN9YCA6IFwiXCI7XG4gIHVybCArPSBhZ2VNaW4gPyBgJmFnZU1pbj0ke2FnZU1pbn1gIDogXCJcIjtcbiAgdXJsICs9IGFnZU1heCA/IGAmYWdlTWF4PSR7YWdlTWF4fWAgOiBcIlwiO1xuICB1cmwgKz0gc2l6ZSA/IGAmc2l6ZT0ke3NpemV9YCA6IFwiXCI7XG4gIHVybCArPSBmcm9tID8gYCZmcm9tPSR7ZnJvbX1gIDogXCJcIjtcbiAgdXJsICs9IHNvcnRGaWVsZCAmJiBzb3J0RGlyID8gYCZzb3J0PSR7c29ydEZpZWxkfToke3NvcnREaXJ9YCA6IFwiXCI7XG4gIHJldHVybiBhd2FpdCBmZXRjaEdldCh1cmwpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9nUHJvZmlsZXMoaWRzKSB7XG4gIGxldCB1cmwgPSBiYXNlVXJsICsgXCIvZG9nc1wiO1xuICByZXR1cm4gYXdhaXQgZmV0Y2hQb3N0KHVybCwgaWRzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE5leHQodXJsSW4pIHtcbiAgbGV0IHVybCA9IGJhc2VVcmwgKyB1cmxJbjtcbiAgcmV0dXJuIGF3YWl0IGZldGNoR2V0KHVybCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNYXRjaChmYXZvcml0ZUlkcykge1xuICBsZXQgdXJsID0gYmFzZVVybCArIFwiL2RvZ3MvbWF0Y2hcIjtcbiAgcmV0dXJuIGF3YWl0IGZldGNoUG9zdCh1cmwsIGZhdm9yaXRlSWRzKTtcbn0iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgVGV4dElucHV0IGZyb20gXCIuLi9jb21wb25lbnRzL0lucHV0cy9UZXh0SW5wdXQuc3ZlbHRlXCI7XG4gIGltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9ucy9CdXR0b24uc3ZlbHRlXCI7XG4gIGltcG9ydCBTZWxlY3QgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VsZWN0cy9TZWxlY3Quc3ZlbHRlXCI7XG4gIGltcG9ydCB7IGxvZ2luIH0gZnJvbSBcIi4uL2FwaS9hdXRoZW50aWNhdGlvblwiO1xuICBpbXBvcnQgeyBnZXRCcmVlZHMgfSBmcm9tIFwiLi4vYXBpL2RvZ0RhdGFcIjtcbiAgaW1wb3J0IHsgcHJldmVudF9kZWZhdWx0IH0gZnJvbSBcInN2ZWx0ZS9pbnRlcm5hbFwiO1xuXG4gIGxldCBuYW1lID0gXCJcIjtcbiAgbGV0IGVtYWlsID0gXCJcIjtcblxuICBmdW5jdGlvbiB1cGRhdGVOYW1lKGUpIHtcbiAgICBuYW1lID0gZS5kZXRhaWwudmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVFbWFpbChlKSB7XG4gICAgZW1haWwgPSBlLmRldGFpbC52YWx1ZTtcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgc3VibWl0TG9naW4oKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdExvZ2luKCkge1xuICAgIGxldCBzdWNjZXNzZnVsTG9naW4gPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgbGV0IGxvZ2luRnVuYyA9IGxvZ2luKG5hbWUsIGVtYWlsKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyMvQnJvd3NlXCI7XG4gICAgICAgIHN1Y2Nlc3NmdWxMb2dpbiA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIGNvbnNvbGUubG9nKGBMb2dpbiBmYWlsZWQgZm9yICR7bmFtZX0sICR7ZW1haWx9YCk7XG4gICAgfVxuICB9XG48L3NjcmlwdD5cblxuPG1haW4gaWQ9XCJsb2dpblwiPlxuICA8ZGl2PlxuICAgIDxoMT5GZXRjaCBGaW5kZXI8L2gxPlxuICAgIDxmb3JtIG9uOnN1Ym1pdHxwcmV2ZW50RGVmYXVsdD17c3VibWl0TG9naW59IG1ldGhvZD1cImdldFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcmRcIj5cbiAgICAgICAgPFRleHRJbnB1dCBpZD1cIm5hbWVcIiBsYWJlbD1cIk5hbWVcIiBvbjp2YWx1ZUNoYW5nZWQ9e3VwZGF0ZU5hbWV9IC8+XG4gICAgICAgIDxUZXh0SW5wdXQgaWQ9XCJlbWFpbFwiIGxhYmVsPVwiRW1haWxcIiBvbjp2YWx1ZUNoYW5nZWQ9e3VwZGF0ZUVtYWlsfSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgICAgIDxCdXR0b24gbGFiZWw9XCJMb2dpblwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+XG4gICAgPGRpdiAvPlxuICA8L2Rpdj5cbjwvbWFpbj5cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRGYXZvcml0ZXMoKSB7XG4gIGxldCBsb2NhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZmV0Y2gtZmF2b3JpdGVzXCIpO1xuICBpZiAobG9jYWwgJiYgbG9jYWwgIT0gXCJudWxsXCIgJiYgbG9jYWw/LnRyaW0oKT8ubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBsb2NhbC5zcGxpdChcIixcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRGYXZvcml0ZXMoZmF2b3JpdGVzKSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZmV0Y2gtZmF2b3JpdGVzXCIsIGZhdm9yaXRlcy50b1N0cmluZygpKTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZyhxdWVyeVN0cmluZykge1xuICBsZXQgcXVlcnkgPSBxdWVyeVN0cmluZy5zdWJzdHJpbmcocXVlcnlTdHJpbmcuaW5kZXhPZihcIj9cIiksIHF1ZXJ5U3RyaW5nLmxlbmd0aCk7XG4gIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnkpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBwYXJhbXMuZW50cmllcygpKSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB7IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgaW1wb3J0IHsgTURDUmlwcGxlIH0gZnJvbSBcIkBtYXRlcmlhbC9yaXBwbGVcIjtcbiAgaW1wb3J0IFwiLi4vLi4vc3R5bGVzL2NhcmQuc2Nzc1wiO1xuXG4gIGV4cG9ydCBsZXQgdGl0bGUgPSBcIlwiO1xuICBleHBvcnQgbGV0IGltZ1NyYyA9IG51bGw7XG4gIGV4cG9ydCBsZXQgaWQgPSBudWxsO1xuICBleHBvcnQgbGV0IGZhdm9yaXRlID0gZmFsc2U7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuICBmdW5jdGlvbiBmYXZvcml0ZWQoZSkge1xuICAgIGZhdm9yaXRlID0gIWZhdm9yaXRlO1xuICAgIGRpc3BhdGNoKFwiZmF2b3JpdGVkXCIsIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGZhdm9yaXRlOiBmYXZvcml0ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uTW91bnQoKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gXCIubWRjLWJ1dHRvbiwgLm1kYy1pY29uLWJ1dHRvbiwgLm1kYy1jYXJkX19wcmltYXJ5LWFjdGlvblwiO1xuICAgIGNvbnN0IHJpcHBsZXMgPSBbXS5tYXAuY2FsbChcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLFxuICAgICAgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBuZXcgTURDUmlwcGxlKGVsKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwibWRjLWNhcmQgbWRjLWNhcmQtLW91dGxpbmVkXCIgb246Y2xpY2s9e2Zhdm9yaXRlZH0ge2lkfT5cbiAgPGRpdiBjbGFzcz1cIm1kYy1jYXJkX19wcmltYXJ5LWFjdGlvblwiPlxuICAgIDxkaXYgY2xhc3M9XCJtZGMtY2FyZF9fbWVkaWEgbWRjLWNhcmRfX21lZGlhLS1zcXVhcmVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtZGMtY2FyZF9fbWVkaWEtY29udGVudFwiPlxuICAgICAgICA8aW1nIGNsYXNzPVwibWRjLWNhcmRfX2ltZ1wiIHNyYz17aW1nU3JjfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgIDxoMz5cbiAgICAgICAge3RpdGxlfVxuICAgICAgICB7I2lmIGZhdm9yaXRlfVxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIj4gZmF2b3JpdGUgPC9zcGFuPns6ZWxzZX1cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCI+IGZhdm9yaXRlX2JvcmRlciA8L3NwYW4+ey9pZn1cbiAgICAgIDwvaDM+XG4gICAgPC9kaXY+XG4gICAgPHNsb3QgbmFtZT1cImRlc2NyaXB0aW9uU2xvdFwiPjwvc2xvdD5cbiAgICA8ZGl2IGNsYXNzPVwibWRjLWNhcmRfX3JpcHBsZVwiPjwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICBpbXBvcnQgeyBNRENSaXBwbGUgfSBmcm9tIFwiQG1hdGVyaWFsL3JpcHBsZVwiO1xuICBpbXBvcnQgXCIuLi8uLi9zdHlsZXMvYnV0dG9uLnNjc3NcIjtcblxuICBleHBvcnQgbGV0IGxhYmVsID0gXCJcIjtcbiAgZXhwb3J0IGxldCBkaXNhYmxlZCA9IGZhbHNlO1xuICBleHBvcnQgbGV0IGhyZWYgPSBcIlwiO1xuICBleHBvcnQgbGV0IHRoZW1lID0gXCJtZGMtYnV0dG9uLS1yYWlzZWRcIjtcblxuICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXG4gIGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgIGRpc3BhdGNoKFwiY2xpY2tcIiwge1xuICAgICAgYnV0dG9uRWxlbWVudDogZS5jdXJyZW50VGFyZ2V0LFxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3VudCgoKSA9PiB7XG4gICAgY29uc3QgYnV0dG9uUmlwcGxlID0gbmV3IE1EQ1JpcHBsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1kYy1idXR0b25cIikpO1xuICB9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwibWRjLXRvdWNoLXRhcmdldC13cmFwcGVyXCI+XG4gIDxhXG4gICAge2hyZWZ9XG4gICAgY2xhc3M9e2BmYy1idXR0b24gbWRjLWJ1dHRvbiBtZGMtYnV0dG9uLS10b3VjaCAke3RoZW1lfWB9XG4gICAgb246Y2xpY2s9e29uQ2xpY2t9XG4gID5cbiAgICA8c3BhbiBjbGFzcz1cIm1kYy1idXR0b25fX3JpcHBsZVwiIC8+XG4gICAgPHNwYW4gY2xhc3M9XCJtZGMtYnV0dG9uX190b3VjaFwiIC8+XG4gICAgPHNwYW4gY2xhc3M9XCJtZGMtYnV0dG9uX19sYWJlbFwiPntsYWJlbH08L3NwYW4+XG4gIDwvYT5cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCB0aWNrIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICBleHBvcnQgbGV0IGxhYmVsID0gXCJcIjtcbiAgZXhwb3J0IGxldCB0b2dnbGVPcHRpb25zID0gW107XG4gIGV4cG9ydCBsZXQgc2VsZWN0ZWRUb2dnbGVJZCA9IFwiXCI7XG4gIGxldCBwcmV2aW91c1NlbGVjdGVkVG9nZ2xlSWQgPSBcIlwiO1xuICBsZXQgc29ydEFzYyA9IHRydWU7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuICBhc3luYyBmdW5jdGlvbiB0b2dnbGVDbGlja2VkKGV2ZW50KSB7XG4gICAgc2VsZWN0ZWRUb2dnbGVJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiaWRcIik7XG5cbiAgICBpZiAocHJldmlvdXNTZWxlY3RlZFRvZ2dsZUlkID09IHNlbGVjdGVkVG9nZ2xlSWQpIHtcbiAgICAgIHNvcnRBc2MgPSAhc29ydEFzYztcbiAgICB9IGVsc2Uge1xuICAgICAgc29ydEFzYyA9IHRydWU7XG4gICAgfVxuXG4gICAgYXdhaXQgdGljaygpO1xuXG4gICAgZGlzcGF0Y2goXCJ0b2dnbGVDbGlja2VkXCIsIHtcbiAgICAgIHZhbHVlOiBzZWxlY3RlZFRvZ2dsZUlkLFxuICAgICAgc29ydEFzYzogc29ydEFzYyxcbiAgICB9KTtcblxuICAgIHByZXZpb3VzU2VsZWN0ZWRUb2dnbGVJZCA9IHNlbGVjdGVkVG9nZ2xlSWQ7XG4gIH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiYnRuX190b2dnbGUtZ3JvdXBcIj5cbiAgPGRpdiBjbGFzcz1cImZvcm0tLWxhYmVsXCIgaWQ9XCJ0b2dnbGVCdG5MYWJlbFwiPjxoMz57bGFiZWx9PC9oMz48L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImJ0bl9fdG9nZ2xlLWdyb3VwX19ncm91cFwiPlxuICAgIHsjZWFjaCB0b2dnbGVPcHRpb25zIGFzIG9wdGlvbiwgaW5kZXh9XG4gICAgICA8ZGl2IGNsYXNzPVwibWRjLXRvdWNoLXRhcmdldC13cmFwcGVyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBpZD17b3B0aW9uLmlkfVxuICAgICAgICAgIGFyaWEtbGFiZWw9e2Ake2xhYmVsfTogJHtvcHRpb24ubGFiZWx9YH1cbiAgICAgICAgICBjbGFzcz17YGZjLWJ1dHRvbiBtZGMtYnV0dG9uICBtZGMtYnV0dG9uLS10b3VjaCBtZGMtYnV0dG9uLS1sYXJnZSAke29wdGlvbi5pZCA9PSBzZWxlY3RlZFRvZ2dsZUlkID8gXCJidG5fX3RvZ2dsZS1ncm91cC0tc2VsZWN0ZWRcIiA6IFwiXCJ9ICAke29wdGlvbi5pZCA9PSBzZWxlY3RlZFRvZ2dsZUlkID8gXCJtZGMtYnV0dG9uLS1yYWlzZWRcIiA6IFwibWRjLWJ1dHRvbi0tb3V0bGluZWRcIn1gfVxuICAgICAgICAgIG9uOmNsaWNrPXt0b2dnbGVDbGlja2VkfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtYnV0dG9uX19yaXBwbGVcIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtYnV0dG9uX190b3VjaFwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1kYy1idXR0b25fX2xhYmVsXCJcbiAgICAgICAgICAgID57b3B0aW9uLmxhYmVsfVxuXG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzcz17YG1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgJHtzb3J0QXNjID8gXCJcIiA6IFwiZmxpcHBlZFwifSAke29wdGlvbi5pZCA9PSBzZWxlY3RlZFRvZ2dsZUlkID8gXCJ2aXNpYmxlXCIgOiBcIlwifWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIGFycm93X3Vwd2FyZFxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICB7L2VhY2h9XG4gIDwvZGl2PlxuPC9kaXY+XG4iLCI8c2NyaXB0PlxuICBpbXBvcnQgTGlua0J1dHRvbiBmcm9tIFwiLi4vQnV0dG9ucy9MaW5rQnV0dG9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgeyBsb2dvdXQgfSBmcm9tIFwiLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uXCI7XG48L3NjcmlwdD5cblxuPGhlYWRlcj5cbiAgPGRpdiBjbGFzcz1cInJvdyBhbGlnbi1yaWdodFwiPlxuICAgIDxMaW5rQnV0dG9uIHRoZW1lPVwiXCIgaHJlZj1cIi8jL0Jyb3dzZVwiIGxhYmVsPVwiQnJvd3NlXCI+PC9MaW5rQnV0dG9uPlxuICAgIDxMaW5rQnV0dG9uIHRoZW1lPVwiXCIgaHJlZj1cIi8jL0Zhdm9yaXRlc1wiIGxhYmVsPVwiRmF2b3JpdGVzXCI+PC9MaW5rQnV0dG9uPlxuICAgIDxMaW5rQnV0dG9uIHRoZW1lPVwiXCIgaHJlZj1cIi8jL0xvZ2luXCIgbGFiZWw9XCJMb2dvdXRcIiBvbjpjbGljaz17bG9nb3V0fVxuICAgID48L0xpbmtCdXR0b24+XG4gIDwvZGl2PlxuPC9oZWFkZXI+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgVGV4dElucHV0IGZyb20gXCIuLi9jb21wb25lbnRzL0lucHV0cy9UZXh0SW5wdXQuc3ZlbHRlXCI7XG4gIGltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9ucy9CdXR0b24uc3ZlbHRlXCI7XG4gIGltcG9ydCBTZWxlY3QgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VsZWN0cy9TZWxlY3Quc3ZlbHRlXCI7XG4gIGltcG9ydCB7IGdldEJyZWVkcywgZ2V0RG9nSWRzLCBnZXREb2dQcm9maWxlcyB9IGZyb20gXCIuLi9hcGkvZG9nRGF0YVwiO1xuICBpbXBvcnQgeyBsb2dvdXQgfSBmcm9tIFwiLi4vYXBpL2F1dGhlbnRpY2F0aW9uXCI7XG4gIGltcG9ydCB7IGdldE5leHQgfSBmcm9tIFwiLi4vYXBpL2RvZ0RhdGFcIjtcbiAgaW1wb3J0IHsgZ2V0RmF2b3JpdGVzLCBzZXRGYXZvcml0ZXMgfSBmcm9tIFwiLi4vaGVscGVycy9mYXZvcml0ZXNIZWxwZXJcIjtcbiAgaW1wb3J0IHsgcGFyc2VRdWVyeVN0cmluZyB9IGZyb20gXCIuLi9oZWxwZXJzL2Zvcm1hdEhlbHBlclwiO1xuICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICBpbXBvcnQgSW5mb0NhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZHMvSW5mb0NhcmQuc3ZlbHRlXCI7XG4gIGltcG9ydCBcIi4uL3N0eWxlcy9sYXlvdXRzLnNjc3NcIjtcbiAgaW1wb3J0IExpbmtCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9ucy9MaW5rQnV0dG9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgVG9nZ2xlQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL0J1dHRvbnMvVG9nZ2xlQnV0dG9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgSGVhZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL0xheW91dC9IZWFkZXIuc3ZlbHRlXCI7XG4gIGltcG9ydCBMb2FkaW5nQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkcy9Mb2FkaW5nQ2FyZC5zdmVsdGVcIjtcblxuICBsZXQgZG9nQnJlZWRzID0gW107XG4gIGxldCBkb2dJZHMgPSBbXTtcbiAgbGV0IGRvZ1Byb2ZpbGVzID0gW107XG4gIGxldCBuZXh0TGluayA9IG51bGw7XG4gIGxldCBicmVlZCA9IFwiXCI7XG4gIGxldCB6aXBDb2RlID0gXCJcIjtcbiAgbGV0IGFnZU1pbiA9IDA7XG4gIGxldCBhZ2VNYXggPSAyMDtcbiAgbGV0IHNpemUgPSBcIlwiO1xuICBsZXQgZnJvbSA9IFwiXCI7XG4gIGxldCBhZ2VzID0gWy4uLkFycmF5KDIxKS5rZXlzKCkubWFwKFN0cmluZyldO1xuICBsZXQgc29ydEZpZWxkID0gbnVsbDtcbiAgbGV0IHNvcnREaXIgPSBcImFzY1wiO1xuICBsZXQgdG90YWxOdW1iZXJPZkRvZ3MgPSBudWxsO1xuICBsZXQgZmF2b3JpdGVzTGlzdCA9IFtdO1xuICBsZXQgZXJyb3JNZXNzYWdlID0gbnVsbDtcbiAgbGV0IHNlYXJjaExvYWRpbmcgPSB0cnVlO1xuICBsZXQgdG9nZ2xlT3B0aW9ucyA9IFtcbiAgICB7XG4gICAgICBpZDogXCJicmVlZFwiLFxuICAgICAgbGFiZWw6IFwiYnJlZWRcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm5hbWVcIixcbiAgICAgIGxhYmVsOiBcIm5hbWVcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImFnZVwiLFxuICAgICAgbGFiZWw6IFwiYWdlXCIsXG4gICAgfSxcbiAgXTtcblxuICAvLyBDYWxsIHRvIHNlYXJjaCBmb3IgZG9nIElEcyBhbmQgdGhlbiBwcm9maWxlcyBiYXNlZCBvbiBjdXJyZW50IGZpbHRlcnNcbiAgYXN5bmMgZnVuY3Rpb24gc2VhcmNoKCkge1xuICAgIHNlYXJjaExvYWRpbmcgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBsZXQgZG9nSWRzUmVzdWx0ID0gYXdhaXQgZ2V0RG9nSWRzKFxuICAgICAgICBicmVlZCxcbiAgICAgICAgemlwQ29kZSxcbiAgICAgICAgYWdlTWluLFxuICAgICAgICBhZ2VNYXgsXG4gICAgICAgIHNpemUsXG4gICAgICAgIDAsXG4gICAgICAgIHNvcnRGaWVsZCxcbiAgICAgICAgc29ydERpclxuICAgICAgKTtcbiAgICAgIGF3YWl0IHNldERvZ0RhdGEoZG9nSWRzUmVzdWx0KTtcbiAgICAgIHNlYXJjaExvYWRpbmcgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzZWFyY2hMb2FkaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2V0RG9nRGF0YShyZXN1bHQpIHtcbiAgICBkb2dJZHMgPSByZXN1bHRbXCJyZXN1bHRJZHNcIl07XG4gICAgbmV4dExpbmsgPSByZXN1bHRbXCJuZXh0XCJdO1xuICAgIHRvdGFsTnVtYmVyT2ZEb2dzID0gcmVzdWx0W1widG90YWxcIl07XG4gICAgbGV0IHBhcnNlZE5leHRMaW5rID0gYXdhaXQgcGFyc2VRdWVyeVN0cmluZyhuZXh0TGluayk7XG4gICAgZnJvbSA9IHBhcnNlZE5leHRMaW5rW1wiZnJvbVwiXTtcbiAgICAvLyBNYWtlIHN1cmUgbmV4dCBsaW5rIGFjdHVhbGx5IGhhcyBkYXRhXG4gICAgaWYgKE51bWJlcihmcm9tKSA+IHRvdGFsTnVtYmVyT2ZEb2dzKSB7XG4gICAgICBuZXh0TGluayA9IG51bGw7XG4gICAgfVxuICAgIGRvZ1Byb2ZpbGVzID0gYXdhaXQgZ2V0RG9nUHJvZmlsZXMoZG9nSWRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVppcENvZGUoZSkge1xuICAgIHppcENvZGUgPSBlLmRldGFpbC52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUJyZWVkKGUpIHtcbiAgICBicmVlZCA9IGUuZGV0YWlsLnNlbGVjdGVkT3B0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWluQWdlKGUpIHtcbiAgICBhZ2VNaW4gPSBlLmRldGFpbC5zZWxlY3RlZE9wdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1heEFnZShlKSB7XG4gICAgYWdlTWF4ID0gZS5kZXRhaWwuc2VsZWN0ZWRPcHRpb247XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTb3J0KGUpIHtcbiAgICBzb3J0RmllbGQgPSBlLmRldGFpbC52YWx1ZTtcbiAgICBzb3J0RGlyID0gZS5kZXRhaWwuc29ydEFzYyA/IFwiYXNjXCIgOiBcImRlc2NcIjtcbiAgICBzZWFyY2goKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZhdm9yaXRlcyhlKSB7XG4gICAgbGV0IGFkZEZhdm9yaXRlID0gZS5kZXRhaWwuZmF2b3JpdGU7XG4gICAgbGV0IGlkID0gZS5kZXRhaWwuaWQ7XG5cbiAgICBpZiAoYWRkRmF2b3JpdGUpIHtcbiAgICAgIGZhdm9yaXRlc0xpc3QucHVzaChpZCk7XG4gICAgICBzZXRGYXZvcml0ZXMoZmF2b3JpdGVzTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gZmF2b3JpdGVzTGlzdC5pbmRleE9mKGlkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGZhdm9yaXRlc0xpc3QgPSBmYXZvcml0ZXNMaXN0LmZpbHRlcigoZSkgPT4gZSAhPT0gaWQpO1xuICAgICAgICBzZXRGYXZvcml0ZXMoZmF2b3JpdGVzTGlzdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbmV4dFBhZ2UoKSB7XG4gICAgaWYgKG5leHRMaW5rKSB7XG4gICAgICBsZXQgbmV4dFJlc3VsdCA9IGF3YWl0IGdldE5leHQobmV4dExpbmspO1xuICAgICAgc2V0RG9nRGF0YShuZXh0UmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdvVG9Mb2dpbigpIHtcbiAgICBhd2FpdCBsb2dvdXQoKTtcbiAgfVxuXG4gIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgIC8vIFBvcHVsYXRlIERvZyBCcmVlZCBEcm9wZG93blxuICAgIHRyeSB7XG4gICAgICBkb2dCcmVlZHMgPSBhd2FpdCBnZXRCcmVlZHMoKTtcbiAgICAgIGZhdm9yaXRlc0xpc3QgPSBnZXRGYXZvcml0ZXMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBcIlRoZXJlIHdhcyBhbiBpc3N1ZSByZXRyaWV2aW5nIHRoZSBkYXRhLCBwbGVhc2UgbG9nIGluIGFuZCB0cnkgYWdhaW4uXCI7XG4gICAgfVxuXG4gICAgYXdhaXQgc2VhcmNoKCk7XG4gIH0pO1xuPC9zY3JpcHQ+XG5cbjxtYWluPlxuICA8SGVhZGVyPjwvSGVhZGVyPlxuICA8ZGl2IGNsYXNzPVwiY29yZS1jb250ZW50XCI+XG4gICAgPGgxIGNsYXNzPVwicm93XCI+QnJvd3NlIEFkb3B0YWJsZSBEb2dzPC9oMT5cbiAgICA8YXNpZGU+XG4gICAgICA8aDI+RmlsdGVyICsgU29ydDwvaDI+XG4gICAgICA8aDM+e3RvdGFsTnVtYmVyT2ZEb2dzID8gdG90YWxOdW1iZXJPZkRvZ3MgOiBcIjBcIn0gZG9ncyBmb3VuZDwvaDM+XG4gICAgICA8ZGl2IGNsYXNzPVwiYXNpZGUtZmlsdGVyc1wiPlxuICAgICAgICB7I2tleSBkb2dCcmVlZHN9XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJkb2dCcmVlZERyb3Bkb3duXCJcbiAgICAgICAgICAgIGxhYmVsPVwiQnJlZWRcIlxuICAgICAgICAgICAgb3B0aW9ucz17ZG9nQnJlZWRzfVxuICAgICAgICAgICAgb246dmFsdWVDaGFuZ2VkPXt1cGRhdGVCcmVlZH1cbiAgICAgICAgICAvPlxuICAgICAgICB7L2tleX1cblxuICAgICAgICA8VGV4dElucHV0XG4gICAgICAgICAgaWQ9XCJ6aXBDb2RlSW5wdXRcIlxuICAgICAgICAgIGxhYmVsPVwiWmlwIENvZGVcIlxuICAgICAgICAgIG9uOnZhbHVlQ2hhbmdlZD17dXBkYXRlWmlwQ29kZX1cbiAgICAgICAgLz5cbiAgICAgICAgeyNrZXkgYWdlc31cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImFnZU1pbkRyb3Bkb3duXCJcbiAgICAgICAgICAgIGxhYmVsPVwiTWluaW11bSBBZ2VcIlxuICAgICAgICAgICAgb3B0aW9ucz17YWdlc31cbiAgICAgICAgICAgIG9uOnZhbHVlQ2hhbmdlZD17dXBkYXRlTWluQWdlfVxuICAgICAgICAgIC8+XG4gICAgICAgIHsva2V5fVxuICAgICAgICB7I2tleSBhZ2VzfVxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiYWdlTWF4RHJvcGRvd25cIlxuICAgICAgICAgICAgbGFiZWw9XCJNYXhpdW11bSBBZ2VcIlxuICAgICAgICAgICAgb3B0aW9ucz17YWdlc31cbiAgICAgICAgICAgIG9uOnZhbHVlQ2hhbmdlZD17dXBkYXRlTWF4QWdlfVxuICAgICAgICAgIC8+XG4gICAgICAgIHsva2V5fVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiYWxpZ24tY2VudGVyXCI+XG4gICAgICAgIDxCdXR0b24gbGFiZWw9XCJTZWFyY2hcIiBvbjpjbGljaz17c2VhcmNofSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9hc2lkZT5cbiAgICA8ZGl2IGNsYXNzPVwiYnJvd3NlIG1haW5cIj5cbiAgICAgIDwhLS0geyNpZiBzZWFyY2hMb2FkaW5nfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC00LWNvbFwiPlxuICAgICAgICAgIDxMb2FkaW5nQ2FyZD48L0xvYWRpbmdDYXJkPlxuICAgICAgICAgIDxMb2FkaW5nQ2FyZD48L0xvYWRpbmdDYXJkPlxuICAgICAgICAgIDxMb2FkaW5nQ2FyZD48L0xvYWRpbmdDYXJkPlxuICAgICAgICAgIDxMb2FkaW5nQ2FyZD48L0xvYWRpbmdDYXJkPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIHs6ZWxzZSBpZiBlcnJvck1lc3NhZ2V9IC0tPlxuICAgICAgeyNpZiBlcnJvck1lc3NhZ2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGgyPlxuICAgICAgICAgICAge2Vycm9yTWVzc2FnZX1cbiAgICAgICAgICA8L2gyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIHs6ZWxzZSBpZiAhc2VhcmNoTG9hZGluZyAmJiB0b3RhbE51bWJlck9mRG9ncyA8IDF9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGgyPlxuICAgICAgICAgICAgU29ycnksIG5vIGRvZ3MgbWF0Y2ggdGhlIGNyaXRlcmlhIHlvdSBzZWFyY2hlZCBieSEgQWRqdXN0IHlvdXJcbiAgICAgICAgICAgIHNlYXJjaCBmaWx0ZXJzIGFuZCB0cnkgYWdhaW4uXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgPC9kaXY+XG4gICAgICB7OmVsc2UgaWYgZG9nUHJvZmlsZXMubGVuZ3RoID4gMH1cbiAgICAgICAgeyNpZiBuZXh0TGlua31cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHNvcnRcIj5cbiAgICAgICAgICAgIHsja2V5IHRvZ2dsZU9wdGlvbnN9XG4gICAgICAgICAgICAgIDxUb2dnbGVCdXR0b25cbiAgICAgICAgICAgICAgICB7dG9nZ2xlT3B0aW9uc31cbiAgICAgICAgICAgICAgICBsYWJlbD1cIlNvcnRcIlxuICAgICAgICAgICAgICAgIG9uOnRvZ2dsZUNsaWNrZWQ9e3VwZGF0ZVNvcnR9XG4gICAgICAgICAgICAgID48L1RvZ2dsZUJ1dHRvbj5cbiAgICAgICAgICAgIHsva2V5fVxuICAgICAgICAgICAgPEJ1dHRvbiBsYWJlbD1cIk5leHQgUGFnZVwiIG9uOmNsaWNrPXtuZXh0UGFnZX0+PC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJncmlkLTQtY29sXCI+XG4gICAgICAgICAgeyNrZXkgZG9nUHJvZmlsZXN9XG4gICAgICAgICAgICB7I2VhY2ggZG9nUHJvZmlsZXMgYXMgZG9nfVxuICAgICAgICAgICAgICA8SW5mb0NhcmRcbiAgICAgICAgICAgICAgICB0aXRsZT17ZG9nLm5hbWV9XG4gICAgICAgICAgICAgICAgaW1nU3JjPXtkb2cuaW1nfVxuICAgICAgICAgICAgICAgIGlkPXtkb2cuaWR9XG4gICAgICAgICAgICAgICAgZmF2b3JpdGU9e2Zhdm9yaXRlc0xpc3Q/LmluY2x1ZGVzKGRvZy5pZCl9XG4gICAgICAgICAgICAgICAgb246ZmF2b3JpdGVkPXt1cGRhdGVGYXZvcml0ZXN9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IHNsb3Q9XCJkZXNjcmlwdGlvblNsb3RcIj5cbiAgICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmZvLWxpc3RcIlxuICAgICAgICAgICAgICAgICAgICAgID48ZHQ+QnJlZWQ6PC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGQ+e2RvZy5icmVlZH08L2RkPlxuICAgICAgICAgICAgICAgICAgICAgIDxkdD5BZ2U6PC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGQ+e2RvZy5hZ2V9PC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZHQ+WmlwQ29kZTo8L2R0PlxuICAgICAgICAgICAgICAgICAgICAgIDxkZD57ZG9nLnppcF9jb2RlfTwvZGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvSW5mb0NhcmQ+XG4gICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgey9rZXl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7I2lmIG5leHRMaW5rfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgYWxpZ24tcmlnaHRcIj5cbiAgICAgICAgICAgIDxCdXR0b24gbGFiZWw9XCJOZXh0IFBhZ2VcIiBvbjpjbGljaz17bmV4dFBhZ2V9PjwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7L2lmfVxuICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L21haW4+XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb2N1c1RyYXBJbnN0YW5jZShzdXJmYWNlRWwsIGZvY3VzVHJhcEZhY3RvcnksIGluaXRpYWxGb2N1c0VsKSB7XG4gICAgcmV0dXJuIGZvY3VzVHJhcEZhY3Rvcnkoc3VyZmFjZUVsLCB7IGluaXRpYWxGb2N1c0VsOiBpbml0aWFsRm9jdXNFbCB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Njcm9sbGFibGUoZWwpIHtcbiAgICByZXR1cm4gZWwgPyBlbC5zY3JvbGxIZWlnaHQgPiBlbC5vZmZzZXRIZWlnaHQgOiBmYWxzZTtcbn1cbi8qKlxuICogRm9yIHNjcm9sbGFibGUgY29udGVudCwgcmV0dXJucyB0cnVlIGlmIHRoZSBjb250ZW50IGhhcyBub3QgYmVlbiBzY3JvbGxlZFxuICogKHRoYXQgaXMsIHRoZSBzY3JvbGwgY29udGVudCBpcyBhcyB0aGUgXCJ0b3BcIikuIFRoaXMgaXMgdXNlZCBpbiBmdWxsLXNjcmVlblxuICogZGlhbG9ncywgd2hlcmUgdGhlIHNjcm9sbCBkaXZpZGVyIGlzIGV4cGVjdGVkIG9ubHkgdG8gYXBwZWFyIG9uY2UgdGhlXG4gKiBjb250ZW50IGhhcyBiZWVuIHNjcm9sbGVkIFwidW5kZXJuZWF0aFwiIHRoZSBoZWFkZXIgYmFyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY3JvbGxBdFRvcChlbCkge1xuICAgIHJldHVybiBlbCA/IGVsLnNjcm9sbFRvcCA9PT0gMCA6IGZhbHNlO1xufVxuLyoqXG4gKiBGb3Igc2Nyb2xsYWJsZSBjb250ZW50LCByZXR1cm5zIHRydWUgaWYgdGhlIGNvbnRlbnQgaGFzIGJlZW4gc2Nyb2xsZWQgYWxsIHRoZVxuICogd2F5IHRvIHRoZSBib3R0b20uIFRoaXMgaXMgdXNlZCBpbiBmdWxsLXNjcmVlbiBkaWFsb2dzLCB3aGVyZSB0aGUgZm9vdGVyXG4gKiBzY3JvbGwgZGl2aWRlciBpcyBleHBlY3RlZCBvbmx5IHRvIGFwcGVhciB3aGVuIHRoZSBjb250ZW50IGlzIFwiY3V0LW9mZlwiIGJ5XG4gKiB0aGUgZm9vdGVyIGJhci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2Nyb2xsQXRCb3R0b20oZWwpIHtcbiAgICByZXR1cm4gZWwgPyBNYXRoLmNlaWwoZWwuc2Nyb2xsSGVpZ2h0IC0gZWwuc2Nyb2xsVG9wKSA9PT0gZWwuY2xpZW50SGVpZ2h0IDpcbiAgICAgICAgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJlVG9wc01pc2FsaWduZWQoZWxzKSB7XG4gICAgdmFyIHRvcHMgPSBuZXcgU2V0KCk7XG4gICAgW10uZm9yRWFjaC5jYWxsKGVscywgZnVuY3Rpb24gKGVsKSB7IHJldHVybiB0b3BzLmFkZChlbC5vZmZzZXRUb3ApOyB9KTtcbiAgICByZXR1cm4gdG9wcy5zaXplID4gMTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgRk9DVVNfU0VOVElORUxfQ0xBU1MgPSAnbWRjLWRvbS1mb2N1cy1zZW50aW5lbCc7XG4vKipcbiAqIFV0aWxpdHkgdG8gdHJhcCBmb2N1cyBpbiBhIGdpdmVuIHJvb3QgZWxlbWVudCwgZS5nLiBmb3IgbW9kYWwgY29tcG9uZW50cyBzdWNoXG4gKiBhcyBkaWFsb2dzLiBUaGUgcm9vdCBzaG91bGQgaGF2ZSBhdCBsZWFzdCBvbmUgZm9jdXNhYmxlIGNoaWxkIGVsZW1lbnQsXG4gKiBmb3Igc2V0dGluZyBpbml0aWFsIGZvY3VzIHdoZW4gdHJhcHBpbmcgZm9jdXMuXG4gKiBBbHNvIHRyYWNrcyB0aGUgcHJldmlvdXNseSBmb2N1c2VkIGVsZW1lbnQsIGFuZCByZXN0b3JlcyBmb2N1cyB0byB0aGF0XG4gKiBlbGVtZW50IHdoZW4gcmVsZWFzaW5nIGZvY3VzLlxuICovXG52YXIgRm9jdXNUcmFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvY3VzVHJhcChyb290LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8vIFByZXZpb3VzbHkgZm9jdXNlZCBlbGVtZW50IGJlZm9yZSB0cmFwcGluZyBmb2N1cy5cbiAgICAgICAgdGhpcy5lbEZvY3VzZWRCZWZvcmVUcmFwRm9jdXMgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFwcyBmb2N1cyBpbiBgcm9vdGAuIEFsc28gZm9jdXNlcyBvbiBlaXRoZXIgYGluaXRpYWxGb2N1c0VsYCBpZiBzZXQ7XG4gICAgICogb3RoZXJ3aXNlcyBzZXRzIGluaXRpYWwgZm9jdXMgdG8gdGhlIGZpcnN0IGZvY3VzYWJsZSBjaGlsZCBlbGVtZW50LlxuICAgICAqL1xuICAgIEZvY3VzVHJhcC5wcm90b3R5cGUudHJhcEZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZm9jdXNhYmxlRWxzID0gdGhpcy5nZXRGb2N1c2FibGVFbGVtZW50cyh0aGlzLnJvb3QpO1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb2N1c1RyYXA6IEVsZW1lbnQgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBmb2N1c2FibGUgY2hpbGQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbEZvY3VzZWRCZWZvcmVUcmFwRm9jdXMgPVxuICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6XG4gICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgdGhpcy53cmFwVGFiRm9jdXModGhpcy5yb290KTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuc2tpcEluaXRpYWxGb2N1cykge1xuICAgICAgICAgICAgdGhpcy5mb2N1c0luaXRpYWxFbGVtZW50KGZvY3VzYWJsZUVscywgdGhpcy5vcHRpb25zLmluaXRpYWxGb2N1c0VsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVsZWFzZXMgZm9jdXMgZnJvbSBgcm9vdGAuIEFsc28gcmVzdG9yZXMgZm9jdXMgdG8gdGhlIHByZXZpb3VzbHkgZm9jdXNlZFxuICAgICAqIGVsZW1lbnQuXG4gICAgICovXG4gICAgRm9jdXNUcmFwLnByb3RvdHlwZS5yZWxlYXNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFtdLnNsaWNlLmNhbGwodGhpcy5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBGT0NVU19TRU5USU5FTF9DTEFTUykpXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoc2VudGluZWxFbCkge1xuICAgICAgICAgICAgc2VudGluZWxFbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHNlbnRpbmVsRWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuc2tpcFJlc3RvcmVGb2N1cyAmJiB0aGlzLmVsRm9jdXNlZEJlZm9yZVRyYXBGb2N1cykge1xuICAgICAgICAgICAgdGhpcy5lbEZvY3VzZWRCZWZvcmVUcmFwRm9jdXMuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JhcHMgdGFiIGZvY3VzIHdpdGhpbiBgZWxgIGJ5IGFkZGluZyB0d28gaGlkZGVuIHNlbnRpbmVsIGRpdnMgd2hpY2ggYXJlXG4gICAgICogdXNlZCB0byBtYXJrIHRoZSBiZWdpbm5pbmcgYW5kIHRoZSBlbmQgb2YgdGhlIHRhYmJhYmxlIHJlZ2lvbi4gV2hlblxuICAgICAqIGZvY3VzZWQsIHRoZXNlIHNlbnRpbmVsIGVsZW1lbnRzIHJlZGlyZWN0IGZvY3VzIHRvIHRoZSBmaXJzdC9sYXN0XG4gICAgICogY2hpbGRyZW4gZWxlbWVudHMgb2YgdGhlIHRhYmJhYmxlIHJlZ2lvbiwgZW5zdXJpbmcgdGhhdCBmb2N1cyBpcyB0cmFwcGVkXG4gICAgICogd2l0aGluIHRoYXQgcmVnaW9uLlxuICAgICAqL1xuICAgIEZvY3VzVHJhcC5wcm90b3R5cGUud3JhcFRhYkZvY3VzID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzZW50aW5lbFN0YXJ0ID0gdGhpcy5jcmVhdGVTZW50aW5lbCgpO1xuICAgICAgICB2YXIgc2VudGluZWxFbmQgPSB0aGlzLmNyZWF0ZVNlbnRpbmVsKCk7XG4gICAgICAgIHNlbnRpbmVsU3RhcnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZm9jdXNhYmxlRWxzID0gX3RoaXMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWwpO1xuICAgICAgICAgICAgaWYgKGZvY3VzYWJsZUVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNhYmxlRWxzW2ZvY3VzYWJsZUVscy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2VudGluZWxFbmQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZm9jdXNhYmxlRWxzID0gX3RoaXMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWwpO1xuICAgICAgICAgICAgaWYgKGZvY3VzYWJsZUVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNhYmxlRWxzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5pbnNlcnRCZWZvcmUoc2VudGluZWxTdGFydCwgZWwuY2hpbGRyZW5bMF0pO1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChzZW50aW5lbEVuZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb2N1c2VzIG9uIGBpbml0aWFsRm9jdXNFbGAgaWYgZGVmaW5lZCBhbmQgYSBjaGlsZCBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgICAqIE90aGVyd2lzZSwgZm9jdXNlcyBvbiB0aGUgZmlyc3QgZm9jdXNhYmxlIGNoaWxkIGVsZW1lbnQgb2YgdGhlIHJvb3QuXG4gICAgICovXG4gICAgRm9jdXNUcmFwLnByb3RvdHlwZS5mb2N1c0luaXRpYWxFbGVtZW50ID0gZnVuY3Rpb24gKGZvY3VzYWJsZUVscywgaW5pdGlhbEZvY3VzRWwpIHtcbiAgICAgICAgdmFyIGZvY3VzSW5kZXggPSAwO1xuICAgICAgICBpZiAoaW5pdGlhbEZvY3VzRWwpIHtcbiAgICAgICAgICAgIGZvY3VzSW5kZXggPSBNYXRoLm1heChmb2N1c2FibGVFbHMuaW5kZXhPZihpbml0aWFsRm9jdXNFbCksIDApO1xuICAgICAgICB9XG4gICAgICAgIGZvY3VzYWJsZUVsc1tmb2N1c0luZGV4XS5mb2N1cygpO1xuICAgIH07XG4gICAgRm9jdXNUcmFwLnByb3RvdHlwZS5nZXRGb2N1c2FibGVFbGVtZW50cyA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgICAgIHZhciBmb2N1c2FibGVFbHMgPSBbXS5zbGljZS5jYWxsKHJvb3QucXVlcnlTZWxlY3RvckFsbCgnW2F1dG9mb2N1c10sIFt0YWJpbmRleF0sIGEsIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBidXR0b24nKSk7XG4gICAgICAgIHJldHVybiBmb2N1c2FibGVFbHMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgdmFyIGlzRGlzYWJsZWRPckhpZGRlbiA9IGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcpID09PSAndHJ1ZScgfHxcbiAgICAgICAgICAgICAgICBlbC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgIT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIGVsLmdldEF0dHJpYnV0ZSgnaGlkZGVuJykgIT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSA9PT0gJ3RydWUnO1xuICAgICAgICAgICAgdmFyIGlzVGFiYmFibGVBbmRWaXNpYmxlID0gZWwudGFiSW5kZXggPj0gMCAmJlxuICAgICAgICAgICAgICAgIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoID4gMCAmJlxuICAgICAgICAgICAgICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoRk9DVVNfU0VOVElORUxfQ0xBU1MpICYmICFpc0Rpc2FibGVkT3JIaWRkZW47XG4gICAgICAgICAgICB2YXIgaXNQcm9ncmFtbWF0aWNhbGx5SGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNUYWJiYWJsZUFuZFZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgICAgICAgICAgICBpc1Byb2dyYW1tYXRpY2FsbHlIaWRkZW4gPVxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgfHwgc3R5bGUudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXNUYWJiYWJsZUFuZFZpc2libGUgJiYgIWlzUHJvZ3JhbW1hdGljYWxseUhpZGRlbjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBGb2N1c1RyYXAucHJvdG90eXBlLmNyZWF0ZVNlbnRpbmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VudGluZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2VudGluZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIC8vIERvbid0IGFubm91bmNlIGluIHNjcmVlbiByZWFkZXJzLlxuICAgICAgICBzZW50aW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgc2VudGluZWwuY2xhc3NMaXN0LmFkZChGT0NVU19TRU5USU5FTF9DTEFTUyk7XG4gICAgICAgIHJldHVybiBzZW50aW5lbDtcbiAgICB9O1xuICAgIHJldHVybiBGb2N1c1RyYXA7XG59KCkpO1xuZXhwb3J0IHsgRm9jdXNUcmFwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb2N1cy10cmFwLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKiBBbmltYXRpb25GcmFtZSBwcm92aWRlcyBhIHVzZXItZnJpZW5kbHkgYWJzdHJhY3Rpb24gYXJvdW5kIHJlcXVlc3RpbmdcbiAqIGFuZCBjYW5jZWxpbmcgYW5pbWF0aW9uIGZyYW1lcy5cbiAqL1xudmFyIEFuaW1hdGlvbkZyYW1lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkZyYW1lKCkge1xuICAgICAgICB0aGlzLnJhZklEcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gYW5pbWF0aW9uIGZyYW1lLiBDYW5jZWxzIGFueSBleGlzdGluZyBmcmFtZSB3aXRoIHRoZSBzYW1lIGtleS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgZm9yIHRoaXMgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtGcmFtZVJlcXVlc3RDYWxsYmFja30gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAqL1xuICAgIEFuaW1hdGlvbkZyYW1lLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jYW5jZWwoa2V5KTtcbiAgICAgICAgdmFyIGZyYW1lSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5yYWZJRHMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAvLyBDYWxsYmFjayBtdXN0IGNvbWUgKmFmdGVyKiB0aGUga2V5IGlzIGRlbGV0ZWQgc28gdGhhdCBuZXN0ZWQgY2FsbHMgdG9cbiAgICAgICAgICAgIC8vIHJlcXVlc3Qgd2l0aCB0aGUgc2FtZSBrZXkgYXJlIG5vdCBkZWxldGVkLlxuICAgICAgICAgICAgY2FsbGJhY2soZnJhbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yYWZJRHMuc2V0KGtleSwgZnJhbWVJRCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGEgcXVldWVkIGNhbGxiYWNrIHdpdGggdGhlIGdpdmVuIGtleS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgZm9yIHRoaXMgY2FsbGJhY2suXG4gICAgICovXG4gICAgQW5pbWF0aW9uRnJhbWUucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHJhZklEID0gdGhpcy5yYWZJRHMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChyYWZJRCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmSUQpO1xuICAgICAgICAgICAgdGhpcy5yYWZJRHMuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYWxsIHF1ZXVlZCBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBBbmltYXRpb25GcmFtZS5wcm90b3R5cGUuY2FuY2VsQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBOZWVkIHRvIHVzZSBmb3JFYWNoIGJlY2F1c2UgaXQncyB0aGUgb25seSBpdGVyYXRpb24gbWV0aG9kIHN1cHBvcnRlZFxuICAgICAgICAvLyBieSBJRTExLiBTdXBwcmVzcyB0aGUgdW5kZXJzY29yZSBiZWNhdXNlIHdlIGRvbid0IG5lZWQgaXQuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTplbmZvcmNlLW5hbWUtY2FzaW5nXG4gICAgICAgIHRoaXMucmFmSURzLmZvckVhY2goZnVuY3Rpb24gKF8sIGtleSkge1xuICAgICAgICAgICAgX3RoaXMuY2FuY2VsKGtleSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcXVldWUgb2YgdW5leGVjdXRlZCBjYWxsYmFjayBrZXlzLlxuICAgICAqL1xuICAgIEFuaW1hdGlvbkZyYW1lLnByb3RvdHlwZS5nZXRRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gW107XG4gICAgICAgIC8vIE5lZWQgdG8gdXNlIGZvckVhY2ggYmVjYXVzZSBpdCdzIHRoZSBvbmx5IGl0ZXJhdGlvbiBtZXRob2Qgc3VwcG9ydGVkXG4gICAgICAgIC8vIGJ5IElFMTEuIFN1cHByZXNzIHRoZSB1bmRlcnNjb3JlIGJlY2F1c2Ugd2UgZG9uJ3QgbmVlZCBpdC5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmVuZm9yY2UtbmFtZS1jYXNpbmdcbiAgICAgICAgdGhpcy5yYWZJRHMuZm9yRWFjaChmdW5jdGlvbiAoXywga2V5KSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcXVldWU7XG4gICAgfTtcbiAgICByZXR1cm4gQW5pbWF0aW9uRnJhbWU7XG59KCkpO1xuZXhwb3J0IHsgQW5pbWF0aW9uRnJhbWUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1hdGlvbmZyYW1lLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuZXhwb3J0IHZhciBjc3NDbGFzc2VzID0ge1xuICAgIENMT1NJTkc6ICdtZGMtZGlhbG9nLS1jbG9zaW5nJyxcbiAgICBPUEVOOiAnbWRjLWRpYWxvZy0tb3BlbicsXG4gICAgT1BFTklORzogJ21kYy1kaWFsb2ctLW9wZW5pbmcnLFxuICAgIFNDUk9MTEFCTEU6ICdtZGMtZGlhbG9nLS1zY3JvbGxhYmxlJyxcbiAgICBTQ1JPTExfTE9DSzogJ21kYy1kaWFsb2ctc2Nyb2xsLWxvY2snLFxuICAgIFNUQUNLRUQ6ICdtZGMtZGlhbG9nLS1zdGFja2VkJyxcbiAgICBGVUxMU0NSRUVOOiAnbWRjLWRpYWxvZy0tZnVsbHNjcmVlbicsXG4gICAgLy8gQ2xhc3MgZm9yIHNob3dpbmcgYSBzY3JvbGwgZGl2aWRlciBvbiBmdWxsLXNjcmVlbiBkaWFsb2cgaGVhZGVyIGVsZW1lbnQuXG4gICAgLy8gU2hvdWxkIG9ubHkgYmUgZGlzcGxheWVkIG9uIHNjcm9sbGFibGUgY29udGVudCwgd2hlbiB0aGUgZGlhbG9nIGNvbnRlbnQgaXNcbiAgICAvLyBzY3JvbGxlZCBcInVuZGVybmVhdGhcIiB0aGUgaGVhZGVyLlxuICAgIFNDUk9MTF9ESVZJREVSX0hFQURFUjogJ21kYy1kaWFsb2ctc2Nyb2xsLWRpdmlkZXItaGVhZGVyJyxcbiAgICAvLyBDbGFzcyBmb3Igc2hvd2luZyBhIHNjcm9sbCBkaXZpZGVyIG9uIGEgZnVsbC1zY3JlZW4gZGlhbG9nIGZvb3RlciBlbGVtZW50LlxuICAgIC8vIFNob3VsZCBvbmx5IGJlIGRpc3BsYXllZCBvbiBzY3JvbGFsYmxlIGNvbnRlbnQsIHdoZW4gdGhlIGRpYWxvZyBjb250ZW50IGlzXG4gICAgLy8gb2JzY3VyZWQgXCJ1bmRlcm5lYXRoXCIgdGhlIGZvb3Rlci5cbiAgICBTQ1JPTExfRElWSURFUl9GT09URVI6ICdtZGMtZGlhbG9nLXNjcm9sbC1kaXZpZGVyLWZvb3RlcicsXG4gICAgLy8gVGhlIFwic3VyZmFjZSBzY3JpbVwiIGlzIGEgc2NyaW0gY292ZXJpbmcgb25seSB0aGUgc3VyZmFjZSBvZiBhIGRpYWxvZy4gVGhpc1xuICAgIC8vIGlzIHVzZWQgaW4gc2l0dWF0aW9ucyB3aGVyZSBhIGNvbmZpcm1hdGlvbiBkaWFsb2cgaXMgc2hvd24gb3ZlciBhbiBhbHJlYWR5XG4gICAgLy8gb3BlbmVkIGZ1bGwtc2NyZWVuIGRpYWxvZy4gT24gbGFyZ2VyIHNjcmVlbi1zaXplcywgdGhlIGZ1bGwtc2NyZWVuIGRpYWxvZ1xuICAgIC8vIGlzIHNpemVkIGFzIGEgbW9kYWwgYW5kIHNvIGluIHRoZXNlIHNpdHVhdGlvbnMgd2UgZGlzcGxheSBhIFwic3VyZmFjZSBzY3JpbVwiXG4gICAgLy8gdG8gcHJldmVudCBhIFwiZG91YmxlIHNjcmltXCIgKHdoZXJlIHRoZSBzY3JpbSBmcm9tIHRoZSBzZWNvbmRhcnlcbiAgICAvLyBjb25maXJtYXRpb24gZGlhbG9nIHdvdWxkIG92ZXJsYXAgd2l0aCB0aGUgc2NyaW0gZnJvbSB0aGUgZnVsbC1zY3JlZW5cbiAgICAvLyBkaWFsb2cpLlxuICAgIFNVUkZBQ0VfU0NSSU1fU0hPV046ICdtZGMtZGlhbG9nX19zdXJmYWNlLXNjcmltLS1zaG93bicsXG4gICAgLy8gXCJTaG93aW5nXCIgYW5pbWF0aW5nIGNsYXNzIGZvciB0aGUgc3VyZmFjZS1zY3JpbS5cbiAgICBTVVJGQUNFX1NDUklNX1NIT1dJTkc6ICdtZGMtZGlhbG9nX19zdXJmYWNlLXNjcmltLS1zaG93aW5nJyxcbiAgICAvLyBcIkhpZGluZ1wiIGFuaW1hdGluZyBjbGFzcyBmb3IgdGhlIHN1cmZhY2Utc2NyaW0uXG4gICAgU1VSRkFDRV9TQ1JJTV9ISURJTkc6ICdtZGMtZGlhbG9nX19zdXJmYWNlLXNjcmltLS1oaWRpbmcnLFxuICAgIC8vIENsYXNzIHRvIGhpZGUgYSBkaWFsb2cncyBzY3JpbSAodXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgc3VyZmFjZS1zY3JpbSkuXG4gICAgLy8gTm90ZSB0aGF0IHdlIG9ubHkgaGlkZSB0aGUgb3JpZ2luYWwgc2NyaW0gcmF0aGVyIHRoYW4gcmVtb3ZpbmcgaXQgZW50aXJlbHlcbiAgICAvLyB0byBwcmV2ZW50IGludGVyYWN0aW9ucyB3aXRoIHRoZSBjb250ZW50IGJlaGluZCB0aGlzIHNjcmltLCBhbmQgdG8gY2FwdHVyZVxuICAgIC8vIHNjcmltIGNsaWNrcy5cbiAgICBTQ1JJTV9ISURERU46ICdtZGMtZGlhbG9nX19zY3JpbS0taGlkZGVuJyxcbn07XG5leHBvcnQgdmFyIHN0cmluZ3MgPSB7XG4gICAgQUNUSU9OX0FUVFJJQlVURTogJ2RhdGEtbWRjLWRpYWxvZy1hY3Rpb24nLFxuICAgIEJVVFRPTl9ERUZBVUxUX0FUVFJJQlVURTogJ2RhdGEtbWRjLWRpYWxvZy1idXR0b24tZGVmYXVsdCcsXG4gICAgQlVUVE9OX1NFTEVDVE9SOiAnLm1kYy1kaWFsb2dfX2J1dHRvbicsXG4gICAgQ0xPU0VEX0VWRU5UOiAnTURDRGlhbG9nOmNsb3NlZCcsXG4gICAgQ0xPU0VfQUNUSU9OOiAnY2xvc2UnLFxuICAgIENMT1NJTkdfRVZFTlQ6ICdNRENEaWFsb2c6Y2xvc2luZycsXG4gICAgQ09OVEFJTkVSX1NFTEVDVE9SOiAnLm1kYy1kaWFsb2dfX2NvbnRhaW5lcicsXG4gICAgQ09OVEVOVF9TRUxFQ1RPUjogJy5tZGMtZGlhbG9nX19jb250ZW50JyxcbiAgICBERVNUUk9ZX0FDVElPTjogJ2Rlc3Ryb3knLFxuICAgIElOSVRJQUxfRk9DVVNfQVRUUklCVVRFOiAnZGF0YS1tZGMtZGlhbG9nLWluaXRpYWwtZm9jdXMnLFxuICAgIE9QRU5FRF9FVkVOVDogJ01EQ0RpYWxvZzpvcGVuZWQnLFxuICAgIE9QRU5JTkdfRVZFTlQ6ICdNRENEaWFsb2c6b3BlbmluZycsXG4gICAgU0NSSU1fU0VMRUNUT1I6ICcubWRjLWRpYWxvZ19fc2NyaW0nLFxuICAgIFNVUFBSRVNTX0RFRkFVTFRfUFJFU1NfU0VMRUNUT1I6IFtcbiAgICAgICAgJ3RleHRhcmVhJyxcbiAgICAgICAgJy5tZGMtbWVudSAubWRjLWxpc3QtaXRlbScsXG4gICAgICAgICcubWRjLW1lbnUgLm1kYy1kZXByZWNhdGVkLWxpc3QtaXRlbScsXG4gICAgXS5qb2luKCcsICcpLFxuICAgIFNVUkZBQ0VfU0VMRUNUT1I6ICcubWRjLWRpYWxvZ19fc3VyZmFjZScsXG59O1xuZXhwb3J0IHZhciBudW1iZXJzID0ge1xuICAgIERJQUxPR19BTklNQVRJT05fQ0xPU0VfVElNRV9NUzogNzUsXG4gICAgRElBTE9HX0FOSU1BVElPTl9PUEVOX1RJTUVfTVM6IDE1MCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgeyBfX2Fzc2lnbiwgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBbmltYXRpb25GcmFtZSB9IGZyb20gJ0BtYXRlcmlhbC9hbmltYXRpb24vYW5pbWF0aW9uZnJhbWUnO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3NlcywgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBBbmltYXRpb25LZXlzO1xuKGZ1bmN0aW9uIChBbmltYXRpb25LZXlzKSB7XG4gICAgQW5pbWF0aW9uS2V5c1tcIlBPTExfU0NST0xMX1BPU1wiXSA9IFwicG9sbF9zY3JvbGxfcG9zaXRpb25cIjtcbiAgICBBbmltYXRpb25LZXlzW1wiUE9MTF9MQVlPVVRfQ0hBTkdFXCJdID0gXCJwb2xsX2xheW91dF9jaGFuZ2VcIjtcbn0pKEFuaW1hdGlvbktleXMgfHwgKEFuaW1hdGlvbktleXMgPSB7fSkpO1xudmFyIE1EQ0RpYWxvZ0ZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ0RpYWxvZ0ZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDRGlhbG9nRm91bmRhdGlvbihhZGFwdGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBNRENEaWFsb2dGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRpYWxvZ09wZW4gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNGdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmFuaW1hdGlvbkZyYW1lID0gMDtcbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uVGltZXIgPSAwO1xuICAgICAgICBfdGhpcy5lc2NhcGVLZXlBY3Rpb24gPSBzdHJpbmdzLkNMT1NFX0FDVElPTjtcbiAgICAgICAgX3RoaXMuc2NyaW1DbGlja0FjdGlvbiA9IHN0cmluZ3MuQ0xPU0VfQUNUSU9OO1xuICAgICAgICBfdGhpcy5hdXRvU3RhY2tCdXR0b25zID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuYXJlQnV0dG9uc1N0YWNrZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3VwcHJlc3NEZWZhdWx0UHJlc3NTZWxlY3RvciA9IHN0cmluZ3MuU1VQUFJFU1NfREVGQVVMVF9QUkVTU19TRUxFQ1RPUjtcbiAgICAgICAgX3RoaXMuYW5pbUZyYW1lID0gbmV3IEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICAgIF90aGlzLmNvbnRlbnRTY3JvbGxIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlU2Nyb2xsRXZlbnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMud2luZG93UmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmxheW91dCgpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy53aW5kb3dPcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5sYXlvdXQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRGlhbG9nRm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENEaWFsb2dGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0RpYWxvZ0ZvdW5kYXRpb24sIFwibnVtYmVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRGlhbG9nRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRCb2R5Q2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGFyZUJ1dHRvbnNTdGFja2VkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBjbGlja0RlZmF1bHRCdXR0b246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBldmVudFRhcmdldE1hdGNoZXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGdldEFjdGlvbkZyb21FdmVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH0sXG4gICAgICAgICAgICAgICAgZ2V0SW5pdGlhbEZvY3VzRWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGlzQ29udGVudFNjcm9sbGFibGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeUNsb3NlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeUNsb3Npbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlPcGVuZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlPcGVuaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVsZWFzZUZvY3VzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQm9keUNsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZXZlcnNlQnV0dG9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHRyYXBGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ29udGVudEV2ZW50SGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJDb250ZW50RXZlbnRIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgaXNTY3JvbGxhYmxlQ29udGVudEF0VG9wOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBpc1Njcm9sbGFibGVDb250ZW50QXRCb3R0b206IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyV2luZG93RXZlbnRIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZGVyZWdpc3RlcldpbmRvd0V2ZW50SGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5TVEFDS0VEKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRBdXRvU3RhY2tCdXR0b25zKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRnVsbHNjcmVlbiA9IHRoaXMuYWRhcHRlci5oYXNDbGFzcyhjc3NDbGFzc2VzLkZVTExTQ1JFRU4pO1xuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFuaW1hdGlvblRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQW5pbWF0aW9uVGltZXJFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVyQ29udGVudEV2ZW50SGFuZGxlcignc2Nyb2xsJywgdGhpcy5jb250ZW50U2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltRnJhbWUuY2FuY2VsQWxsKCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVyV2luZG93RXZlbnRIYW5kbGVyKCdyZXNpemUnLCB0aGlzLndpbmRvd1Jlc2l6ZUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuZGVyZWdpc3RlcldpbmRvd0V2ZW50SGFuZGxlcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLndpbmRvd09yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gICAgfTtcbiAgICBNRENEaWFsb2dGb3VuZGF0aW9uLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKGRpYWxvZ09wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kaWFsb2dPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLm5vdGlmeU9wZW5pbmcoKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKGNzc0NsYXNzZXMuT1BFTklORyk7XG4gICAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgLy8gQSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgaXMgcmVnaXN0ZXJlZCBldmVuIGlmIHRoZSBkaWFsb2cgaXMgbm90XG4gICAgICAgICAgICAvLyBzY3JvbGxhYmxlIG9uIG9wZW4sIHNpbmNlIHRoZSB3aW5kb3cgcmVzaXplIGV2ZW50LCBvciBvcmllbnRhdGlvblxuICAgICAgICAgICAgLy8gY2hhbmdlIG1heSBtYWtlIHRoZSBkaWFsb2cgc2Nyb2xsYWJsZSBhZnRlciBpdCBpcyBvcGVuZWQuXG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVnaXN0ZXJDb250ZW50RXZlbnRIYW5kbGVyKCdzY3JvbGwnLCB0aGlzLmNvbnRlbnRTY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlhbG9nT3B0aW9ucyAmJiBkaWFsb2dPcHRpb25zLmlzQWJvdmVGdWxsc2NyZWVuRGlhbG9nKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5TQ1JJTV9ISURERU4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZWdpc3RlcldpbmRvd0V2ZW50SGFuZGxlcigncmVzaXplJywgdGhpcy53aW5kb3dSZXNpemVIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlZ2lzdGVyV2luZG93RXZlbnRIYW5kbGVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMud2luZG93T3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgLy8gV2FpdCBhIGZyYW1lIG9uY2UgZGlzcGxheSBpcyBubyBsb25nZXIgXCJub25lXCIsIHRvIGVzdGFibGlzaCBiYXNpcyBmb3JcbiAgICAgICAgLy8gYW5pbWF0aW9uXG4gICAgICAgIHRoaXMucnVuTmV4dEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5PUEVOKTtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIuYWRkQm9keUNsYXNzKGNzc0NsYXNzZXMuU0NST0xMX0xPQ0spO1xuICAgICAgICAgICAgX3RoaXMubGF5b3V0KCk7XG4gICAgICAgICAgICBfdGhpcy5hbmltYXRpb25UaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUFuaW1hdGlvblRpbWVyRW5kKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci50cmFwRm9jdXMoX3RoaXMuYWRhcHRlci5nZXRJbml0aWFsRm9jdXNFbCgpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLm5vdGlmeU9wZW5lZCgpO1xuICAgICAgICAgICAgfSwgbnVtYmVycy5ESUFMT0dfQU5JTUFUSU9OX09QRU5fVElNRV9NUyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChhY3Rpb24gPT09IHZvaWQgMCkgeyBhY3Rpb24gPSAnJzsgfVxuICAgICAgICBpZiAoIXRoaXMuZGlhbG9nT3Blbikge1xuICAgICAgICAgICAgLy8gQXZvaWQgcmVkdW5kYW50IGNsb3NlIGNhbGxzIChhbmQgZXZlbnRzKSwgZS5nLiBmcm9tIGtleWRvd24gb24gZWxlbWVudHNcbiAgICAgICAgICAgIC8vIHRoYXQgaW5oZXJlbnRseSBlbWl0IGNsaWNrXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaWFsb2dPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRhcHRlci5ub3RpZnlDbG9zaW5nKGFjdGlvbik7XG4gICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhjc3NDbGFzc2VzLkNMT1NJTkcpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoY3NzQ2xhc3Nlcy5PUEVOKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUJvZHlDbGFzcyhjc3NDbGFzc2VzLlNDUk9MTF9MT0NLKTtcbiAgICAgICAgaWYgKHRoaXMuaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZGVyZWdpc3RlckNvbnRlbnRFdmVudEhhbmRsZXIoJ3Njcm9sbCcsIHRoaXMuY29udGVudFNjcm9sbEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlci5kZXJlZ2lzdGVyV2luZG93RXZlbnRIYW5kbGVyKCdyZXNpemUnLCB0aGlzLndpbmRvd1Jlc2l6ZUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuZGVyZWdpc3RlcldpbmRvd0V2ZW50SGFuZGxlcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLndpbmRvd09yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gMDtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYW5pbWF0aW9uVGltZXIpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyLnJlbGVhc2VGb2N1cygpO1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQW5pbWF0aW9uVGltZXJFbmQoKTtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIubm90aWZ5Q2xvc2VkKGFjdGlvbik7XG4gICAgICAgIH0sIG51bWJlcnMuRElBTE9HX0FOSU1BVElPTl9DTE9TRV9USU1FX01TKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgb25seSBpbiBpbnN0YW5jZXMgb2Ygc2hvd2luZyBhIHNlY29uZGFyeSBkaWFsb2cgb3ZlciBhIGZ1bGwtc2NyZWVuXG4gICAgICogZGlhbG9nLiBTaG93cyB0aGUgXCJzdXJmYWNlIHNjcmltXCIgZGlzcGxheWVkIG92ZXIgdGhlIGZ1bGwtc2NyZWVuIGRpYWxvZy5cbiAgICAgKi9cbiAgICBNRENEaWFsb2dGb3VuZGF0aW9uLnByb3RvdHlwZS5zaG93U3VyZmFjZVNjcmltID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5TVVJGQUNFX1NDUklNX1NIT1dJTkcpO1xuICAgICAgICB0aGlzLnJ1bk5leHRBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyLmFkZENsYXNzKGNzc0NsYXNzZXMuU1VSRkFDRV9TQ1JJTV9TSE9XTik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCBvbmx5IGluIGluc3RhbmNlcyBvZiBzaG93aW5nIGEgc2Vjb25kYXJ5IGRpYWxvZyBvdmVyIGEgZnVsbC1zY3JlZW5cbiAgICAgKiBkaWFsb2cuIEhpZGVzIHRoZSBcInN1cmZhY2Ugc2NyaW1cIiBkaXNwbGF5ZWQgb3ZlciB0aGUgZnVsbC1zY3JlZW4gZGlhbG9nLlxuICAgICAqL1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmhpZGVTdXJmYWNlU2NyaW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLlNVUkZBQ0VfU0NSSU1fU0hPV04pO1xuICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5TVVJGQUNFX1NDUklNX0hJRElORyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGB0cmFuc2l0aW9uZW5kYCBldmVudCB0cmlnZ2VyZWQgd2hlbiBzdXJmYWNlIHNjcmltIGFuaW1hdGlvbiBpc1xuICAgICAqIGZpbmlzaGVkLlxuICAgICAqL1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZVN1cmZhY2VTY3JpbVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhjc3NDbGFzc2VzLlNVUkZBQ0VfU0NSSU1fSElESU5HKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuU1VSRkFDRV9TQ1JJTV9TSE9XSU5HKTtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nT3BlbjtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmdldEVzY2FwZUtleUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXNjYXBlS2V5QWN0aW9uO1xuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0RXNjYXBlS2V5QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLmVzY2FwZUtleUFjdGlvbiA9IGFjdGlvbjtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmdldFNjcmltQ2xpY2tBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmltQ2xpY2tBY3Rpb247XG4gICAgfTtcbiAgICBNRENEaWFsb2dGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRTY3JpbUNsaWNrQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLnNjcmltQ2xpY2tBY3Rpb24gPSBhY3Rpb247XG4gICAgfTtcbiAgICBNRENEaWFsb2dGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRBdXRvU3RhY2tCdXR0b25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdXRvU3RhY2tCdXR0b25zO1xuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0QXV0b1N0YWNrQnV0dG9ucyA9IGZ1bmN0aW9uIChhdXRvU3RhY2spIHtcbiAgICAgICAgdGhpcy5hdXRvU3RhY2tCdXR0b25zID0gYXV0b1N0YWNrO1xuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0U3VwcHJlc3NEZWZhdWx0UHJlc3NTZWxlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VwcHJlc3NEZWZhdWx0UHJlc3NTZWxlY3RvcjtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLnNldFN1cHByZXNzRGVmYXVsdFByZXNzU2VsZWN0b3IgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5zdXBwcmVzc0RlZmF1bHRQcmVzc1NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgfTtcbiAgICBNRENEaWFsb2dGb3VuZGF0aW9uLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuYW5pbUZyYW1lLnJlcXVlc3QoQW5pbWF0aW9uS2V5cy5QT0xMX0xBWU9VVF9DSEFOR0UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmxheW91dEludGVybmFsKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEhhbmRsZXMgY2xpY2sgb24gdGhlIGRpYWxvZyByb290IGVsZW1lbnQuICovXG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBpc1NjcmltID0gdGhpcy5hZGFwdGVyLmV2ZW50VGFyZ2V0TWF0Y2hlcyhldnQudGFyZ2V0LCBzdHJpbmdzLlNDUklNX1NFTEVDVE9SKTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHNjcmltIGNsaWNrIGZpcnN0IHNpbmNlIGl0IGRvZXNuJ3QgcmVxdWlyZSBxdWVyeWluZyBhbmNlc3RvcnMuXG4gICAgICAgIGlmIChpc1NjcmltICYmIHRoaXMuc2NyaW1DbGlja0FjdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UodGhpcy5zY3JpbUNsaWNrQWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLmFkYXB0ZXIuZ2V0QWN0aW9uRnJvbUV2ZW50KGV2dCk7XG4gICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZShhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogSGFuZGxlcyBrZXlkb3duIG9uIHRoZSBkaWFsb2cgcm9vdCBlbGVtZW50LiAqL1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUtleWRvd24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBpc0VudGVyID0gZXZ0LmtleSA9PT0gJ0VudGVyJyB8fCBldnQua2V5Q29kZSA9PT0gMTM7XG4gICAgICAgIGlmICghaXNFbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLmFkYXB0ZXIuZ2V0QWN0aW9uRnJvbUV2ZW50KGV2dCk7XG4gICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIEFjdGlvbiBidXR0b24gY2FsbGJhY2sgaXMgaGFuZGxlZCBpbiBgaGFuZGxlQ2xpY2tgLFxuICAgICAgICAgICAgLy8gc2luY2Ugc3BhY2UvZW50ZXIga2V5ZG93bnMgb24gYnV0dG9ucyB0cmlnZ2VyIGNsaWNrIGV2ZW50cy5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBgY29tcG9zZWRQYXRoYCBpcyB1c2VkIGhlcmUsIHdoZW4gYXZhaWxhYmxlLCB0byBhY2NvdW50IGZvciB1c2UgY2FzZXNcbiAgICAgICAgLy8gd2hlcmUgYSB0YXJnZXQgbWVhbnQgdG8gc3VwcHJlc3MgdGhlIGRlZmF1bHQgcHJlc3MgYmVoYXZpb3VyXG4gICAgICAgIC8vIG1heSBleGlzdCBpbiBhIHNoYWRvdyByb290LlxuICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYSB0ZXh0YXJlYSBpbnNpZGUgYSB3ZWIgY29tcG9uZW50OlxuICAgICAgICAvLyA8bXdjLWRpYWxvZz5cbiAgICAgICAgLy8gICA8aG9yaXpvbnRhbC1sYXlvdXQ+XG4gICAgICAgIC8vICAgICAjc2hhZG93LXJvb3QgKG9wZW4pXG4gICAgICAgIC8vICAgICAgIDxtd2MtdGV4dGFyZWE+XG4gICAgICAgIC8vICAgICAgICAgI3NoYWRvdy1yb290IChvcGVuKVxuICAgICAgICAvLyAgICAgICAgICAgPHRleHRhcmVhPjwvdGV4dGFyZWE+XG4gICAgICAgIC8vICAgICAgIDwvbXdjLXRleHRhcmVhPlxuICAgICAgICAvLyAgIDwvaG9yaXpvbnRhbC1sYXlvdXQ+XG4gICAgICAgIC8vIDwvbXdjLWRpYWxvZz5cbiAgICAgICAgdmFyIHRhcmdldCA9IGV2dC5jb21wb3NlZFBhdGggPyBldnQuY29tcG9zZWRQYXRoKClbMF0gOiBldnQudGFyZ2V0O1xuICAgICAgICB2YXIgaXNEZWZhdWx0ID0gdGhpcy5zdXBwcmVzc0RlZmF1bHRQcmVzc1NlbGVjdG9yID9cbiAgICAgICAgICAgICF0aGlzLmFkYXB0ZXIuZXZlbnRUYXJnZXRNYXRjaGVzKHRhcmdldCwgdGhpcy5zdXBwcmVzc0RlZmF1bHRQcmVzc1NlbGVjdG9yKSA6XG4gICAgICAgICAgICB0cnVlO1xuICAgICAgICBpZiAoaXNFbnRlciAmJiBpc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5jbGlja0RlZmF1bHRCdXR0b24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEhhbmRsZXMga2V5ZG93biBvbiB0aGUgZG9jdW1lbnQuICovXG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlRG9jdW1lbnRLZXlkb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgaXNFc2NhcGUgPSBldnQua2V5ID09PSAnRXNjYXBlJyB8fCBldnQua2V5Q29kZSA9PT0gMjc7XG4gICAgICAgIGlmIChpc0VzY2FwZSAmJiB0aGlzLmVzY2FwZUtleUFjdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UodGhpcy5lc2NhcGVLZXlBY3Rpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHNjcm9sbCBldmVudCBvbiB0aGUgZGlhbG9nJ3MgY29udGVudCBlbGVtZW50IC0tIHNob3dpbmcgYSBzY3JvbGxcbiAgICAgKiBkaXZpZGVyIG9uIHRoZSBoZWFkZXIgb3IgZm9vdGVyIGJhc2VkIG9uIHRoZSBzY3JvbGwgcG9zaXRpb24uIFRoaXMgaGFuZGxlclxuICAgICAqIHNob3VsZCBvbmx5IGJlIHJlZ2lzdGVyZWQgb24gZnVsbC1zY3JlZW4gZGlhbG9ncyB3aXRoIHNjcm9sbGFibGUgY29udGVudC5cbiAgICAgKi9cbiAgICBNRENEaWFsb2dGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVTY3JvbGxFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gU2luY2Ugc2Nyb2xsIGV2ZW50cyBjYW4gZmlyZSBhdCBhIGhpZ2ggcmF0ZSwgd2UgdGhyb3R0bGUgdGhlc2UgZXZlbnRzIGJ5XG4gICAgICAgIC8vIHVzaW5nIHJlcXVlc3RBbmltYXRpb25GcmFtZS5cbiAgICAgICAgdGhpcy5hbmltRnJhbWUucmVxdWVzdChBbmltYXRpb25LZXlzLlBPTExfU0NST0xMX1BPUywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMudG9nZ2xlU2Nyb2xsRGl2aWRlckhlYWRlcigpO1xuICAgICAgICAgICAgX3RoaXMudG9nZ2xlU2Nyb2xsRGl2aWRlckZvb3RlcigpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmxheW91dEludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvU3RhY2tCdXR0b25zKSB7XG4gICAgICAgICAgICB0aGlzLmRldGVjdFN0YWNrZWRCdXR0b25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b2dnbGVTY3JvbGxhYmxlQ2xhc3NlcygpO1xuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlQW5pbWF0aW9uVGltZXJFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZXIgPSAwO1xuICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoY3NzQ2xhc3Nlcy5PUEVOSU5HKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuQ0xPU0lORyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSBnaXZlbiBsb2dpYyBvbiB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUsIHVzaW5nIHNldFRpbWVvdXQgdG9cbiAgICAgKiBmYWN0b3IgaW4gRmlyZWZveCByZWZsb3cgYmVoYXZpb3IuXG4gICAgICovXG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUucnVuTmV4dEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFuaW1hdGlvbkZyYW1lID0gMDtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5hbmltYXRpb25UaW1lcik7XG4gICAgICAgICAgICBfdGhpcy5hbmltYXRpb25UaW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLmRldGVjdFN0YWNrZWRCdXR0b25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGNsYXNzIGZpcnN0IHRvIGxldCB1cyBtZWFzdXJlIHRoZSBidXR0b25zJyBuYXR1cmFsIHBvc2l0aW9ucy5cbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuU1RBQ0tFRCk7XG4gICAgICAgIHZhciBhcmVCdXR0b25zU3RhY2tlZCA9IHRoaXMuYWRhcHRlci5hcmVCdXR0b25zU3RhY2tlZCgpO1xuICAgICAgICBpZiAoYXJlQnV0dG9uc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhjc3NDbGFzc2VzLlNUQUNLRUQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmVCdXR0b25zU3RhY2tlZCAhPT0gdGhpcy5hcmVCdXR0b25zU3RhY2tlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJldmVyc2VCdXR0b25zKCk7XG4gICAgICAgICAgICB0aGlzLmFyZUJ1dHRvbnNTdGFja2VkID0gYXJlQnV0dG9uc1N0YWNrZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ0RpYWxvZ0ZvdW5kYXRpb24ucHJvdG90eXBlLnRvZ2dsZVNjcm9sbGFibGVDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGNsYXNzIGZpcnN0IHRvIGxldCB1cyBtZWFzdXJlIHRoZSBuYXR1cmFsIGhlaWdodCBvZiB0aGVcbiAgICAgICAgLy8gY29udGVudC5cbiAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuU0NST0xMQUJMRSk7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaXNDb250ZW50U2Nyb2xsYWJsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5TQ1JPTExBQkxFKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIC8vIElmIGRpYWxvZyBpcyBmdWxsLXNjcmVlbiBhbmQgc2Nyb2xsYWJsZSwgY2hlY2sgaWYgYSBzY3JvbGwgZGl2aWRlclxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBiZSBzaG93bi5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNjcm9sbERpdmlkZXJIZWFkZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNjcm9sbERpdmlkZXJGb290ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUudG9nZ2xlU2Nyb2xsRGl2aWRlckhlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0ZXIuaXNTY3JvbGxhYmxlQ29udGVudEF0VG9wKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhjc3NDbGFzc2VzLlNDUk9MTF9ESVZJREVSX0hFQURFUik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hZGFwdGVyLmhhc0NsYXNzKGNzc0NsYXNzZXMuU0NST0xMX0RJVklERVJfSEVBREVSKSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuU0NST0xMX0RJVklERVJfSEVBREVSKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDRGlhbG9nRm91bmRhdGlvbi5wcm90b3R5cGUudG9nZ2xlU2Nyb2xsRGl2aWRlckZvb3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0ZXIuaXNTY3JvbGxhYmxlQ29udGVudEF0Qm90dG9tKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5hZGRDbGFzcyhjc3NDbGFzc2VzLlNDUk9MTF9ESVZJREVSX0ZPT1RFUik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hZGFwdGVyLmhhc0NsYXNzKGNzc0NsYXNzZXMuU0NST0xMX0RJVklERVJfRk9PVEVSKSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKGNzc0NsYXNzZXMuU0NST0xMX0RJVklERVJfRk9PVEVSKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1EQ0RpYWxvZ0ZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ0RpYWxvZ0ZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENEaWFsb2dGb3VuZGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm91bmRhdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fZXh0ZW5kcywgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0NvbXBvbmVudCB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBGb2N1c1RyYXAgfSBmcm9tICdAbWF0ZXJpYWwvZG9tL2ZvY3VzLXRyYXAnO1xuaW1wb3J0IHsgY2xvc2VzdCwgbWF0Y2hlcyB9IGZyb20gJ0BtYXRlcmlhbC9kb20vcG9ueWZpbGwnO1xuaW1wb3J0IHsgTURDUmlwcGxlIH0gZnJvbSAnQG1hdGVyaWFsL3JpcHBsZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDRGlhbG9nRm91bmRhdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbic7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG52YXIgc3RyaW5ncyA9IE1EQ0RpYWxvZ0ZvdW5kYXRpb24uc3RyaW5ncztcbnZhciBNRENEaWFsb2cgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ0RpYWxvZywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENEaWFsb2coKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0RpYWxvZy5wcm90b3R5cGUsIFwiaXNPcGVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uLmlzT3BlbigpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0RpYWxvZy5wcm90b3R5cGUsIFwiZXNjYXBlS2V5QWN0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uLmdldEVzY2FwZUtleUFjdGlvbigpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRFc2NhcGVLZXlBY3Rpb24oYWN0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENEaWFsb2cucHJvdG90eXBlLCBcInNjcmltQ2xpY2tBY3Rpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb24uZ2V0U2NyaW1DbGlja0FjdGlvbigpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmRhdGlvbi5zZXRTY3JpbUNsaWNrQWN0aW9uKGFjdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRGlhbG9nLnByb3RvdHlwZSwgXCJhdXRvU3RhY2tCdXR0b25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uLmdldEF1dG9TdGFja0J1dHRvbnMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYXV0b1N0YWNrKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uc2V0QXV0b1N0YWNrQnV0dG9ucyhhdXRvU3RhY2spO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDRGlhbG9nLmF0dGFjaFRvID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNRENEaWFsb2cocm9vdCk7XG4gICAgfTtcbiAgICBNRENEaWFsb2cucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoZm9jdXNUcmFwRmFjdG9yeSkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgaWYgKGZvY3VzVHJhcEZhY3RvcnkgPT09IHZvaWQgMCkgeyBmb2N1c1RyYXBGYWN0b3J5ID0gZnVuY3Rpb24gKGVsLCBmb2N1c09wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRm9jdXNUcmFwKGVsLCBmb2N1c09wdGlvbnMpO1xuICAgICAgICB9OyB9XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzdHJpbmdzLkNPTlRBSU5FUl9TRUxFQ1RPUik7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgY29tcG9uZW50IHJlcXVpcmVzIGEgXCIgKyBzdHJpbmdzLkNPTlRBSU5FUl9TRUxFQ1RPUiArIFwiIGNvbnRhaW5lciBlbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPVxuICAgICAgICAgICAgdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5DT05URU5UX1NFTEVDVE9SKTtcbiAgICAgICAgdGhpcy5idXR0b25zID0gW10uc2xpY2UuY2FsbCh0aGlzLnJvb3QucXVlcnlTZWxlY3RvckFsbChzdHJpbmdzLkJVVFRPTl9TRUxFQ1RPUikpO1xuICAgICAgICB0aGlzLmRlZmF1bHRCdXR0b24gPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihcIltcIiArIHN0cmluZ3MuQlVUVE9OX0RFRkFVTFRfQVRUUklCVVRFICsgXCJdXCIpO1xuICAgICAgICB0aGlzLmZvY3VzVHJhcEZhY3RvcnkgPSBmb2N1c1RyYXBGYWN0b3J5O1xuICAgICAgICB0aGlzLmJ1dHRvblJpcHBsZXMgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5idXR0b25zKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBidXR0b25FbCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uUmlwcGxlcy5wdXNoKG5ldyBNRENSaXBwbGUoYnV0dG9uRWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENEaWFsb2cucHJvdG90eXBlLmluaXRpYWxTeW5jV2l0aERPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5mb2N1c1RyYXAgPSB1dGlsLmNyZWF0ZUZvY3VzVHJhcEluc3RhbmNlKHRoaXMuY29udGFpbmVyLCB0aGlzLmZvY3VzVHJhcEZhY3RvcnksIHRoaXMuZ2V0SW5pdGlhbEZvY3VzRWwoKSB8fCB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5mb3VuZGF0aW9uLmhhbmRsZUNsaWNrLmJpbmQodGhpcy5mb3VuZGF0aW9uKTtcbiAgICAgICAgdGhpcy5oYW5kbGVLZXlkb3duID0gdGhpcy5mb3VuZGF0aW9uLmhhbmRsZUtleWRvd24uYmluZCh0aGlzLmZvdW5kYXRpb24pO1xuICAgICAgICB0aGlzLmhhbmRsZURvY3VtZW50S2V5ZG93biA9XG4gICAgICAgICAgICB0aGlzLmZvdW5kYXRpb24uaGFuZGxlRG9jdW1lbnRLZXlkb3duLmJpbmQodGhpcy5mb3VuZGF0aW9uKTtcbiAgICAgICAgLy8gdGhpcy5oYW5kbGVMYXlvdXQgPSB0aGlzLmxheW91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZU9wZW5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMuaGFuZGxlRG9jdW1lbnRLZXlkb3duKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbG9zaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIF90aGlzLmhhbmRsZURvY3VtZW50S2V5ZG93bik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdGVuKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICB0aGlzLmxpc3Rlbigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bik7XG4gICAgICAgIHRoaXMubGlzdGVuKHN0cmluZ3MuT1BFTklOR19FVkVOVCwgdGhpcy5oYW5kbGVPcGVuaW5nKTtcbiAgICAgICAgdGhpcy5saXN0ZW4oc3RyaW5ncy5DTE9TSU5HX0VWRU5ULCB0aGlzLmhhbmRsZUNsb3NpbmcpO1xuICAgIH07XG4gICAgTURDRGlhbG9nLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVubGlzdGVuKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICB0aGlzLnVubGlzdGVuKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duKTtcbiAgICAgICAgdGhpcy51bmxpc3RlbihzdHJpbmdzLk9QRU5JTkdfRVZFTlQsIHRoaXMuaGFuZGxlT3BlbmluZyk7XG4gICAgICAgIHRoaXMudW5saXN0ZW4oc3RyaW5ncy5DTE9TSU5HX0VWRU5ULCB0aGlzLmhhbmRsZUNsb3NpbmcpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsb3NpbmcoKTtcbiAgICAgICAgdGhpcy5idXR0b25SaXBwbGVzLmZvckVhY2goZnVuY3Rpb24gKHJpcHBsZSkge1xuICAgICAgICAgICAgcmlwcGxlLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgTURDRGlhbG9nLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbi5sYXlvdXQoKTtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZy5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uLm9wZW4oKTtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZy5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChhY3Rpb24gPT09IHZvaWQgMCkgeyBhY3Rpb24gPSAnJzsgfVxuICAgICAgICB0aGlzLmZvdW5kYXRpb24uY2xvc2UoYWN0aW9uKTtcbiAgICB9O1xuICAgIE1EQ0RpYWxvZy5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgdmFyIGFkYXB0ZXIgPSB7XG4gICAgICAgICAgICBhZGRCb2R5Q2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgYXJlQnV0dG9uc1N0YWNrZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHV0aWwuYXJlVG9wc01pc2FsaWduZWQoX3RoaXMuYnV0dG9ucyk7IH0sXG4gICAgICAgICAgICBjbGlja0RlZmF1bHRCdXR0b246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZGVmYXVsdEJ1dHRvbiAmJiAhX3RoaXMuZGVmYXVsdEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZhdWx0QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW50VGFyZ2V0TWF0Y2hlczogZnVuY3Rpb24gKHRhcmdldCwgc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0ID8gbWF0Y2hlcyh0YXJnZXQsIHNlbGVjdG9yKSA6IGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEFjdGlvbkZyb21FdmVudDogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIGlmICghZXZ0LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY2xvc2VzdChldnQudGFyZ2V0LCBcIltcIiArIHN0cmluZ3MuQUNUSU9OX0FUVFJJQlVURSArIFwiXVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZShzdHJpbmdzLkFDVElPTl9BVFRSSUJVVEUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEluaXRpYWxGb2N1c0VsOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5nZXRJbml0aWFsRm9jdXNFbCgpOyB9LFxuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICBpc0NvbnRlbnRTY3JvbGxhYmxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsLmlzU2Nyb2xsYWJsZShfdGhpcy5jb250ZW50KTsgfSxcbiAgICAgICAgICAgIG5vdGlmeUNsb3NlZDogZnVuY3Rpb24gKGFjdGlvbikgeyByZXR1cm4gX3RoaXMuZW1pdChzdHJpbmdzLkNMT1NFRF9FVkVOVCwgYWN0aW9uID8geyBhY3Rpb246IGFjdGlvbiB9IDoge30pOyB9LFxuICAgICAgICAgICAgbm90aWZ5Q2xvc2luZzogZnVuY3Rpb24gKGFjdGlvbikgeyByZXR1cm4gX3RoaXMuZW1pdChzdHJpbmdzLkNMT1NJTkdfRVZFTlQsIGFjdGlvbiA/IHsgYWN0aW9uOiBhY3Rpb24gfSA6IHt9KTsgfSxcbiAgICAgICAgICAgIG5vdGlmeU9wZW5lZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZW1pdChzdHJpbmdzLk9QRU5FRF9FVkVOVCwge30pOyB9LFxuICAgICAgICAgICAgbm90aWZ5T3BlbmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZW1pdChzdHJpbmdzLk9QRU5JTkdfRVZFTlQsIHt9KTsgfSxcbiAgICAgICAgICAgIHJlbGVhc2VGb2N1czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmZvY3VzVHJhcC5yZWxlYXNlRm9jdXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVCb2R5Q2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgcmV2ZXJzZUJ1dHRvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5idXR0b25zLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5idXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBidXR0b24ucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYXBGb2N1czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmZvY3VzVHJhcC50cmFwRm9jdXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3RlckNvbnRlbnRFdmVudEhhbmRsZXI6IGZ1bmN0aW9uIChldnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29udGVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXJlZ2lzdGVyQ29udGVudEV2ZW50SGFuZGxlcjogZnVuY3Rpb24gKGV2dCwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb250ZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2dCwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzU2Nyb2xsYWJsZUNvbnRlbnRBdFRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlsLmlzU2Nyb2xsQXRUb3AoX3RoaXMuY29udGVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNTY3JvbGxhYmxlQ29udGVudEF0Qm90dG9tOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWwuaXNTY3JvbGxBdEJvdHRvbShfdGhpcy5jb250ZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3RlcldpbmRvd0V2ZW50SGFuZGxlcjogZnVuY3Rpb24gKGV2dCwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2dCwgaGFuZGxlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVyZWdpc3RlcldpbmRvd0V2ZW50SGFuZGxlcjogZnVuY3Rpb24gKGV2dCwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2dCwgaGFuZGxlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE1EQ0RpYWxvZ0ZvdW5kYXRpb24oYWRhcHRlcik7XG4gICAgfTtcbiAgICBNRENEaWFsb2cucHJvdG90eXBlLmdldEluaXRpYWxGb2N1c0VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoXCJbXCIgKyBzdHJpbmdzLklOSVRJQUxfRk9DVVNfQVRUUklCVVRFICsgXCJdXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ0RpYWxvZztcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENEaWFsb2cgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXAiLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tIFwic3ZlbHRlXCI7XG4gIGltcG9ydCB7IE1EQ0RpYWxvZyB9IGZyb20gXCJAbWF0ZXJpYWwvZGlhbG9nXCI7XG4gIGltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSB9IGZyb20gXCJzdmVsdGVcIjtcbiAgaW1wb3J0IFwiLi4vLi4vc3R5bGVzL2RpYWxvZy5zY3NzXCI7XG5cbiAgZXhwb3J0IGxldCBpZCA9IFwiXCI7XG4gIGV4cG9ydCBsZXQgb3BlbiA9IGZhbHNlO1xuICBleHBvcnQgbGV0IHRpdGxlID0gXCJcIjtcblxuICBsZXQgZGlhbG9nID0gbnVsbDtcbiAgJDogb3BlbiA/IGRpYWxvZz8ub3BlbigpIDogZGlhbG9nPy5jbG9zZSgpO1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cbiAgZnVuY3Rpb24gY2FuY2VsRXZlbnQoZSkge1xuICAgIGRpc3BhdGNoKFwiZGlhbG9nQ2FuY2VsZWRcIiwge1xuICAgICAgZXZlbnQ6IGUsXG4gICAgICBpZDogaWQsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdWJtaXRFdmVudChlKSB7XG4gICAgZGlzcGF0Y2goXCJkaWFsb2dTdWJtaXR0ZWRcIiwge1xuICAgICAgZXZlbnQ6IGUsXG4gICAgICBpZDogaWQsXG4gICAgfSk7XG4gIH1cblxuICBvbk1vdW50KCgpID0+IHtcbiAgICBkaWFsb2cgPSBuZXcgTURDRGlhbG9nKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfS5tZGMtZGlhbG9nYCkpO1xuXG4gICAgZGlhbG9nLmxpc3RlbihcIk1EQ0RpYWxvZzpvcGVuZWRcIiwgKGUpID0+IHtcbiAgICAgIGRpc3BhdGNoKFwiZGlhbG9nT3BlbmVkXCIsIGUpO1xuICAgIH0pO1xuXG4gICAgZGlhbG9nLmxpc3RlbihcIk1EQ0RpYWxvZzpjbG9zZWRcIiwgKGUpID0+IHtcbiAgICAgIGRpc3BhdGNoKFwiZGlhbG9nQ2xvc2VkXCIsIGUpO1xuICAgIH0pO1xuICB9KTtcblxuICBvbkRlc3Ryb3koKCkgPT4ge1xuICAgIG9wZW4gPSBmYWxzZTtcbiAgICBkaXNwYXRjaChcImNsb3NlRXZlbnRcIiwge1xuICAgICAgZGlhbG9nOiBpZCxcbiAgICB9KTtcbiAgfSk7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cIm1kYy1kaWFsb2cgbWRjLWRpYWxvZy0tZnVsbHNjcmVlblwiIHtpZH0+XG4gIDxkaXYgY2xhc3M9XCJtZGMtZGlhbG9nX19jb250YWluZXJcIj5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cIm1kYy1kaWFsb2dfX3N1cmZhY2VcIlxuICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgICBhcmlhLWxhYmVsbGVkYnk9e2Ake2lkfS1kaWFsb2ctdGl0bGVgfVxuICAgICAgYXJpYS1kZXNjcmliZWRieT17YCR7aWR9LWRpYWxvZy1jb250ZW50YH1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwibWRjLWRpYWxvZ19faGVhZGVyXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cIm1kYy1kaWFsb2dfX3RpdGxlXCIgaWQ9e2Ake2lkfS1kaWFsb2ctdGl0bGVgfT5cbiAgICAgICAgICB7dGl0bGV9XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzcz1cIm1kYy1pY29uLWJ1dHRvbiBtYXRlcmlhbC1pY29ucyBtZGMtZGlhbG9nX19jbG9zZVwiXG4gICAgICAgICAgZGF0YS1tZGMtZGlhbG9nLWFjdGlvbj1cImNsb3NlXCJcbiAgICAgICAgPlxuICAgICAgICAgIGNsb3NlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibWRjLWRpYWxvZ19fY29udGVudFwiIGlkPXtgJHtpZH0tZGlhbG9nLWNvbnRlbnRgfT5cbiAgICAgICAgPHNsb3QgbmFtZT1cImNvbnRlbnRTbG90XCI+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibWRjLWRpYWxvZ19fYWN0aW9uc1wiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3M9XCJmYy1idXR0b24gbWRjLWJ1dHRvbiBtZGMtZGlhbG9nX19idXR0b25cIlxuICAgICAgICAgIGRhdGEtbWRjLWRpYWxvZy1hY3Rpb249XCJva1wiXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWRjLWJ1dHRvbl9fcmlwcGxlXCI+PC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtYnV0dG9uX19sYWJlbFwiPk9LPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cIm1kYy1kaWFsb2dfX3NjcmltXCI+PC9kaXY+XG48L2Rpdj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCBUZXh0SW5wdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvSW5wdXRzL1RleHRJbnB1dC5zdmVsdGVcIjtcbiAgaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9CdXR0b25zL0J1dHRvbi5zdmVsdGVcIjtcbiAgaW1wb3J0IFNlbGVjdCBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWxlY3RzL1NlbGVjdC5zdmVsdGVcIjtcbiAgaW1wb3J0IHtcbiAgICBnZXRCcmVlZHMsXG4gICAgZ2V0RG9nSWRzLFxuICAgIGdldERvZ1Byb2ZpbGVzLFxuICAgIGdldE1hdGNoLFxuICB9IGZyb20gXCIuLi9hcGkvZG9nRGF0YVwiO1xuICBpbXBvcnQgeyBsb2dvdXQgfSBmcm9tIFwiLi4vYXBpL2F1dGhlbnRpY2F0aW9uXCI7XG4gIGltcG9ydCB7IGdldE5leHQgfSBmcm9tIFwiLi4vYXBpL2RvZ0RhdGFcIjtcbiAgaW1wb3J0IHsgZ2V0RmF2b3JpdGVzLCBzZXRGYXZvcml0ZXMgfSBmcm9tIFwiLi4vaGVscGVycy9mYXZvcml0ZXNIZWxwZXJcIjtcbiAgaW1wb3J0IHsgcGFyc2VRdWVyeVN0cmluZyB9IGZyb20gXCIuLi9oZWxwZXJzL2Zvcm1hdEhlbHBlclwiO1xuICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICBpbXBvcnQgSW5mb0NhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZHMvSW5mb0NhcmQuc3ZlbHRlXCI7XG4gIGltcG9ydCBcIi4uL3N0eWxlcy9sYXlvdXRzLnNjc3NcIjtcbiAgaW1wb3J0IExpbmtCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9ucy9MaW5rQnV0dG9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgVG9nZ2xlQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL0J1dHRvbnMvVG9nZ2xlQnV0dG9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgSGVhZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL0xheW91dC9IZWFkZXIuc3ZlbHRlXCI7XG4gIGltcG9ydCBEaWFsb2cgZnJvbSBcIi4uL2NvbXBvbmVudHMvTGF5b3V0L0RpYWxvZy5zdmVsdGVcIjtcblxuICBsZXQgZG9nQnJlZWRzID0gW107XG4gIGxldCBkb2dJZHMgPSBbXTtcbiAgbGV0IGRvZ1Byb2ZpbGVzID0gW107XG4gIGxldCBuZXh0TGluayA9IG51bGw7XG4gIGxldCBicmVlZCA9IFwiXCI7XG4gIGxldCB6aXBDb2RlID0gXCJcIjtcbiAgbGV0IGFnZU1pbiA9IDA7XG4gIGxldCBhZ2VNYXggPSAyMDtcbiAgbGV0IHNpemUgPSBcIlwiO1xuICBsZXQgZnJvbSA9IFwiXCI7XG4gIGxldCBhZ2VzID0gWy4uLkFycmF5KDIxKS5rZXlzKCkubWFwKFN0cmluZyldO1xuICBsZXQgc29ydEZpZWxkID0gbnVsbDtcbiAgbGV0IHNvcnREaXIgPSBcImFzY1wiO1xuICBsZXQgdG90YWxOdW1iZXJPZkRvZ3MgPSBudWxsO1xuICBsZXQgZmF2b3JpdGVzTGlzdCA9IFtdO1xuICBsZXQgbWF0Y2ggPSBudWxsO1xuICBsZXQgbWF0Y2hJbmZvID0gbnVsbDtcbiAgbGV0IG1hdGNoRGlhbG9nT3BlbiA9IGZhbHNlO1xuICBsZXQgc2VhcmNoTG9hZGluZyA9IHRydWU7XG4gIGxldCB0b2dnbGVPcHRpb25zID0gW1xuICAgIHtcbiAgICAgIGlkOiBcImJyZWVkXCIsXG4gICAgICBsYWJlbDogXCJicmVlZFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibmFtZVwiLFxuICAgICAgbGFiZWw6IFwibmFtZVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiYWdlXCIsXG4gICAgICBsYWJlbDogXCJhZ2VcIixcbiAgICB9LFxuICBdO1xuXG4gIC8vIENhbGwgdG8gc2VhcmNoIGZvciBkb2cgSURzIGFuZCB0aGVuIHByb2ZpbGVzIGJhc2VkIG9uIGN1cnJlbnQgZmlsdGVyc1xuICAvLyBhc3luYyBmdW5jdGlvbiBzZWFyY2goKSB7XG4gIC8vICAgdHJ5IHtcbiAgLy8gICAgIGxldCBkb2dJZHNSZXN1bHQgPSBhd2FpdCBnZXREb2dJZHMoXG4gIC8vICAgICAgIGJyZWVkLFxuICAvLyAgICAgICB6aXBDb2RlLFxuICAvLyAgICAgICBhZ2VNaW4sXG4gIC8vICAgICAgIGFnZU1heCxcbiAgLy8gICAgICAgc2l6ZSxcbiAgLy8gICAgICAgMCxcbiAgLy8gICAgICAgc29ydEZpZWxkLFxuICAvLyAgICAgICBzb3J0RGlyXG4gIC8vICAgICApO1xuICAvLyAgICAgc2V0RG9nRGF0YShkb2dJZHNSZXN1bHQpO1xuICAvLyAgIH0gY2F0Y2ggKGUpIHtcbiAgLy8gICAgIGNvbnNvbGUubG9nKGBFcnJvciBnZXR0aW5nIGRvZyBJZHNgLCBlKTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICBhc3luYyBmdW5jdGlvbiBzZXREb2dEYXRhKHJlc3VsdCkge1xuICAgIHRvdGFsTnVtYmVyT2ZEb2dzID0gcmVzdWx0Lmxlbmd0aDtcbiAgICBkb2dQcm9maWxlcyA9IGF3YWl0IGdldERvZ1Byb2ZpbGVzKHJlc3VsdCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzaG93TWF0Y2hEaWFsb2coKSB7XG4gICAgYXdhaXQgYXNzaWduTWF0Y2goKTtcbiAgICBtYXRjaERpYWxvZ09wZW4gPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZU1hdGNoRGlhbG9nKCkge1xuICAgIG1hdGNoRGlhbG9nT3BlbiA9IGZhbHNlO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbmV4dFBhZ2UoKSB7XG4gICAgaWYgKG5leHRMaW5rKSB7XG4gICAgICBsZXQgbmV4dFJlc3VsdCA9IGF3YWl0IGdldE5leHQobmV4dExpbmspO1xuICAgICAgc2V0RG9nRGF0YShuZXh0UmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNvcnQoZSkge1xuICAgIHNvcnRGaWVsZCA9IGUuZGV0YWlsLnZhbHVlO1xuICAgIHNvcnREaXIgPSBlLmRldGFpbC5zb3J0QXNjID8gXCJhc2NcIiA6IFwiZGVzY1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRmF2b3JpdGVzKGUpIHtcbiAgICBsZXQgYWRkRmF2b3JpdGUgPSBlLmRldGFpbC5mYXZvcml0ZTtcbiAgICBsZXQgaWQgPSBlLmRldGFpbC5pZDtcblxuICAgIGlmIChhZGRGYXZvcml0ZSkge1xuICAgICAgZmF2b3JpdGVzTGlzdC5wdXNoKGlkKTtcbiAgICAgIHNldEZhdm9yaXRlcyhmYXZvcml0ZXNMaXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kZXggPSBmYXZvcml0ZXNMaXN0LmluZGV4T2YoaWQpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgZmF2b3JpdGVzTGlzdCA9IGZhdm9yaXRlc0xpc3QuZmlsdGVyKChlKSA9PiBlICE9PSBpZCk7XG4gICAgICAgIHNldEZhdm9yaXRlcyhmYXZvcml0ZXNMaXN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBhc3NpZ25NYXRjaCgpIHtcbiAgICBtYXRjaCA9IGF3YWl0IGdldE1hdGNoKGZhdm9yaXRlc0xpc3QpO1xuICAgIG1hdGNoSW5mbyA9IGF3YWl0IGdldERvZ1Byb2ZpbGVzKFttYXRjaFtcIm1hdGNoXCJdXSk7XG4gIH1cblxuICBvbk1vdW50KGFzeW5jICgpID0+IHtcbiAgICAvLyBQb3B1bGF0ZSBEb2cgQnJlZWQgRHJvcGRvd25cbiAgICB0cnkge1xuICAgICAgc2VhcmNoTG9hZGluZyA9IHRydWU7XG4gICAgICBmYXZvcml0ZXNMaXN0ID0gZ2V0RmF2b3JpdGVzKCk7XG4gICAgICBsZXQgc2V0RGF0YSA9IGF3YWl0IHNldERvZ0RhdGEoZmF2b3JpdGVzTGlzdCk7XG4gICAgICBzZWFyY2hMb2FkaW5nID0gZmFsc2U7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSk7XG48L3NjcmlwdD5cblxuPG1haW4+XG4gIDxIZWFkZXIgLz5cbiAgPGRpdiBjbGFzcz1cImNvcmUtY29udGVudFwiPlxuICAgIDxoMSBjbGFzcz1cInJvd1wiPk15IEZhdm9yaXRlIERvZ3M8L2gxPlxuICAgIDxkaXYgY2xhc3M9XCJyb3cgYWxpZ24tY2VudGVyXCI+XG4gICAgICA8QnV0dG9uIGxhYmVsPVwiR2V0IE15IE1hdGNoXCIgb246Y2xpY2s9e3Nob3dNYXRjaERpYWxvZ30+PC9CdXR0b24+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZhdm9yaXRlcyBtYWluXCI+XG4gICAgICA8ZGl2IC8+XG4gICAgICB7I2lmIHNlYXJjaExvYWRpbmd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXJcIj48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlIGlmIHRvdGFsTnVtYmVyT2ZEb2dzIDwgMX1cbiAgICAgICAgPGRpdiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8aDI+XG4gICAgICAgICAgICBZb3UgaGF2ZW4ndCBmYXZvcml0ZWQgYW55IGRvZ3MgeWV0ISBHbyBiYWNrIHRvIHRoZSBCcm93c2UgcGFnZSBhbmRcbiAgICAgICAgICAgIGNsaWNrIG9uIGEgZG9nIHRvIGZhdm9yaXRlIGl0LlxuICAgICAgICAgIDwvaDI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlIGlmIGRvZ1Byb2ZpbGVzLmxlbmd0aCA+IDB9XG4gICAgICAgIHsjaWYgbmV4dExpbmt9XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBhbGlnbi1yaWdodFwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBsYWJlbD1cIk5leHQgUGFnZVwiIG9uOmNsaWNrPXtuZXh0UGFnZX0+PC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJncmlkLTQtY29sXCI+XG4gICAgICAgICAgeyNrZXkgZG9nUHJvZmlsZXN9XG4gICAgICAgICAgICB7I2VhY2ggZG9nUHJvZmlsZXMgYXMgZG9nfVxuICAgICAgICAgICAgICA8SW5mb0NhcmRcbiAgICAgICAgICAgICAgICB0aXRsZT17ZG9nLm5hbWV9XG4gICAgICAgICAgICAgICAgaW1nU3JjPXtkb2cuaW1nfVxuICAgICAgICAgICAgICAgIGlkPXtkb2cuaWR9XG4gICAgICAgICAgICAgICAgZmF2b3JpdGU9e2Zhdm9yaXRlc0xpc3Q/LmluY2x1ZGVzKGRvZy5pZCl9XG4gICAgICAgICAgICAgICAgb246ZmF2b3JpdGVkPXt1cGRhdGVGYXZvcml0ZXN9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IHNsb3Q9XCJkZXNjcmlwdGlvblNsb3RcIj5cbiAgICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmZvLWxpc3RcIlxuICAgICAgICAgICAgICAgICAgICAgID48ZHQ+QnJlZWQ6PC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGQ+e2RvZy5icmVlZH08L2RkPlxuICAgICAgICAgICAgICAgICAgICAgIDxkdD5BZ2U6PC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGQ+e2RvZy5hZ2V9PC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZHQ+WmlwQ29kZTo8L2R0PlxuICAgICAgICAgICAgICAgICAgICAgIDxkZD57ZG9nLnppcF9jb2RlfTwvZGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvSW5mb0NhcmQ+XG4gICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgey9rZXl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7I2lmIG5leHRMaW5rfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgYWxpZ24tcmlnaHRcIj5cbiAgICAgICAgICAgIDxCdXR0b24gbGFiZWw9XCJOZXh0IFBhZ2VcIiBvbjpjbGljaz17bmV4dFBhZ2V9PjwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7L2lmfVxuICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L21haW4+XG57I2lmIG1hdGNoSW5mb31cbiAgPERpYWxvZ1xuICAgIGlkPVwibWF0Y2hEaWFsb2dcIlxuICAgIG9wZW49e21hdGNoRGlhbG9nT3Blbn1cbiAgICB0aXRsZT17YFlvdXIgTWF0Y2ggaXMuLi4gJHttYXRjaEluZm9bMF0/Lm5hbWV9IWB9XG4gICAgb246ZGlhbG9nQ2xvc2VkPXtoaWRlTWF0Y2hEaWFsb2d9XG4gID5cbiAgICA8ZGl2IHNsb3Q9XCJjb250ZW50U2xvdFwiPlxuICAgICAgPGRpdiBjbGFzcz1cIm1hdGNoXCI+XG4gICAgICAgIHsjaWYgbWF0Y2hJbmZvfVxuICAgICAgICAgIDxJbmZvQ2FyZFxuICAgICAgICAgICAgdGl0bGU9e21hdGNoSW5mb1swXS5uYW1lfVxuICAgICAgICAgICAgaW1nU3JjPXttYXRjaEluZm9bMF0uaW1nfVxuICAgICAgICAgICAgaWQ9e21hdGNoSW5mb1swXS5pZH1cbiAgICAgICAgICAgIGZhdm9yaXRlPXtmYXZvcml0ZXNMaXN0Py5pbmNsdWRlcyhtYXRjaEluZm9bMF0uaWQpfVxuICAgICAgICAgICAgb246ZmF2b3JpdGVkPXt1cGRhdGVGYXZvcml0ZXN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBzbG90PVwiZGVzY3JpcHRpb25TbG90XCI+XG4gICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImluZm8tbGlzdFwiXG4gICAgICAgICAgICAgICAgICA+PGR0PkJyZWVkOjwvZHQ+XG4gICAgICAgICAgICAgICAgICA8ZGQ+e21hdGNoSW5mb1swXS5icmVlZH08L2RkPlxuICAgICAgICAgICAgICAgICAgPGR0PkFnZTo8L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPnttYXRjaEluZm9bMF0uYWdlfTwvZGQ+XG4gICAgICAgICAgICAgICAgICA8ZHQ+WmlwQ29kZTo8L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPnttYXRjaEluZm9bMF0uemlwX2NvZGV9PC9kZD48L3NwYW5cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0luZm9DYXJkPlxuICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgPGgzPlxuICAgICAgICAgICAgV2UgZGlkbid0IGZpbmQgYSBtYXRjaCBmb3IgeW91IHRoaXMgdGltZSEgRmF2b3JpdGUgbW9yZSBkb2dzIGFuZCB0cnlcbiAgICAgICAgICAgIGFnYWluLlxuICAgICAgICAgIDwvaDM+XG4gICAgICAgIHsvaWZ9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9EaWFsb2c+XG57L2lmfVxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IFJvdXRlciBmcm9tIFwic3ZlbHRlLXNwYS1yb3V0ZXJcIjtcbiAgaW1wb3J0IExvZ2luIGZyb20gXCIuL3BhZ2VzL0xvZ2luLnN2ZWx0ZVwiO1xuICBpbXBvcnQgQnJvd3NlIGZyb20gXCIuL3BhZ2VzL0Jyb3dzZS5zdmVsdGVcIjtcbiAgaW1wb3J0IEZhdm9yaXRlcyBmcm9tIFwiLi9wYWdlcy9GYXZvcml0ZXMuc3ZlbHRlXCI7XG5cbiAgY29uc3Qgcm91dGVzID0ge1xuICAgIFwiL2xvZ2luXCI6IExvZ2luLFxuICAgIFwiL2Jyb3dzZVwiOiBCcm93c2UsXG4gICAgXCIvZmF2b3JpdGVzXCI6IEZhdm9yaXRlcyxcbiAgICBcIipcIjogTG9naW4sXG4gIH07XG48L3NjcmlwdD5cblxuPFJvdXRlciB7cm91dGVzfSAvPlxuIiwiaW1wb3J0ICcuL2FwcC5zY3NzJ1xuaW1wb3J0ICcuL3N0eWxlcy9fc2hhcmVkLnNjc3MnXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwLnN2ZWx0ZSdcblxuY29uc3QgYXBwID0gbmV3IEFwcCh7XG4gIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpLFxufSlcblxuZXhwb3J0IGRlZmF1bHQgYXBwXG5cbi8vIGltcG9ydCBSb3V0ZSBmcm9tICcuL3JvdXRlcy9Sb3V0ZXIuc3ZlbHRlJztcblxuLy8gY29uc3QgYXBwID0gbmV3IFJvdXRlKHtcbi8vICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyksXG4vLyB9KVxuXG4iXSwibmFtZXMiOlsibm9vcCIsImFzc2lnbiIsInRhciIsInNyYyIsImsiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJhIiwiYiIsInNyY191cmxfZXF1YWxfYW5jaG9yIiwic3JjX3VybF9lcXVhbCIsImVsZW1lbnRfc3JjIiwidXJsIiwiaXNfZW1wdHkiLCJvYmoiLCJzdWJzY3JpYmUiLCJzdG9yZSIsImNhbGxiYWNrcyIsInVuc3ViIiwiY3JlYXRlX3Nsb3QiLCJkZWZpbml0aW9uIiwiY3R4IiwiJCRzY29wZSIsInNsb3RfY3R4IiwiZ2V0X3Nsb3RfY29udGV4dCIsImdldF9zbG90X2NoYW5nZXMiLCJkaXJ0eSIsImxldHMiLCJtZXJnZWQiLCJsZW4iLCJpIiwidXBkYXRlX3Nsb3RfYmFzZSIsInNsb3QiLCJzbG90X2RlZmluaXRpb24iLCJzbG90X2NoYW5nZXMiLCJnZXRfc2xvdF9jb250ZXh0X2ZuIiwic2xvdF9jb250ZXh0IiwiZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlIiwibGVuZ3RoIiwiYXBwZW5kIiwidGFyZ2V0Iiwibm9kZSIsImluc2VydCIsImFuY2hvciIsImRldGFjaCIsImRlc3Ryb3lfZWFjaCIsIml0ZXJhdGlvbnMiLCJkZXRhY2hpbmciLCJlbGVtZW50IiwibmFtZSIsInRleHQiLCJkYXRhIiwic3BhY2UiLCJlbXB0eSIsImxpc3RlbiIsImV2ZW50IiwiaGFuZGxlciIsIm9wdGlvbnMiLCJwcmV2ZW50X2RlZmF1bHQiLCJhdHRyIiwiYXR0cmlidXRlIiwidmFsdWUiLCJjaGlsZHJlbiIsInNldF9kYXRhIiwiY3VzdG9tX2V2ZW50IiwidHlwZSIsImRldGFpbCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZSIsImNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50IiwiY29tcG9uZW50IiwicHJvcHMiLCJjdXJyZW50X2NvbXBvbmVudCIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImdldF9jdXJyZW50X2NvbXBvbmVudCIsIm9uTW91bnQiLCJhZnRlclVwZGF0ZSIsIm9uRGVzdHJveSIsImNyZWF0ZUV2ZW50RGlzcGF0Y2hlciIsImJ1YmJsZSIsImRpcnR5X2NvbXBvbmVudHMiLCJiaW5kaW5nX2NhbGxiYWNrcyIsInJlbmRlcl9jYWxsYmFja3MiLCJmbHVzaF9jYWxsYmFja3MiLCJyZXNvbHZlZF9wcm9taXNlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsImZsdXNoIiwidGljayIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJzZWVuX2NhbGxiYWNrcyIsImZsdXNoaWR4Iiwic2F2ZWRfY29tcG9uZW50IiwidXBkYXRlIiwiY2FsbGJhY2siLCIkJCIsImZsdXNoX3JlbmRlcl9jYWxsYmFja3MiLCJmaWx0ZXJlZCIsInRhcmdldHMiLCJjIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJjaGVja19vdXRyb3MiLCJ0cmFuc2l0aW9uX2luIiwiYmxvY2siLCJsb2NhbCIsInRyYW5zaXRpb25fb3V0IiwiZ2V0X3NwcmVhZF91cGRhdGUiLCJsZXZlbHMiLCJ1cGRhdGVzIiwidG9fbnVsbF9vdXQiLCJhY2NvdW50ZWRfZm9yIiwibyIsIm4iLCJrZXkiLCJnZXRfc3ByZWFkX29iamVjdCIsInNwcmVhZF9wcm9wcyIsImNyZWF0ZV9jb21wb25lbnQiLCJtb3VudF9jb21wb25lbnQiLCJjdXN0b21FbGVtZW50IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImRlc3Ryb3lfY29tcG9uZW50IiwibWFrZV9kaXJ0eSIsImluaXQiLCJpbnN0YW5jZSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsImFwcGVuZF9zdHlsZXMiLCJwYXJlbnRfY29tcG9uZW50IiwicmVhZHkiLCJyZXQiLCJyZXN0Iiwibm9kZXMiLCJTdmVsdGVDb21wb25lbnQiLCJpbmRleCIsIiQkcHJvcHMiLCJzdWJzY3JpYmVyX3F1ZXVlIiwicmVhZGFibGUiLCJzdGFydCIsIndyaXRhYmxlIiwic3RvcCIsInN1YnNjcmliZXJzIiwic2V0IiwibmV3X3ZhbHVlIiwicnVuX3F1ZXVlIiwic3Vic2NyaWJlciIsImludmFsaWRhdGUiLCJkZXJpdmVkIiwic3RvcmVzIiwiaW5pdGlhbF92YWx1ZSIsInNpbmdsZSIsInN0b3Jlc19hcnJheSIsImF1dG8iLCJzdGFydGVkIiwidmFsdWVzIiwicGVuZGluZyIsImNsZWFudXAiLCJzeW5jIiwicmVzdWx0IiwidW5zdWJzY3JpYmVycyIsInBhcnNlIiwic3RyIiwibG9vc2UiLCJ0bXAiLCJleHQiLCJrZXlzIiwicGF0dGVybiIsImFyciIsInN3aXRjaF9pbnN0YW5jZV9zcHJlYWRfbGV2ZWxzIiwiZ2V0TG9jYXRpb24iLCJoYXNoUG9zaXRpb24iLCJsb2NhdGlvbiIsInFzUG9zaXRpb24iLCJxdWVyeXN0cmluZyIsImxvYyIsIl9sb2MiLCJwYXJhbXMiLCJyZXN0b3JlU2Nyb2xsIiwic3RhdGUiLCJyb3V0ZXMiLCJwcmVmaXgiLCJyZXN0b3JlU2Nyb2xsU3RhdGUiLCJSb3V0ZUl0ZW0iLCJwYXRoIiwibWF0Y2giLCJtYXRjaGVzIiwib3V0Iiwicm91dGVzTGlzdCIsInJvdXRlIiwiY29tcG9uZW50UGFyYW1zIiwiZGlzcGF0Y2giLCJkaXNwYXRjaE5leHRUaWNrIiwicHJldmlvdXNTY3JvbGxTdGF0ZSIsInBvcFN0YXRlQ2hhbmdlZCIsImxhc3RMb2MiLCJjb21wb25lbnRPYmoiLCJ1bnN1YnNjcmliZUxvYyIsIm5ld0xvYyIsIiQkaW52YWxpZGF0ZSIsImxvYWRlZCIsImV4dGVuZFN0YXRpY3MiLCJkIiwicCIsIl9fZXh0ZW5kcyIsIl9fIiwiX19hc3NpZ24iLCJzIiwiX192YWx1ZXMiLCJtIiwiX19yZWFkIiwiciIsImFyIiwiZXJyb3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImwiLCJNRENGb3VuZGF0aW9uIiwiYWRhcHRlciIsIk1EQ0NvbXBvbmVudCIsInJvb3QiLCJmb3VuZGF0aW9uIiwiYXJncyIsIl9pIiwiZXZ0VHlwZSIsImV2dERhdGEiLCJzaG91bGRCdWJibGUiLCJldnQiLCJhcHBseVBhc3NpdmUiLCJnbG9iYWxPYmoiLCJzdXBwb3J0c1Bhc3NpdmVPcHRpb24iLCJwYXNzaXZlU3VwcG9ydGVkIiwiY2xvc2VzdCIsInNlbGVjdG9yIiwiZWwiLCJuYXRpdmVNYXRjaGVzIiwiZXN0aW1hdGVTY3JvbGxXaWR0aCIsImh0bWxFbCIsImNsb25lIiwic2Nyb2xsV2lkdGgiLCJjc3NDbGFzc2VzIiwiTURDRmxvYXRpbmdMYWJlbEZvdW5kYXRpb24iLCJfc3VwZXIiLCJfdGhpcyIsInNob3VsZFNoYWtlIiwiTEFCRUxfU0hBS0UiLCJzaG91bGRGbG9hdCIsIl9hIiwiTEFCRUxfRkxPQVRfQUJPVkUiLCJpc1JlcXVpcmVkIiwiTEFCRUxfUkVRVUlSRUQiLCJNRENGbG9hdGluZ0xhYmVsIiwiY2xhc3NOYW1lIiwiTURDTGluZVJpcHBsZUZvdW5kYXRpb24iLCJ4Q29vcmRpbmF0ZSIsImlzRGVhY3RpdmF0aW5nIiwiTURDTGluZVJpcHBsZSIsInByb3BlcnR5TmFtZSIsInN0cmluZ3MiLCJudW1iZXJzIiwiTURDTm90Y2hlZE91dGxpbmVGb3VuZGF0aW9uIiwibm90Y2hXaWR0aCIsIk9VVExJTkVfTk9UQ0hFRCIsIk1EQ05vdGNoZWRPdXRsaW5lIiwibGFiZWwiLCJ3aWR0aCIsInN1cHBvcnRzQ3NzVmFyaWFibGVzXyIsInN1cHBvcnRzQ3NzVmFyaWFibGVzIiwid2luZG93T2JqIiwiZm9yY2VSZWZyZXNoIiwiQ1NTIiwic3VwcG9ydHNDc3NWYXJzIiwic3VwcG9ydHNGdW5jdGlvblByZXNlbnQiLCJleHBsaWNpdGx5U3VwcG9ydHNDc3NWYXJzIiwid2VBcmVGZWF0dXJlRGV0ZWN0aW5nU2FmYXJpMTBwbHVzIiwiZ2V0Tm9ybWFsaXplZEV2ZW50Q29vcmRzIiwicGFnZU9mZnNldCIsImNsaWVudFJlY3QiLCJ4IiwieSIsImRvY3VtZW50WCIsImRvY3VtZW50WSIsIm5vcm1hbGl6ZWRYIiwibm9ybWFsaXplZFkiLCJ0b3VjaEV2ZW50IiwibW91c2VFdmVudCIsIkFDVElWQVRJT05fRVZFTlRfVFlQRVMiLCJQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFUyIsImFjdGl2YXRlZFRhcmdldHMiLCJNRENSaXBwbGVGb3VuZGF0aW9uIiwic3VwcG9ydHNQcmVzc1JpcHBsZSIsIlJPT1RfMSIsIlVOQk9VTkRFRF8xIiwiUk9PVF8yIiwiVU5CT1VOREVEXzIiLCJ1bmJvdW5kZWQiLCJVTkJPVU5ERUQiLCJlXzEiLCJBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzEiLCJBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzFfMSIsImVfMV8xIiwiZV8yIiwiUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVNfMSIsIlBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzFfMSIsImVfMl8xIiwiZV8zIiwiQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yIiwiQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEiLCJlXzNfMSIsImVfNCIsIlBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTXzIiLCJQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFU18yXzEiLCJlXzRfMSIsInJpcHBsZVN0cmluZ3MiLCJhY3RpdmF0aW9uU3RhdGUiLCJwcmV2aW91c0FjdGl2YXRpb25FdmVudCIsImlzU2FtZUludGVyYWN0aW9uIiwiaGFzQWN0aXZhdGVkQ2hpbGQiLCJWQVJfRkdfVFJBTlNMQVRFX1NUQVJUIiwiVkFSX0ZHX1RSQU5TTEFURV9FTkQiLCJfYiIsIkZHX0RFQUNUSVZBVElPTiIsIkZHX0FDVElWQVRJT04iLCJERUFDVElWQVRJT05fVElNRU9VVF9NUyIsInRyYW5zbGF0ZVN0YXJ0IiwidHJhbnNsYXRlRW5kIiwiX2MiLCJzdGFydFBvaW50IiwiZW5kUG9pbnQiLCJhY3RpdmF0aW9uRXZlbnQiLCJ3YXNBY3RpdmF0ZWRCeVBvaW50ZXIiLCJoYXNEZWFjdGl2YXRpb25VWFJ1biIsImlzQWN0aXZhdGVkIiwiYWN0aXZhdGlvbkhhc0VuZGVkIiwid2FzRWxlbWVudE1hZGVBY3RpdmUiLCJtYXhEaW0iLCJnZXRCb3VuZGVkUmFkaXVzIiwiaHlwb3RlbnVzZSIsImluaXRpYWxTaXplIiwiVkFSX0ZHX1NJWkUiLCJWQVJfTEVGVCIsIlZBUl9UT1AiLCJWQVJfRkdfU0NBTEUiLCJNRENSaXBwbGUiLCJvcHRzIiwicmlwcGxlIiwidXRpbC5zdXBwb3J0c0Nzc1ZhcmlhYmxlcyIsInZhck5hbWUiLCJNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyRm91bmRhdGlvbiIsImN1cnJlbnRMZW5ndGgiLCJtYXhMZW5ndGgiLCJNRENUZXh0RmllbGRDaGFyYWN0ZXJDb3VudGVyIiwiY29udGVudCIsIlZBTElEQVRJT05fQVRUUl9XSElURUxJU1QiLCJBTFdBWVNfRkxPQVRfVFlQRVMiLCJQT0lOVEVSRE9XTl9FVkVOVFMiLCJJTlRFUkFDVElPTl9FVkVOVFMiLCJNRENUZXh0RmllbGRGb3VuZGF0aW9uIiwiZm91bmRhdGlvbk1hcCIsImF0dHJpYnV0ZXNMaXN0IiwiUE9JTlRFUkRPV05fRVZFTlRTXzEiLCJQT0lOVEVSRE9XTl9FVkVOVFNfMV8xIiwiSU5URVJBQ1RJT05fRVZFTlRTXzEiLCJJTlRFUkFDVElPTl9FVkVOVFNfMV8xIiwiUE9JTlRFUkRPV05fRVZFTlRTXzIiLCJQT0lOVEVSRE9XTl9FVkVOVFNfMl8xIiwiSU5URVJBQ1RJT05fRVZFTlRTXzIiLCJJTlRFUkFDVElPTl9FVkVOVFNfMl8xIiwibmF0aXZlSW5wdXQiLCJhdHRyaWJ1dGVOYW1lIiwib3Blbk5vdGNoIiwibGFiZWxXaWR0aCIsInRvdWNoZXMiLCJ0YXJnZXRFdmVudCIsInRhcmdldENsaWVudFJlY3QiLCJpc1ZhbGlkIiwic2hvdWxkVmFsaWRhdGUiLCJ1c2VOYXRpdmVWYWxpZGF0aW9uIiwiZGlzYWJsZWQiLCJJTlZBTElEIiwiaGVscGVyVGV4dFZhbGlkYXRpb24iLCJoZWxwZXJUZXh0VmlzaWJsZSIsImhlbHBlclRleHRJZCIsImlzRm9jdXNlZCIsIkZPQ1VTRUQiLCJpc0Rpc2FibGVkIiwiRElTQUJMRUQiLCJpc0Zsb2F0aW5nIiwiTEFCRUxfRkxPQVRJTkciLCJNRENUZXh0RmllbGRIZWxwZXJUZXh0Rm91bmRhdGlvbiIsImlzUGVyc2lzdGVudCIsImlzVmFsaWRhdGlvbiIsImlucHV0SXNWYWxpZCIsImhlbHBlclRleHRJc1BlcnNpc3RlbnQiLCJoZWxwZXJUZXh0SXNWYWxpZGF0aW9uTXNnIiwidmFsaWRhdGlvbk1zZ05lZWRzRGlzcGxheSIsIk1EQ1RleHRGaWVsZEhlbHBlclRleHQiLCJNRENUZXh0RmllbGRJY29uRm91bmRhdGlvbiIsImlzRW50ZXJLZXkiLCJNRENUZXh0RmllbGRJY29uIiwiTURDVGV4dEZpZWxkIiwicmlwcGxlRmFjdG9yeSIsImxpbmVSaXBwbGVGYWN0b3J5IiwiaGVscGVyVGV4dEZhY3RvcnkiLCJjaGFyYWN0ZXJDb3VudGVyRmFjdG9yeSIsImljb25GYWN0b3J5IiwibGFiZWxGYWN0b3J5Iiwib3V0bGluZUZhY3RvcnkiLCJsYWJlbEVsZW1lbnQiLCJsaW5lUmlwcGxlRWxlbWVudCIsIm91dGxpbmVFbGVtZW50IiwiaGVscGVyVGV4dFN0cmluZ3MiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJoYXNIZWxwZXJMaW5lIiwiaGVscGVyVGV4dEVsIiwiY2hhcmFjdGVyQ291bnRlclN0cmluZ3MiLCJjaGFyYWN0ZXJDb3VudGVyRWwiLCJsZWFkaW5nSWNvbkVsIiwidHJhaWxpbmdJY29uRWwiLCJ2YWxpZCIsInJlcXVpcmVkIiwibWluTGVuZ3RoIiwibWluIiwibWF4Iiwic3RlcCIsInByZWZpeFRleHQiLCJzdWZmaXhUZXh0IiwiZ2V0QXR0cmlidXRlc0xpc3QiLCJtdXRhdGlvbnNMaXN0IiwibXV0YXRpb24iLCJvYnNlcnZlciIsImNvbmZpZyIsImlzVGV4dEFyZWEiLCJpc091dGxpbmVkIiwicG9ueWZpbGwubWF0Y2hlcyIsImxhYmVsXzEiLCJzcGFuNCIsInNwYW4wIiwic3BhbjIiLCJzcGFuMSIsInNwYW4zIiwiaW5wdXQiLCJpZCIsInZhbHVlQ2hhbmdlZCIsIm5ld1ZhbHVlIiwiZGl2IiwiYnV0dG9uIiwidGhlbWUiLCJvbkNsaWNrIiwiQ29ybmVyQml0IiwiQ29ybmVyIiwiZXZvbHV0aW9uQ2xhc3NOYW1lTWFwIiwiZGVwcmVjYXRlZENsYXNzTmFtZU1hcCIsImV2b2x1dGlvbkF0dHJpYnV0ZSIsIktFWSIsIm5vcm1hbGl6ZWRLZXlzIiwiS0VZX0NPREUiLCJtYXBwZWRLZXlDb2RlcyIsIm5hdmlnYXRpb25LZXlzIiwibm9ybWFsaXplS2V5IiwibWFwcGVkS2V5IiwiRUxFTUVOVFNfS0VZX0FMTE9XRURfSU4iLCJwcmV2ZW50RGVmYXVsdEV2ZW50IiwidGFnTmFtZSIsImluaXRTdGF0ZSIsImluaXRTb3J0ZWRJbmRleCIsImxpc3RJdGVtQ291bnQiLCJnZXRQcmltYXJ5VGV4dEJ5SXRlbUluZGV4Iiwic29ydGVkSW5kZXhCeUZpcnN0Q2hhciIsInByaW1hcnlUZXh0IiwiZmlyc3RDaGFyIiwiZmlyc3QiLCJzZWNvbmQiLCJtYXRjaEl0ZW0iLCJuZXh0Q2hhciIsImZvY3VzSXRlbUF0SW5kZXgiLCJmb2N1c2VkSXRlbUluZGV4Iiwic2tpcEZvY3VzIiwiaXNJdGVtQXRJbmRleERpc2FibGVkIiwiY2xlYXJCdWZmZXIiLCJtYXRjaEZpcnN0Q2hhciIsIm1hdGNoQWxsQ2hhcnMiLCJpdGVtc01hdGNoaW5nRmlyc3RDaGFyIiwibmV3SW5kZXgiLCJuZXdDdXJzb3JQb3NpdGlvbiIsImN1cnNvclBvc2l0aW9uIiwic3RhcnRpbmdJdGVtIiwibmV4dEN1cnNvclBvc2l0aW9uIiwiY3VycmVudEl0ZW0iLCJpc0VuYWJsZWQiLCJpc1R5cGluZ0luUHJvZ3Jlc3MiLCJoYW5kbGVLZXlkb3duIiwiaXNUYXJnZXRMaXN0SXRlbSIsImlzQXJyb3dMZWZ0IiwiaXNBcnJvd1VwIiwiaXNBcnJvd1JpZ2h0IiwiaXNBcnJvd0Rvd24iLCJpc0hvbWUiLCJpc0VuZCIsImlzRW50ZXIiLCJpc1NwYWNlIiwiaXNDaGFyYWN0ZXJLZXkiLCJtYXRjaEl0ZW1PcHRzIiwidHlwZWFoZWFkT25MaXN0SXRlbSIsImlzTnVtYmVyQXJyYXkiLCJzZWxlY3RlZEluZGV4IiwiaGFuZGxlZE1vZGlmaWVyS2V5cyIsImNyZWF0ZU1vZGlmaWVyQ2hlY2tlciIsImV2ZW50TW9kaWZpZXJzIiwibW9kaWZpZXJzIiwiTURDTGlzdEZvdW5kYXRpb24iLCJ0eXBlYWhlYWQuaW5pdFN0YXRlIiwic2VsZWN0ZWRJdGVtSW5kZXgiLCJoYXNBY3RpdmF0ZWRDbGFzcyIsImxpc3RJdGVtc0NvdW50IiwiaGFzU2VsZWN0ZWRDbGFzcyIsImhhc1R5cGVhaGVhZCIsInR5cGVhaGVhZC5pc1R5cGluZ0luUHJvZ3Jlc3MiLCJ1c2VBY3RpdmF0ZWQiLCJ1c2VTZWxlY3RlZCIsImxpc3RJdGVtSW5kZXgiLCJpc1Jvb3RMaXN0SXRlbSIsImlzRm9yd2FyZCIsImlzQmFjayIsImlzTGV0dGVyQSIsImV2ZW50SGFzTW9kaWZpZXJzIiwiZm9jdXNlZEluZGV4IiwiaGFuZGxlS2V5ZG93bk9wdHMiLCJ0eXBlYWhlYWQuaGFuZGxlS2V5ZG93biIsImN1cnJlbnRJbmRleCIsImlzQ2hlY2tib3hBbHJlYWR5VXBkYXRlZEluQWRhcHRlciIsImNvdW50IiwibmV4dEluZGV4IiwiZmlyc3RDaGVja2VkIiwicHJldkluZGV4IiwiaW5pdGlhbEluZGV4IiwiaXRlbUluZGV4Iiwic2VsZWN0ZWRDbGFzc05hbWUiLCJpc0FyaWFDdXJyZW50IiwiYXJpYUF0dHJpYnV0ZSIsImFyaWFBdHRyaWJ1dGVWYWx1ZSIsInNlbGVjdGlvbkF0dHJpYnV0ZSIsImN1cnJlbnRseVNlbGVjdGVkIiwiY2hhbmdlZEluZGljZXMiLCJwcmV2aW91c0lzQ2hlY2tlZCIsIm5ld0lzQ2hlY2tlZCIsImZyb21JbmRleCIsInRvSW5kZXgiLCJ0b2dnbGVJbmRleCIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInRhcmdldEluZGV4IiwibWluSW5kZXgiLCJ2YWxpZGF0ZUxpc3RUeXBlIiwibGlzdFNpemUiLCJhZGFwdGVySXNDaGVja2VkIiwibmV3Q2hlY2tlZFZhbHVlIiwic2VsZWN0ZWRJbmRleGVzIiwiY3VycmVudGx5U2VsZWN0ZWRJbmRleGVzIiwiaXNVc2VySW50ZXJhY3Rpb24iLCJhbGxJbmRleGVzIiwic3RhcnRpbmdJbmRleCIsInR5cGVhaGVhZC5tYXRjaEl0ZW0iLCJ0eXBlYWhlYWQuaW5pdFNvcnRlZEluZGV4IiwidHlwZWFoZWFkLmNsZWFyQnVmZmVyIiwiTURDTGlzdCIsImlzU2luZ2xlU2VsZWN0aW9uTGlzdCIsImFyZURpc2FibGVkSXRlbXNGb2N1c2FibGUiLCJkaXJlY3Rpb24iLCJpdGVtU2VsZWN0b3IiLCJjaGlsZFNlbGVjdG9yIiwiaXRlbUVscyIsImZvY3VzYWJsZUNoaWxkRWxzIiwiaXRlbSIsInNpbmdsZUxpbmVUZXh0Iiwic2VsZWN0aW9uIiwibGlzdEl0ZW0iLCJjaGVja2JveExpc3RJdGVtcyIsInJhZGlvU2VsZWN0ZWRMaXN0SXRlbSIsInByZXNlbGVjdGVkSXRlbXMiLCJ0b2dnbGVFbCIsImlzQ2hlY2tlZCIsInRhYkluZGV4VmFsdWUiLCJuZWFyZXN0UGFyZW50IiwidG9nZ2xlQ2hlY2tib3giLCJNRENNZW51U3VyZmFjZUZvdW5kYXRpb24iLCJST09UIiwiT1BFTiIsImNvcm5lciIsIm1hcmdpbiIsImlzSG9pc3RlZCIsImlzRml4ZWRQb3NpdGlvbiIsImlzQ2VudGVyZWQiLCJxdWlja09wZW4iLCJtYXhIZWlnaHQiLCJiaWFzIiwic2tpcFJlc3RvcmVGb2N1cyIsImtleUNvZGUiLCJpc0VzY2FwZSIsIm1heE1lbnVTdXJmYWNlSGVpZ2h0IiwidmVydGljYWxBbGlnbm1lbnQiLCJob3Jpem9udGFsQWxpZ25tZW50IiwiaG9yaXpvbnRhbE9mZnNldCIsInZlcnRpY2FsT2Zmc2V0IiwiYW5jaG9yU2l6ZSIsInN1cmZhY2VTaXplIiwicG9zaXRpb24iLCJhbmNob3JSZWN0IiwiYm9keVNpemUiLCJ2aWV3cG9ydFNpemUiLCJ3aW5kb3dTY3JvbGwiLCJ2aWV3cG9ydERpc3RhbmNlIiwiTUFSR0lOX1RPX0VER0UiLCJpc0FuY2hvcmVkVG9Cb3R0b20iLCJhdmFpbGFibGVUb3AiLCJhdmFpbGFibGVCb3R0b20iLCJpc0F2YWlsYWJsZUJvdHRvbSIsImlzUnRsIiwiaXNGbGlwUnRsIiwiaGFzUmlnaHRCaXQiLCJpc0FuY2hvcmVkVG9SaWdodCIsImF2YWlsYWJsZUxlZnQiLCJhdmFpbGFibGVSaWdodCIsImlzQXZhaWxhYmxlTGVmdCIsImlzQXZhaWxhYmxlUmlnaHQiLCJpc09yaWdpbkNvcm5lckFsaWduZWRUb0VuZCIsImlzQm90dG9tQWxpZ25lZCIsImlzQm90dG9tQW5jaG9yZWQiLCJpc1JpZ2h0QWxpZ25lZCIsImF2b2lkSG9yaXpvbnRhbE92ZXJsYXAiLCJyaWdodE9mZnNldCIsImF2b2lkVmVydGljYWxPdmVybGFwIiwicHJvcHNfMSIsInByb3BzXzFfMSIsInByb3AiLCJpc1Jvb3RGb2N1c2VkIiwib3duZXJEb2N1bWVudCIsImNoaWxkSGFzRm9jdXMiLCJiaXQiLCJudW0iLCJjc3NQcm9wZXJ0eU5hbWVNYXAiLCJpc1dpbmRvdyIsImdldENvcnJlY3RQcm9wZXJ0eU5hbWUiLCJjc3NQcm9wZXJ0eSIsInN0YW5kYXJkIiwicHJlZml4ZWQiLCJpc1N0YW5kYXJkIiwiTURDTWVudVN1cmZhY2UiLCJwYXJlbnRFbCIsImlzRml4ZWQiLCJvcmlnaW4iLCJyb290SFRNTCIsImhlaWdodCIsIkRlZmF1bHRGb2N1c1N0YXRlIiwiTURDTWVudUZvdW5kYXRpb24iLCJpc1RhYiIsInJlY29tcHV0ZWRJbmRleCIsImZvY3VzU3RhdGUiLCJwcmV2U2VsZWN0ZWRJbmRleCIsImxpc3RDc3NDbGFzc2VzIiwibWVudVNpemUiLCJpc0luZGV4SW5SYW5nZSIsIk1EQ01lbnUiLCJtZW51U3VyZmFjZUZhY3RvcnkiLCJsaXN0RmFjdG9yeSIsImxpc3QiLCJzaW5nbGVTZWxlY3Rpb24iLCJsaXN0Q29uc3RhbnRzIiwiaXRlbXMiLCJzZWxlY3Rpb25Hcm91cEVsIiwic2VsZWN0ZWRJdGVtRWwiLCJNRENTZWxlY3RGb3VuZGF0aW9uIiwiY2xvc2VNZW51Iiwic2tpcE5vdGlmeSIsIm1lbnVJdGVtVmFsdWVzIiwib3B0aW9uSGFzVmFsdWUiLCJzaG91bGRGbG9hdEFuZE5vdGNoIiwiZm9jdXNJdGVtSW5kZXgiLCJhcnJvd1VwIiwiYXJyb3dEb3duIiwiaXNNb2RpZmllciIsInR5cGVhaGVhZE5leHRJbmRleCIsImxhYmVsU2NhbGUiLCJ1c2VEZWZhdWx0VmFsaWRhdGlvbiIsImFuY2hvckVsIiwiTURDU2VsZWN0SGVscGVyVGV4dEZvdW5kYXRpb24iLCJzZWxlY3RJc1ZhbGlkIiwiaXNWYWxpZGF0aW9uTXNnIiwiaXNQZXJzaXN0ZW50VmFsaWRhdGlvbk1zZyIsIm1zZ1Nob3VsZERpc3BsYXkiLCJNRENTZWxlY3RIZWxwZXJUZXh0IiwiTURDU2VsZWN0SWNvbkZvdW5kYXRpb24iLCJNRENTZWxlY3RJY29uIiwiTURDU2VsZWN0IiwibWVudUZhY3RvcnkiLCJoZWxwZXJUZXh0RWxlbWVudCIsImxlYWRpbmdJY29uIiwibWVudVN1cmZhY2VDb25zdGFudHMuc3RyaW5ncyIsIm1lbnVDb25zdGFudHMuc3RyaW5ncyIsIm1lbnVJdGVtIiwiYW5jaG9yQ29ybmVyIiwid3JhcEZvY3VzIiwibGkiLCJsaV9jbGFzc192YWx1ZSIsImxpX2FyaWFfc2VsZWN0ZWRfdmFsdWUiLCJ0MSIsInQxX3ZhbHVlIiwiZGl2MiIsImRpdjAiLCJzcGFuNiIsInNwYW43IiwiZGl2MSIsInVsIiwic2VsZWN0ZWRJZCIsIm9wdGlvbiIsImZldGNoR2V0IiwidGltZW91dE1zIiwiY2F0Y2hGdW5jIiwiZGVmYXVsdENhdGNoIiwicmVzcG9uc2UiLCJjb250cm9sbGVyIiwicGFyc2VkUmVzcG9uc2UiLCJmZXRjaFBvc3QiLCJqc29uUmVzcG9uc2UiLCJiYXNlVXJsIiwibG9naW4iLCJlbWFpbCIsImJvZHkiLCJsb2dvdXQiLCJnZXRCcmVlZHMiLCJnZXREb2dJZHMiLCJicmVlZHMiLCJ6aXBDb2RlcyIsImFnZU1pbiIsImFnZU1heCIsInNpemUiLCJzb3J0RmllbGQiLCJzb3J0RGlyIiwiZ2V0RG9nUHJvZmlsZXMiLCJpZHMiLCJnZXROZXh0IiwidXJsSW4iLCJnZXRNYXRjaCIsImZhdm9yaXRlSWRzIiwibWFpbiIsImRpdjMiLCJoMSIsImZvcm0iLCJ1cGRhdGVOYW1lIiwidXBkYXRlRW1haWwiLCJzdWJtaXRMb2dpbiIsInN1Y2Nlc3NmdWxMb2dpbiIsImxvZ2luRnVuYyIsImdldEZhdm9yaXRlcyIsInNldEZhdm9yaXRlcyIsImZhdm9yaXRlcyIsInBhcnNlUXVlcnlTdHJpbmciLCJxdWVyeVN0cmluZyIsInF1ZXJ5Iiwic3BhbiIsImNyZWF0ZV9pZl9ibG9jayIsImltZyIsImltZ19zcmNfdmFsdWUiLCJkaXY1IiwiZGl2NCIsImgzIiwidGl0bGUiLCJpbWdTcmMiLCJmYXZvcml0ZSIsImZhdm9yaXRlZCIsImhyZWYiLCJ0Ml92YWx1ZSIsImJ1dHRvbl9pZF92YWx1ZSIsInQyIiwidG9nZ2xlT3B0aW9ucyIsInNlbGVjdGVkVG9nZ2xlSWQiLCJwcmV2aW91c1NlbGVjdGVkVG9nZ2xlSWQiLCJzb3J0QXNjIiwidG9nZ2xlQ2xpY2tlZCIsImhlYWRlciIsImNyZWF0ZV9pZl9ibG9ja180IiwiY3JlYXRlX2lmX2Jsb2NrXzMiLCJoMiIsInQ2X3ZhbHVlIiwidDEwX3ZhbHVlIiwiZGwiLCJkdDAiLCJkZDAiLCJkdDEiLCJkZDEiLCJkdDIiLCJkZDIiLCJ0NiIsInQxMCIsImluZm9jYXJkX2NoYW5nZXMiLCJlYWNoX2Jsb2NrcyIsImFzaWRlIiwidDUiLCJ0NV92YWx1ZSIsImRvZ0JyZWVkcyIsImRvZ0lkcyIsImRvZ1Byb2ZpbGVzIiwibmV4dExpbmsiLCJicmVlZCIsInppcENvZGUiLCJhZ2VzIiwidG90YWxOdW1iZXJPZkRvZ3MiLCJmYXZvcml0ZXNMaXN0IiwiZXJyb3JNZXNzYWdlIiwic2VhcmNoTG9hZGluZyIsInNlYXJjaCIsImRvZ0lkc1Jlc3VsdCIsInNldERvZ0RhdGEiLCJ1cGRhdGVaaXBDb2RlIiwidXBkYXRlQnJlZWQiLCJ1cGRhdGVNaW5BZ2UiLCJ1cGRhdGVNYXhBZ2UiLCJ1cGRhdGVTb3J0IiwidXBkYXRlRmF2b3JpdGVzIiwiYWRkRmF2b3JpdGUiLCJuZXh0UGFnZSIsIm5leHRSZXN1bHQiLCJjcmVhdGVGb2N1c1RyYXBJbnN0YW5jZSIsInN1cmZhY2VFbCIsImZvY3VzVHJhcEZhY3RvcnkiLCJpbml0aWFsRm9jdXNFbCIsImlzU2Nyb2xsYWJsZSIsImlzU2Nyb2xsQXRUb3AiLCJpc1Njcm9sbEF0Qm90dG9tIiwiYXJlVG9wc01pc2FsaWduZWQiLCJlbHMiLCJ0b3BzIiwiRk9DVVNfU0VOVElORUxfQ0xBU1MiLCJGb2N1c1RyYXAiLCJmb2N1c2FibGVFbHMiLCJzZW50aW5lbEVsIiwic2VudGluZWxTdGFydCIsInNlbnRpbmVsRW5kIiwiZm9jdXNJbmRleCIsImlzRGlzYWJsZWRPckhpZGRlbiIsImlzVGFiYmFibGVBbmRWaXNpYmxlIiwiaXNQcm9ncmFtbWF0aWNhbGx5SGlkZGVuIiwic3R5bGUiLCJzZW50aW5lbCIsIkFuaW1hdGlvbkZyYW1lIiwiZnJhbWVJRCIsImZyYW1lIiwicmFmSUQiLCJfIiwicXVldWUiLCJBbmltYXRpb25LZXlzIiwiTURDRGlhbG9nRm91bmRhdGlvbiIsImRpYWxvZ09wdGlvbnMiLCJhY3Rpb24iLCJhdXRvU3RhY2siLCJpc1NjcmltIiwiaXNEZWZhdWx0IiwiYXJlQnV0dG9uc1N0YWNrZWQiLCJNRENEaWFsb2ciLCJmb2N1c09wdGlvbnMiLCJjb250YWluZXIiLCJidXR0b25FbCIsInV0aWwuY3JlYXRlRm9jdXNUcmFwSW5zdGFuY2UiLCJ1dGlsLmFyZVRvcHNNaXNhbGlnbmVkIiwidXRpbC5pc1Njcm9sbGFibGUiLCJ1dGlsLmlzU2Nyb2xsQXRUb3AiLCJ1dGlsLmlzU2Nyb2xsQXRCb3R0b20iLCJkaXY3IiwiYnV0dG9uMCIsImRpdjYiLCJvcGVuIiwiZGlhbG9nIiwibWF0Y2hJbmZvIiwibWF0Y2hEaWFsb2dPcGVuIiwic2hvd01hdGNoRGlhbG9nIiwiYXNzaWduTWF0Y2giLCJoaWRlTWF0Y2hEaWFsb2ciLCJzZXREYXRhIiwiTG9naW4iLCJCcm93c2UiLCJGYXZvcml0ZXMiLCJBcHAiXSwibWFwcGluZ3MiOiJzc0JBQUEsU0FBU0EsR0FBTyxDQUFHLENBRW5CLFNBQVNDLEdBQU9DLEVBQUtDLEVBQUssQ0FFdEIsVUFBV0MsS0FBS0QsRUFDWkQsRUFBSUUsQ0FBQyxFQUFJRCxFQUFJQyxDQUFDLEVBQ2xCLE9BQU9GLENBQ1gsQ0FXQSxTQUFTRyxHQUFJQyxFQUFJLENBQ2IsT0FBT0EsRUFBRSxDQUNiLENBQ0EsU0FBU0MsSUFBZSxDQUNwQixPQUFPLE9BQU8sT0FBTyxJQUFJLENBQzdCLENBQ0EsU0FBU0MsR0FBUUMsRUFBSyxDQUNsQkEsRUFBSSxRQUFRSixFQUFHLENBQ25CLENBQ0EsU0FBU0ssR0FBWUMsRUFBTyxDQUN4QixPQUFPLE9BQU9BLEdBQVUsVUFDNUIsQ0FDQSxTQUFTQyxHQUFlQyxFQUFHQyxFQUFHLENBQzFCLE9BQU9ELEdBQUtBLEVBQUlDLEdBQUtBLEVBQUlELElBQU1DLEdBQU9ELEdBQUssT0FBT0EsR0FBTSxVQUFhLE9BQU9BLEdBQU0sVUFDdEYsQ0FDQSxJQUFJRSxHQUNKLFNBQVNDLEdBQWNDLEVBQWFDLEVBQUssQ0FDckMsT0FBS0gsS0FDREEsR0FBdUIsU0FBUyxjQUFjLEdBQUcsR0FFckRBLEdBQXFCLEtBQU9HLEVBQ3JCRCxJQUFnQkYsR0FBcUIsSUFDaEQsQ0FJQSxTQUFTSSxHQUFTQyxFQUFLLENBQ25CLE9BQU8sT0FBTyxLQUFLQSxDQUFHLEVBQUUsU0FBVyxDQUN2QyxDQU1BLFNBQVNDLEdBQVVDLEtBQVVDLEVBQVcsQ0FDcEMsR0FBSUQsR0FBUyxLQUNULE9BQU90QixFQUVYLE1BQU13QixFQUFRRixFQUFNLFVBQVUsR0FBR0MsQ0FBUyxFQUMxQyxPQUFPQyxFQUFNLFlBQWMsSUFBTUEsRUFBTSxZQUFXLEVBQUtBLENBQzNELENBU0EsU0FB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QUFPLElBQUksTUFBTSxDQUFBLEVBR3RDLElBQUFLLEVBQW9CLEtBQ3BCQyxFQUFBLENBQUEsRUFDQWhuQixFQUFRLEtBQ1JpckIsRUFBWSxLQUNaQyxFQUFrQixHQUNsQmhFLEVBQWdCLEdBbUNMLGVBQUFHLEVBQVcvb0IsRUFBQSxLQUN4QnlvQixFQUFvQnpvQixFQUFPLE1BQUEsTUFDM0Jvb0IsRUFBQSxNQUFvQi9ELEdBQWVya0IsQ0FBTSxDQUFBLGlCQUc1QjZzQixHQUFBLE9BQ1BDLEVBQUEsRUFDTnRxQixFQUFBLEVBQUFvcUIsRUFBa0IsRUFBQSxXQUdYRyxHQUFBLENBQ1B2cUIsRUFBQSxFQUFBb3FCLEVBQWtCLEVBQUEsaUJBR0xyRCxHQUFBLEVBY04sU0FBQUYsRUFBZ0JsdkIsRUFBQSxDQUNuQixJQUFBbXZCLEVBQWNudkIsRUFBRSxPQUFPLFNBQ3ZCMFgsRUFBSzFYLEVBQUUsT0FBTyxHQUVkbXZCLEdBQ0ZaLEVBQWMsS0FBSzdXLENBQUUsRUFDckJ3VCxHQUFhcUQsQ0FBYSxHQUVaQSxFQUFjLFFBQVE3VyxDQUFFLFdBRXBDNlcsRUFBZ0JBLEVBQWMsT0FBUXZ1QixHQUFNQSxJQUFNMFgsQ0FBRSxDQUFBLEVBQ3BEd1QsR0FBYXFELENBQWEsa0JBS2pCb0UsR0FBQSxDQUNicHJCLEVBQUEsTUFBYytpQixHQUFTaUUsQ0FBYSxFQUNwQ2xtQixFQUFBLEVBQUFtcUIsRUFBa0IsTUFBQXRJLEdBQWdCLENBQUEzaUIsRUFBTSxLQUFPLENBQUEsQ0FBQSxFQUdqRCxPQUFBaEgsR0FBQSxTQUFBLEtBR0k4SCxFQUFBLEVBQUFvbUIsRUFBZ0IsRUFBQSxFQUNoQnBtQixFQUFBLEVBQUFrbUIsRUFBZ0J0RCxHQUFBLENBQUEsTUFDWjRILEVBQUEsTUFBZ0JqRSxFQUFXTCxDQUFhLEVBQzVDbG1CLEVBQUEsRUFBQW9tQixFQUFnQixFQUFBLE9BQ1Qsa1RDN0hMLENBQ0osU0FBVXFFLEdBQ1YsVUFBV0MsR0FDWCxhQUFjQyxHQUNkLElBQUtGLHdFQ05HLElBQUlHLEdBQUksQ0FDbEIsT0FBUSxTQUFTLGVBQWUsS0FBSyxDQUN2QyxDQUFDIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNzAsNzEsNzIsNzMsNzQsNzVdfQ==
